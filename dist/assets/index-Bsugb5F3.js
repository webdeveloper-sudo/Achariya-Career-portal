(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var zg={exports:{}},fc={};var Wb;function IC(){if(Wb)return fc;Wb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return fc.Fragment=e,fc.jsx=t,fc.jsxs=t,fc}var Zb;function RC(){return Zb||(Zb=1,zg.exports=IC()),zg.exports}var _=RC(),qg={exports:{}},Ce={};var eT;function CC(){if(eT)return Ce;eT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),w=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function W(V,se,me){this.props=V,this.context=se,this.refs=j,this.updater=me||P}W.prototype.isReactComponent={},W.prototype.setState=function(V,se){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,se,"setState")},W.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=W.prototype;function Q(V,se,me){this.props=V,this.context=se,this.refs=j,this.updater=me||P}var ue=Q.prototype=new ne;ue.constructor=Q,L(ue,W.prototype),ue.isPureReactComponent=!0;var pe=Array.isArray;function ee(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(V,se,me){var ye=me.ref;return{$$typeof:r,type:V,key:se,ref:ye!==void 0?ye:null,props:me}}function k(V,se){return C(V.type,se,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var se={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(me){return se[me]})}var N=/\/+/g;function nt(V,se){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):se.toString(36)}function le(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ee,ee):(V.status="pending",V.then(function(se){V.status==="pending"&&(V.status="fulfilled",V.value=se)},function(se){V.status==="pending"&&(V.status="rejected",V.reason=se)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,se,me,ye,Ie){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var je=!1;if(V===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(V.$$typeof){case r:case e:je=!0;break;case v:return je=V._init,X(je(V._payload),se,me,ye,Ie)}}if(je)return Ie=Ie(V),je=ye===""?"."+nt(V,0):ye,pe(Ie)?(me="",je!=null&&(me=je.replace(N,"$&/")+"/"),X(Ie,se,me,"",function(yi){return yi})):Ie!=null&&(O(Ie)&&(Ie=k(Ie,me+(Ie.key==null||V&&V.key===Ie.key?"":(""+Ie.key).replace(N,"$&/")+"/")+je)),se.push(Ie)),1;je=0;var Vt=ye===""?".":ye+":";if(pe(V))for(var gt=0;gt<V.length;gt++)ye=V[gt],Re=Vt+nt(ye,gt),je+=X(ye,se,me,Re,Ie);else if(gt=x(V),typeof gt=="function")for(V=gt.call(V),gt=0;!(ye=V.next()).done;)ye=ye.value,Re=Vt+nt(ye,gt++),je+=X(ye,se,me,Re,Ie);else if(Re==="object"){if(typeof V.then=="function")return X(le(V),se,me,ye,Ie);throw se=String(V),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return je}function fe(V,se,me){if(V==null)return V;var ye=[],Ie=0;return X(V,ye,"","",function(Re){return se.call(me,Re,Ie++)}),ye}function Te(V){if(V._status===-1){var se=V._result;se=se(),se.then(function(me){(V._status===0||V._status===-1)&&(V._status=1,V._result=me)},function(me){(V._status===0||V._status===-1)&&(V._status=2,V._result=me)}),V._status===-1&&(V._status=0,V._result=se)}if(V._status===1)return V._result.default;throw V._result}var ze=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Je={map:fe,forEach:function(V,se,me){fe(V,function(){se.apply(this,arguments)},me)},count:function(V){var se=0;return fe(V,function(){se++}),se},toArray:function(V){return fe(V,function(se){return se})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ce.Activity=E,Ce.Children=Je,Ce.Component=W,Ce.Fragment=t,Ce.Profiler=a,Ce.PureComponent=Q,Ce.StrictMode=i,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(V,se,me){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ye=L({},V.props),Ie=V.key;if(se!=null)for(Re in se.key!==void 0&&(Ie=""+se.key),se)!I.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(ye[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)ye.children=me;else if(1<Re){for(var je=Array(Re),Vt=0;Vt<Re;Vt++)je[Vt]=arguments[Vt+2];ye.children=je}return C(V.type,Ie,ye)},Ce.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ce.createElement=function(V,se,me){var ye,Ie={},Re=null;if(se!=null)for(ye in se.key!==void 0&&(Re=""+se.key),se)I.call(se,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Ie[ye]=se[ye]);var je=arguments.length-2;if(je===1)Ie.children=me;else if(1<je){for(var Vt=Array(je),gt=0;gt<je;gt++)Vt[gt]=arguments[gt+2];Ie.children=Vt}if(V&&V.defaultProps)for(ye in je=V.defaultProps,je)Ie[ye]===void 0&&(Ie[ye]=je[ye]);return C(V,Re,Ie)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:d,render:V}},Ce.isValidElement=O,Ce.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:Te}},Ce.memo=function(V,se){return{$$typeof:g,type:V,compare:se===void 0?null:se}},Ce.startTransition=function(V){var se=R.T,me={};R.T=me;try{var ye=V(),Ie=R.S;Ie!==null&&Ie(me,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(ee,ze)}catch(Re){ze(Re)}finally{se!==null&&me.types!==null&&(se.types=me.types),R.T=se}},Ce.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ce.use=function(V){return R.H.use(V)},Ce.useActionState=function(V,se,me){return R.H.useActionState(V,se,me)},Ce.useCallback=function(V,se){return R.H.useCallback(V,se)},Ce.useContext=function(V){return R.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,se){return R.H.useDeferredValue(V,se)},Ce.useEffect=function(V,se){return R.H.useEffect(V,se)},Ce.useEffectEvent=function(V){return R.H.useEffectEvent(V)},Ce.useId=function(){return R.H.useId()},Ce.useImperativeHandle=function(V,se,me){return R.H.useImperativeHandle(V,se,me)},Ce.useInsertionEffect=function(V,se){return R.H.useInsertionEffect(V,se)},Ce.useLayoutEffect=function(V,se){return R.H.useLayoutEffect(V,se)},Ce.useMemo=function(V,se){return R.H.useMemo(V,se)},Ce.useOptimistic=function(V,se){return R.H.useOptimistic(V,se)},Ce.useReducer=function(V,se,me){return R.H.useReducer(V,se,me)},Ce.useRef=function(V){return R.H.useRef(V)},Ce.useState=function(V){return R.H.useState(V)},Ce.useSyncExternalStore=function(V,se,me){return R.H.useSyncExternalStore(V,se,me)},Ce.useTransition=function(){return R.H.useTransition()},Ce.version="19.2.3",Ce}var tT;function i_(){return tT||(tT=1,qg.exports=CC()),qg.exports}var q=i_(),Fg={exports:{}},mc={},Hg={exports:{}},Gg={};var nT;function NC(){return nT||(nT=1,(function(r){function e(X,fe){var Te=X.length;X.push(fe);e:for(;0<Te;){var ze=Te-1>>>1,Je=X[ze];if(0<a(Je,fe))X[ze]=fe,X[Te]=Je,Te=ze;else break e}}function t(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var fe=X[0],Te=X.pop();if(Te!==fe){X[0]=Te;e:for(var ze=0,Je=X.length,V=Je>>>1;ze<V;){var se=2*(ze+1)-1,me=X[se],ye=se+1,Ie=X[ye];if(0>a(me,Te))ye<Je&&0>a(Ie,me)?(X[ze]=Ie,X[ye]=Te,ze=ye):(X[ze]=me,X[se]=Te,ze=se);else if(ye<Je&&0>a(Ie,Te))X[ze]=Ie,X[ye]=Te,ze=ye;else break e}}return fe}function a(X,fe){var Te=X.sortIndex-fe.sortIndex;return Te!==0?Te:X.id-fe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],g=[],v=1,E=null,w=3,x=!1,P=!1,L=!1,j=!1,W=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var fe=t(g);fe!==null;){if(fe.callback===null)i(g);else if(fe.startTime<=X)i(g),fe.sortIndex=fe.expirationTime,e(m,fe);else break;fe=t(g)}}function pe(X){if(L=!1,ue(X),!P)if(t(m)!==null)P=!0,ee||(ee=!0,U());else{var fe=t(g);fe!==null&&le(pe,fe.startTime-X)}}var ee=!1,R=-1,I=5,C=-1;function k(){return j?!0:!(r.unstable_now()-C<I)}function O(){if(j=!1,ee){var X=r.unstable_now();C=X;var fe=!0;try{e:{P=!1,L&&(L=!1,ne(R),R=-1),x=!0;var Te=w;try{t:{for(ue(X),E=t(m);E!==null&&!(E.expirationTime>X&&k());){var ze=E.callback;if(typeof ze=="function"){E.callback=null,w=E.priorityLevel;var Je=ze(E.expirationTime<=X);if(X=r.unstable_now(),typeof Je=="function"){E.callback=Je,ue(X),fe=!0;break t}E===t(m)&&i(m),ue(X)}else i(m);E=t(m)}if(E!==null)fe=!0;else{var V=t(g);V!==null&&le(pe,V.startTime-X),fe=!1}}break e}finally{E=null,w=Te,x=!1}fe=void 0}}finally{fe?U():ee=!1}}}var U;if(typeof Q=="function")U=function(){Q(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,nt=N.port2;N.port1.onmessage=O,U=function(){nt.postMessage(null)}}else U=function(){W(O,0)};function le(X,fe){R=W(function(){X(r.unstable_now())},fe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(X){switch(w){case 1:case 2:case 3:var fe=3;break;default:fe=w}var Te=w;w=fe;try{return X()}finally{w=Te}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(X,fe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var Te=w;w=X;try{return fe()}finally{w=Te}},r.unstable_scheduleCallback=function(X,fe,Te){var ze=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?ze+Te:ze):Te=ze,X){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=Te+Je,X={id:v++,callback:fe,priorityLevel:X,startTime:Te,expirationTime:Je,sortIndex:-1},Te>ze?(X.sortIndex=Te,e(g,X),t(m)===null&&X===t(g)&&(L?(ne(R),R=-1):L=!0,le(pe,Te-ze))):(X.sortIndex=Je,e(m,X),P||x||(P=!0,ee||(ee=!0,U()))),X},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(X){var fe=w;return function(){var Te=w;w=fe;try{return X.apply(this,arguments)}finally{w=Te}}}})(Gg)),Gg}var rT;function DC(){return rT||(rT=1,Hg.exports=NC()),Hg.exports}var Kg={exports:{}},yn={};var iT;function VC(){if(iT)return yn;iT=1;var r=i_();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,v)},yn.flushSync=function(m){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=v,i.d.f()}},yn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},yn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},yn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:x}):v==="script"&&i.d.X(m,{crossOrigin:E,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},yn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},yn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=d(v,g.crossOrigin);i.d.L(m,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},yn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},yn.requestFormReset=function(m){i.d.r(m)},yn.unstable_batchedUpdates=function(m,g){return m(g)},yn.useFormState=function(m,g,v){return c.H.useFormState(m,g,v)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.2.3",yn}var sT;function OC(){if(sT)return Kg.exports;sT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kg.exports=VC(),Kg.exports}var aT;function PC(){if(aT)return mc;aT=1;var r=DC(),e=i_(),t=OC();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),n;if(p===u)return m(f),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=p;else{for(var b=!1,A=f.child;A;){if(A===o){b=!0,o=f,u=p;break}if(A===u){b=!0,u=f,o=p;break}A=A.sibling}if(!b){for(A=p.child;A;){if(A===o){b=!0,o=p,u=f;break}if(A===u){b=!0,u=p,o=f;break}A=A.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function nt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case W:return"Profiler";case j:return"StrictMode";case pe:return"Suspense";case ee:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case Q:return n.displayName||"Context";case ne:return(n._context.displayName||"Context")+".Consumer";case ue:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:nt(n.type)||"Memo";case I:s=n._payload,n=n._init;try{return nt(n(s))}catch{}}return null}var le=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},ze=[],Je=-1;function V(n){return{current:n}}function se(n){0>Je||(n.current=ze[Je],ze[Je]=null,Je--)}function me(n,s){Je++,ze[Je]=n.current,n.current=s}var ye=V(null),Ie=V(null),Re=V(null),je=V(null);function Vt(n,s){switch(me(Re,s),me(Ie,n),me(ye,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?bb(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=bb(s),n=Tb(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(ye),me(ye,n)}function gt(){se(ye),se(Ie),se(Re)}function yi(n){n.memoizedState!==null&&me(je,n);var s=ye.current,o=Tb(s,n.type);s!==o&&(me(Ie,n),me(ye,o))}function Zi(n){Ie.current===n&&(se(ye),se(Ie)),je.current===n&&(se(je),uc._currentValue=Te)}var fr,J;function Me(n){if(fr===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);fr=s&&s[1]||"",J=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fr+n+J}var Pe=!1;function We(n,s){if(!n||Pe)return"";Pe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var $=Z}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(Z){$=Z}n.call(ae.prototype)}}else{try{throw Error()}catch(Z){$=Z}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&$&&typeof Z.stack=="string")return[Z.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],A=p[1];if(b&&A){var D=b.split(`
`),G=A.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===G.length)for(u=D.length-1,f=G.length-1;1<=u&&0<=f&&D[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==G[f]){var te=`
`+D[u].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=u&&0<=f);break}}}finally{Pe=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Me(o):""}function yt(n,s){switch(n.tag){case 26:case 27:case 5:return Me(n.type);case 16:return Me("Lazy");case 13:return n.child!==s&&s!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return We(n.type,!1);case 11:return We(n.type.render,!1);case 1:return We(n.type,!0);case 31:return Me("Activity");default:return""}}function gn(n){try{var s="",o=null;do s+=yt(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var wt=Object.prototype.hasOwnProperty,At=r.unstable_scheduleCallback,Mr=r.unstable_cancelCallback,Ih=r.unstable_shouldYield,es=r.unstable_requestPaint,Tn=r.unstable_now,ga=r.unstable_getCurrentPriorityLevel,du=r.unstable_ImmediatePriority,fu=r.unstable_UserBlockingPriority,ts=r.unstable_NormalPriority,Hm=r.unstable_LowPriority,Rh=r.unstable_IdlePriority,Ch=r.log,Nh=r.unstable_setDisableYieldValue,mr=null,ln=null;function Wn(n){if(typeof Ch=="function"&&Nh(n),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(mr,n)}catch{}}var Mt=Math.clz32?Math.clz32:Vh,Dh=Math.log,wo=Math.LN2;function Vh(n){return n>>>=0,n===0?32:31-(Dh(n)/wo|0)|0}var kr=256,ya=262144,zt=4194304;function Lr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function jr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,p=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?f=Lr(u):(b&=A,b!==0?f=Lr(b):o||(o=A&~n,o!==0&&(f=Lr(o))))):(A=u&~p,A!==0?f=Lr(A):b!==0?f=Lr(b):o||(o=u&~n,o!==0&&(f=Lr(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function pr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Gm(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oh(){var n=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),n}function Ur(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function _a(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Km(n,s,o,u,f,p){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,D=n.expirationTimes,G=n.hiddenUpdates;for(o=b&~o;0<o;){var te=31-Mt(o),ae=1<<te;A[te]=0,D[te]=-1;var $=G[te];if($!==null)for(G[te]=null,te=0;te<$.length;te++){var Z=$[te];Z!==null&&(Z.lane&=-536870913)}o&=~ae}u!==0&&va(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(b&~s))}function va(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Mt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function mu(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Mt(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function pu(n,s){var o=s&-s;return o=(o&42)!==0?1:Ea(o),(o&(n.suspendedLanes|s))!==0?0:o}function Ea(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _i(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ph(){var n=fe.p;return n!==0?n:(n=window.event,n===void 0?32:Gb(n.type))}function gr(n,s){var o=fe.p;try{return fe.p=n,s()}finally{fe.p=o}}var yr=Math.random().toString(36).slice(2),qt="__reactFiber$"+yr,tn="__reactProps$"+yr,Br="__reactContainer$"+yr,Ao="__reactEvents$"+yr,Qm="__reactListeners$"+yr,Mh="__reactHandles$"+yr,kh="__reactResources$"+yr,zr="__reactMarker$"+yr;function So(n){delete n[qt],delete n[tn],delete n[Ao],delete n[Qm],delete n[Mh]}function qr(n){var s=n[qt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Br]||o[qt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=Cb(n);n!==null;){if(o=n[qt])return o;n=Cb(n)}return s}n=o,o=n.parentNode}return null}function Zn(n){if(n=n[qt]||n[Br]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Un(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Fr(n){var s=n[kh];return s||(s=n[kh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ft(n){n[zr]=!0}var gu=new Set,yu={};function Hr(n,s){Gr(n,s),Gr(n+"Capture",s)}function Gr(n,s){for(yu[n]=s,n=0;n<s.length;n++)gu.add(s[n])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},Eu={};function Lh(n){return wt.call(Eu,n)?!0:wt.call(vu,n)?!1:_u.test(n)?Eu[n]=!0:(vu[n]=!0,!1)}function xo(n,s,o){if(Lh(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Bn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Ht(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function nn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ns(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bu(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function rt(n){if(!n._valueTracker){var s=ns(n)?"checked":"value";n._valueTracker=bu(n,s,""+n[s])}}function ba(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=ns(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Kr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ta=/[\n"\\]/g;function Sn(n){return n.replace(Ta,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Io(n,s,o,u,f,p,b,A){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+nn(s)):n.value!==""+nn(s)&&(n.value=""+nn(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?Tu(n,b,nn(s)):o!=null?Tu(n,b,nn(o)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+nn(A):n.removeAttribute("name")}function jh(n,s,o,u,f,p,b,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){rt(n);return}o=o!=null?""+nn(o):"",s=s!=null?""+nn(s):o,A||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=A?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),rt(n)}function Tu(n,s,o){s==="number"&&Kr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function rs(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+nn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Uh(n,s,o){if(s!=null&&(s=""+nn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+nn(o):""}function is(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(le(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=nn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),rt(n)}function xn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Bh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Bh.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Au(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&wu(n,f,u)}else for(var p in s)s.hasOwnProperty(p)&&wu(n,p,s[p])}function Ro(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(n){return ss.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function _r(){}var Su=null;function er(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var as=null,Qr=null;function wa(n){var s=Zn(n);if(s&&(n=s.stateNode)){var o=n[tn]||null;e:switch(n=s.stateNode,s.type){case"input":if(Io(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[tn]||null;if(!f)throw Error(i(90));Io(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&ba(u)}break e;case"textarea":Uh(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&rs(n,!!o.multiple,s,!1)}}}var No=!1;function os(n,s,o){if(No)return n(s,o);No=!0;try{var u=n(s);return u}finally{if(No=!1,(as!==null||Qr!==null)&&(Pd(),as&&(s=as,n=Qr,Qr=as=null,wa(s),n)))for(s=0;s<n.length;s++)wa(n[s])}}function vr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[tn]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(tr)try{var ct={};Object.defineProperty(ct,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",ct,ct),window.removeEventListener("test",ct,ct)}catch{Aa=!1}var $r=null,xu=null,Sa=null;function Iu(){if(Sa)return Sa;var n,s=xu,o=s.length,u,f="value"in $r?$r.value:$r.textContent,p=f.length;for(n=0;n<o&&s[n]===f[n];n++);var b=o-n;for(u=1;u<=b&&s[o-u]===f[p-u];u++);return Sa=f.slice(n,1<u?1-u:void 0)}function xa(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function vi(){return!0}function Er(){return!1}function un(n){function s(o,u,f,p,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?vi:Er,this.isPropagationStopped=Er,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),s}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yr=un(Ei),ls=E({},Ei,{view:0,detail:0}),Ru=un(ls),us,Do,Xr,Vo=E({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Xr&&(Xr&&n.type==="mousemove"?(us=n.screenX-Xr.screenX,Do=n.screenY-Xr.screenY):Do=us=0,Xr=n),us)},movementY:function(n){return"movementY"in n?n.movementY:Do}}),Cu=un(Vo),Ia=E({},Vo,{dataTransfer:0}),qh=un(Ia),Fh=E({},ls,{relatedTarget:0}),Ra=un(Fh),Nu=E({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),Hh=un(Nu),Oo=E({},Ei,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Gh=un(Oo),Kh=E({},Ei,{data:0}),Jr=un(Kh),Qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xh(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Yh[n])?!!s[n]:!1}function cs(){return Xh}var wn=E({},ls,{key:function(n){if(n.key){var s=Qh[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=xa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$h[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(n){return n.type==="keypress"?xa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Jh=un(wn),Wh=E({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bi=un(Wh),h=E({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),y=un(h),T=E({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=un(T),F=E({},Vo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=un(F),he=E({},Ei,{newState:0,oldState:0}),De=un(he),kt=[9,13,27,32],Ze=tr&&"CompositionEvent"in window,St=null;tr&&"documentMode"in document&&(St=document.documentMode);var nr=tr&&"TextEvent"in window&&!St,Wr=tr&&(!Ze||St&&8<St&&11>=St),br=" ",Tr=!1;function Ca(n,s){switch(n){case"keyup":return kt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Po(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mo=!1;function JI(n,s){switch(n){case"compositionend":return Po(s);case"keypress":return s.which!==32?null:(Tr=!0,br);case"textInput":return n=s.data,n===br&&Tr?null:n;default:return null}}function WI(n,s){if(Mo)return n==="compositionend"||!Ze&&Ca(n,s)?(n=Iu(),Sa=xu=$r=null,Mo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wr&&s.locale!=="ko"?null:s.data;default:return null}}var ZI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ZI[n.type]:s==="textarea"}function Ov(n,s,o,u){as?Qr?Qr.push(u):Qr=[u]:as=u,s=zd(s,"onChange"),0<s.length&&(o=new Yr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Du=null,Vu=null;function eR(n){pb(n,0)}function Zh(n){var s=Un(n);if(ba(s))return n}function Pv(n,s){if(n==="change")return s}var Mv=!1;if(tr){var $m;if(tr){var Ym="oninput"in document;if(!Ym){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),Ym=typeof kv.oninput=="function"}$m=Ym}else $m=!1;Mv=$m&&(!document.documentMode||9<document.documentMode)}function Lv(){Du&&(Du.detachEvent("onpropertychange",jv),Vu=Du=null)}function jv(n){if(n.propertyName==="value"&&Zh(Vu)){var s=[];Ov(s,Vu,n,er(n)),os(eR,s)}}function tR(n,s,o){n==="focusin"?(Lv(),Du=s,Vu=o,Du.attachEvent("onpropertychange",jv)):n==="focusout"&&Lv()}function nR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zh(Vu)}function rR(n,s){if(n==="click")return Zh(s)}function iR(n,s){if(n==="input"||n==="change")return Zh(s)}function sR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var zn=typeof Object.is=="function"?Object.is:sR;function Ou(n,s){if(zn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!wt.call(s,f)||!zn(n[f],s[f]))return!1}return!0}function Uv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Bv(n,s){var o=Uv(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Uv(o)}}function zv(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?zv(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function qv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Kr(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Kr(n.document)}return s}function Xm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var aR=tr&&"documentMode"in document&&11>=document.documentMode,ko=null,Jm=null,Pu=null,Wm=!1;function Fv(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wm||ko==null||ko!==Kr(u)||(u=ko,"selectionStart"in u&&Xm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pu&&Ou(Pu,u)||(Pu=u,u=zd(Jm,"onSelect"),0<u.length&&(s=new Yr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=ko)))}function Na(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Lo={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Zm={},Hv={};tr&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Da(n){if(Zm[n])return Zm[n];if(!Lo[n])return n;var s=Lo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Hv)return Zm[n]=s[o];return n}var Gv=Da("animationend"),Kv=Da("animationiteration"),Qv=Da("animationstart"),oR=Da("transitionrun"),lR=Da("transitionstart"),uR=Da("transitioncancel"),$v=Da("transitionend"),Yv=new Map,ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ep.push("scrollEnd");function wr(n,s){Yv.set(n,s),Hr(s,[n])}var ed=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},rr=[],jo=0,tp=0;function td(){for(var n=jo,s=tp=jo=0;s<n;){var o=rr[s];rr[s++]=null;var u=rr[s];rr[s++]=null;var f=rr[s];rr[s++]=null;var p=rr[s];if(rr[s++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}p!==0&&Xv(o,f,p)}}function nd(n,s,o,u){rr[jo++]=n,rr[jo++]=s,rr[jo++]=o,rr[jo++]=u,tp|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function np(n,s,o,u){return nd(n,s,o,u),rd(n)}function Va(n,s){return nd(n,null,null,s),rd(n)}function Xv(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-Mt(o),n=p.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function rd(n){if(50<nc)throw nc=0,hg=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Uo={};function cR(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(n,s,o,u){return new cR(n,s,o,u)}function rp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ti(n,s){var o=n.alternate;return o===null?(o=qn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Jv(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function id(n,s,o,u,f,p){var b=0;if(u=n,typeof n=="function")rp(n)&&(b=1);else if(typeof n=="string")b=pC(n,o,ye.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=qn(31,o,s,f),n.elementType=C,n.lanes=p,n;case L:return Oa(o.children,f,p,s);case j:b=8,f|=24;break;case W:return n=qn(12,o,s,f|2),n.elementType=W,n.lanes=p,n;case pe:return n=qn(13,o,s,f),n.elementType=pe,n.lanes=p,n;case ee:return n=qn(19,o,s,f),n.elementType=ee,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Q:b=10;break e;case ne:b=9;break e;case ue:b=11;break e;case R:b=14;break e;case I:b=16,u=null;break e}b=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=qn(b,o,s,f),s.elementType=n,s.type=u,s.lanes=p,s}function Oa(n,s,o,u){return n=qn(7,n,u,s),n.lanes=o,n}function ip(n,s,o){return n=qn(6,n,null,s),n.lanes=o,n}function Wv(n){var s=qn(18,null,null,0);return s.stateNode=n,s}function sp(n,s,o){return s=qn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Zv=new WeakMap;function ir(n,s){if(typeof n=="object"&&n!==null){var o=Zv.get(n);return o!==void 0?o:(s={value:n,source:s,stack:gn(s)},Zv.set(n,s),s)}return{value:n,source:s,stack:gn(s)}}var Bo=[],zo=0,sd=null,Mu=0,sr=[],ar=0,hs=null,Zr=1,ei="";function wi(n,s){Bo[zo++]=Mu,Bo[zo++]=sd,sd=n,Mu=s}function e0(n,s,o){sr[ar++]=Zr,sr[ar++]=ei,sr[ar++]=hs,hs=n;var u=Zr;n=ei;var f=32-Mt(u)-1;u&=~(1<<f),o+=1;var p=32-Mt(s)+f;if(30<p){var b=f-f%5;p=(u&(1<<b)-1).toString(32),u>>=b,f-=b,Zr=1<<32-Mt(s)+f|o<<f|u,ei=p+n}else Zr=1<<p|o<<f|u,ei=n}function ap(n){n.return!==null&&(wi(n,1),e0(n,1,0))}function op(n){for(;n===sd;)sd=Bo[--zo],Bo[zo]=null,Mu=Bo[--zo],Bo[zo]=null;for(;n===hs;)hs=sr[--ar],sr[ar]=null,ei=sr[--ar],sr[ar]=null,Zr=sr[--ar],sr[ar]=null}function t0(n,s){sr[ar++]=Zr,sr[ar++]=ei,sr[ar++]=hs,Zr=s.id,ei=s.overflow,hs=n}var cn=null,vt=null,Ke=!1,ds=null,or=!1,lp=Error(i(519));function fs(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ku(ir(s,n)),lp}function n0(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[qt]=n,s[tn]=u,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<ic.length;o++)Be(ic[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),jh(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),is(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||vb(s.textContent,o)?(u.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),u.onScroll!=null&&Be("scroll",s),u.onScrollEnd!=null&&Be("scrollend",s),u.onClick!=null&&(s.onclick=_r),s=!0):s=!1,s||fs(n,!0)}function r0(n){for(cn=n.return;cn;)switch(cn.tag){case 5:case 31:case 13:or=!1;return;case 27:case 3:or=!0;return;default:cn=cn.return}}function qo(n){if(n!==cn)return!1;if(!Ke)return r0(n),Ke=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||xg(n.type,n.memoizedProps)),o=!o),o&&vt&&fs(n),r0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));vt=Rb(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));vt=Rb(n)}else s===27?(s=vt,Is(n.type)?(n=Dg,Dg=null,vt=n):vt=s):vt=cn?ur(n.stateNode.nextSibling):null;return!0}function Pa(){vt=cn=null,Ke=!1}function up(){var n=ds;return n!==null&&(Nn===null?Nn=n:Nn.push.apply(Nn,n),ds=null),n}function ku(n){ds===null?ds=[n]:ds.push(n)}var cp=V(null),Ma=null,Ai=null;function ms(n,s,o){me(cp,s._currentValue),s._currentValue=o}function Si(n){n._currentValue=cp.current,se(cp)}function hp(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function dp(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var b=f.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),hp(p.return,o,n),u||(b=null);break e}p=A.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),hp(b,o,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Fo(n,s,o,u){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=f.type;zn(f.pendingProps.value,b.value)||(n!==null?n.push(A):n=[A])}}else if(f===je.current){if(b=f.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(uc):n=[uc])}f=f.return}n!==null&&dp(s,n,o,u),s.flags|=262144}function ad(n){for(n=n.firstContext;n!==null;){if(!zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ka(n){Ma=n,Ai=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function hn(n){return i0(Ma,n)}function od(n,s){return Ma===null&&ka(n),i0(n,s)}function i0(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ai===null){if(n===null)throw Error(i(308));Ai=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Ai=Ai.next=s;return o}var hR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},dR=r.unstable_scheduleCallback,fR=r.unstable_NormalPriority,Gt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fp(){return{controller:new hR,data:new Map,refCount:0}}function Lu(n){n.refCount--,n.refCount===0&&dR(fR,function(){n.controller.abort()})}var ju=null,mp=0,Ho=0,Go=null;function mR(n,s){if(ju===null){var o=ju=[];mp=0,Ho=yg(),Go={status:"pending",value:void 0,then:function(u){o.push(u)}}}return mp++,s.then(s0,s0),s}function s0(){if(--mp===0&&ju!==null){Go!==null&&(Go.status="fulfilled");var n=ju;ju=null,Ho=0,Go=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function pR(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var a0=X.S;X.S=function(n,s){FE=Tn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mR(n,s),a0!==null&&a0(n,s)};var La=V(null);function pp(){var n=La.current;return n!==null?n:pt.pooledCache}function ld(n,s){s===null?me(La,La.current):me(La,s.pool)}function o0(){var n=pp();return n===null?null:{parent:Gt._currentValue,pool:n}}var Ko=Error(i(460)),gp=Error(i(474)),ud=Error(i(542)),cd={then:function(){}};function l0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function u0(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(_r,_r),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,h0(n),n;default:if(typeof s.status=="string")s.then(_r,_r);else{if(n=pt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,h0(n),n}throw Ua=s,Ko}}function ja(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ua=o,Ko):o}}var Ua=null;function c0(){if(Ua===null)throw Error(i(459));var n=Ua;return Ua=null,n}function h0(n){if(n===Ko||n===ud)throw Error(i(483))}var Qo=null,Uu=0;function hd(n){var s=Uu;return Uu+=1,Qo===null&&(Qo=[]),u0(Qo,n,s)}function Bu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function dd(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function d0(n){function s(B,M){if(n){var H=B.deletions;H===null?(B.deletions=[M],B.flags|=16):H.push(M)}}function o(B,M){if(!n)return null;for(;M!==null;)s(B,M),M=M.sibling;return null}function u(B){for(var M=new Map;B!==null;)B.key!==null?M.set(B.key,B):M.set(B.index,B),B=B.sibling;return M}function f(B,M){return B=Ti(B,M),B.index=0,B.sibling=null,B}function p(B,M,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<M?(B.flags|=67108866,M):H):(B.flags|=67108866,M)):(B.flags|=1048576,M)}function b(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function A(B,M,H,re){return M===null||M.tag!==6?(M=ip(H,B.mode,re),M.return=B,M):(M=f(M,H),M.return=B,M)}function D(B,M,H,re){var we=H.type;return we===L?te(B,M,H.props.children,re,H.key):M!==null&&(M.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===I&&ja(we)===M.type)?(M=f(M,H.props),Bu(M,H),M.return=B,M):(M=id(H.type,H.key,H.props,null,B.mode,re),Bu(M,H),M.return=B,M)}function G(B,M,H,re){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=sp(H,B.mode,re),M.return=B,M):(M=f(M,H.children||[]),M.return=B,M)}function te(B,M,H,re,we){return M===null||M.tag!==7?(M=Oa(H,B.mode,re,we),M.return=B,M):(M=f(M,H),M.return=B,M)}function ae(B,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=ip(""+M,B.mode,H),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return H=id(M.type,M.key,M.props,null,B.mode,H),Bu(H,M),H.return=B,H;case P:return M=sp(M,B.mode,H),M.return=B,M;case I:return M=ja(M),ae(B,M,H)}if(le(M)||U(M))return M=Oa(M,B.mode,H,null),M.return=B,M;if(typeof M.then=="function")return ae(B,hd(M),H);if(M.$$typeof===Q)return ae(B,od(B,M),H);dd(B,M)}return null}function $(B,M,H,re){var we=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return we!==null?null:A(B,M,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return H.key===we?D(B,M,H,re):null;case P:return H.key===we?G(B,M,H,re):null;case I:return H=ja(H),$(B,M,H,re)}if(le(H)||U(H))return we!==null?null:te(B,M,H,re,null);if(typeof H.then=="function")return $(B,M,hd(H),re);if(H.$$typeof===Q)return $(B,M,od(B,H),re);dd(B,H)}return null}function Z(B,M,H,re,we){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return B=B.get(H)||null,A(M,B,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return B=B.get(re.key===null?H:re.key)||null,D(M,B,re,we);case P:return B=B.get(re.key===null?H:re.key)||null,G(M,B,re,we);case I:return re=ja(re),Z(B,M,H,re,we)}if(le(re)||U(re))return B=B.get(H)||null,te(M,B,re,we,null);if(typeof re.then=="function")return Z(B,M,H,hd(re),we);if(re.$$typeof===Q)return Z(B,M,H,od(M,re),we);dd(M,re)}return null}function _e(B,M,H,re){for(var we=null,$e=null,Ee=M,Oe=M=0,Fe=null;Ee!==null&&Oe<H.length;Oe++){Ee.index>Oe?(Fe=Ee,Ee=null):Fe=Ee.sibling;var Ye=$(B,Ee,H[Oe],re);if(Ye===null){Ee===null&&(Ee=Fe);break}n&&Ee&&Ye.alternate===null&&s(B,Ee),M=p(Ye,M,Oe),$e===null?we=Ye:$e.sibling=Ye,$e=Ye,Ee=Fe}if(Oe===H.length)return o(B,Ee),Ke&&wi(B,Oe),we;if(Ee===null){for(;Oe<H.length;Oe++)Ee=ae(B,H[Oe],re),Ee!==null&&(M=p(Ee,M,Oe),$e===null?we=Ee:$e.sibling=Ee,$e=Ee);return Ke&&wi(B,Oe),we}for(Ee=u(Ee);Oe<H.length;Oe++)Fe=Z(Ee,B,Oe,H[Oe],re),Fe!==null&&(n&&Fe.alternate!==null&&Ee.delete(Fe.key===null?Oe:Fe.key),M=p(Fe,M,Oe),$e===null?we=Fe:$e.sibling=Fe,$e=Fe);return n&&Ee.forEach(function(Vs){return s(B,Vs)}),Ke&&wi(B,Oe),we}function Ae(B,M,H,re){if(H==null)throw Error(i(151));for(var we=null,$e=null,Ee=M,Oe=M=0,Fe=null,Ye=H.next();Ee!==null&&!Ye.done;Oe++,Ye=H.next()){Ee.index>Oe?(Fe=Ee,Ee=null):Fe=Ee.sibling;var Vs=$(B,Ee,Ye.value,re);if(Vs===null){Ee===null&&(Ee=Fe);break}n&&Ee&&Vs.alternate===null&&s(B,Ee),M=p(Vs,M,Oe),$e===null?we=Vs:$e.sibling=Vs,$e=Vs,Ee=Fe}if(Ye.done)return o(B,Ee),Ke&&wi(B,Oe),we;if(Ee===null){for(;!Ye.done;Oe++,Ye=H.next())Ye=ae(B,Ye.value,re),Ye!==null&&(M=p(Ye,M,Oe),$e===null?we=Ye:$e.sibling=Ye,$e=Ye);return Ke&&wi(B,Oe),we}for(Ee=u(Ee);!Ye.done;Oe++,Ye=H.next())Ye=Z(Ee,B,Oe,Ye.value,re),Ye!==null&&(n&&Ye.alternate!==null&&Ee.delete(Ye.key===null?Oe:Ye.key),M=p(Ye,M,Oe),$e===null?we=Ye:$e.sibling=Ye,$e=Ye);return n&&Ee.forEach(function(xC){return s(B,xC)}),Ke&&wi(B,Oe),we}function ft(B,M,H,re){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case x:e:{for(var we=H.key;M!==null;){if(M.key===we){if(we=H.type,we===L){if(M.tag===7){o(B,M.sibling),re=f(M,H.props.children),re.return=B,B=re;break e}}else if(M.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===I&&ja(we)===M.type){o(B,M.sibling),re=f(M,H.props),Bu(re,H),re.return=B,B=re;break e}o(B,M);break}else s(B,M);M=M.sibling}H.type===L?(re=Oa(H.props.children,B.mode,re,H.key),re.return=B,B=re):(re=id(H.type,H.key,H.props,null,B.mode,re),Bu(re,H),re.return=B,B=re)}return b(B);case P:e:{for(we=H.key;M!==null;){if(M.key===we)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){o(B,M.sibling),re=f(M,H.children||[]),re.return=B,B=re;break e}else{o(B,M);break}else s(B,M);M=M.sibling}re=sp(H,B.mode,re),re.return=B,B=re}return b(B);case I:return H=ja(H),ft(B,M,H,re)}if(le(H))return _e(B,M,H,re);if(U(H)){if(we=U(H),typeof we!="function")throw Error(i(150));return H=we.call(H),Ae(B,M,H,re)}if(typeof H.then=="function")return ft(B,M,hd(H),re);if(H.$$typeof===Q)return ft(B,M,od(B,H),re);dd(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(o(B,M.sibling),re=f(M,H),re.return=B,B=re):(o(B,M),re=ip(H,B.mode,re),re.return=B,B=re),b(B)):o(B,M)}return function(B,M,H,re){try{Uu=0;var we=ft(B,M,H,re);return Qo=null,we}catch(Ee){if(Ee===Ko||Ee===ud)throw Ee;var $e=qn(29,Ee,null,B.mode);return $e.lanes=re,$e.return=B,$e}}}var Ba=d0(!0),f0=d0(!1),ps=!1;function yp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _p(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function gs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ys(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=rd(n),Xv(n,null,o),s}return nd(n,u,s,o),rd(n)}function zu(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,mu(n,o)}}function vp(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Ep=!1;function qu(){if(Ep){var n=Go;if(n!==null)throw n}}function Fu(n,s,o,u){Ep=!1;var f=n.updateQueue;ps=!1;var p=f.firstBaseUpdate,b=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,G=D.next;D.next=null,b===null?p=G:b.next=G,b=D;var te=n.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==b&&(A===null?te.firstBaseUpdate=G:A.next=G,te.lastBaseUpdate=D))}if(p!==null){var ae=f.baseState;b=0,te=G=D=null,A=p;do{var $=A.lane&-536870913,Z=$!==A.lane;if(Z?(qe&$)===$:(u&$)===$){$!==0&&$===Ho&&(Ep=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var _e=n,Ae=A;$=s;var ft=o;switch(Ae.tag){case 1:if(_e=Ae.payload,typeof _e=="function"){ae=_e.call(ft,ae,$);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ae.payload,$=typeof _e=="function"?_e.call(ft,ae,$):_e,$==null)break e;ae=E({},ae,$);break e;case 2:ps=!0}}$=A.callback,$!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[$]:Z.push($))}else Z={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(G=te=Z,D=ae):te=te.next=Z,b|=$;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);te===null&&(D=ae),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),Ts|=b,n.lanes=b,n.memoizedState=ae}}function m0(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function p0(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)m0(o[n],s)}var $o=V(null),fd=V(0);function g0(n,s){n=Pi,me(fd,n),me($o,s),Pi=n|s.baseLanes}function bp(){me(fd,Pi),me($o,$o.current)}function Tp(){Pi=fd.current,se($o),se(fd)}var Fn=V(null),lr=null;function _s(n){var s=n.alternate;me(Lt,Lt.current&1),me(Fn,n),lr===null&&(s===null||$o.current!==null||s.memoizedState!==null)&&(lr=n)}function wp(n){me(Lt,Lt.current),me(Fn,n),lr===null&&(lr=n)}function y0(n){n.tag===22?(me(Lt,Lt.current),me(Fn,n),lr===null&&(lr=n)):vs()}function vs(){me(Lt,Lt.current),me(Fn,Fn.current)}function Hn(n){se(Fn),lr===n&&(lr=null),se(Lt)}var Lt=V(0);function md(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Cg(o)||Ng(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xi=0,Ve=null,ht=null,Kt=null,pd=!1,Yo=!1,za=!1,gd=0,Hu=0,Xo=null,gR=0;function Ot(){throw Error(i(321))}function Ap(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!zn(n[o],s[o]))return!1;return!0}function Sp(n,s,o,u,f,p){return xi=p,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=n===null||n.memoizedState===null?eE:Bp,za=!1,p=o(u,f),za=!1,Yo&&(p=v0(s,o,u,f)),_0(n),p}function _0(n){X.H=Qu;var s=ht!==null&&ht.next!==null;if(xi=0,Kt=ht=Ve=null,pd=!1,Hu=0,Xo=null,s)throw Error(i(300));n===null||Qt||(n=n.dependencies,n!==null&&ad(n)&&(Qt=!0))}function v0(n,s,o,u){Ve=n;var f=0;do{if(Yo&&(Xo=null),Hu=0,Yo=!1,25<=f)throw Error(i(301));if(f+=1,Kt=ht=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=tE,p=s(o,u)}while(Yo);return p}function yR(){var n=X.H,s=n.useState()[0];return s=typeof s.then=="function"?Gu(s):s,n=n.useState()[0],(ht!==null?ht.memoizedState:null)!==n&&(Ve.flags|=1024),s}function xp(){var n=gd!==0;return gd=0,n}function Ip(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Rp(n){if(pd){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pd=!1}xi=0,Kt=ht=Ve=null,Yo=!1,Hu=gd=0,Xo=null}function An(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Ve.memoizedState=Kt=n:Kt=Kt.next=n,Kt}function jt(){if(ht===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=ht.next;var s=Kt===null?Ve.memoizedState:Kt.next;if(s!==null)Kt=s,ht=n;else{if(n===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));ht=n,n={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Kt===null?Ve.memoizedState=Kt=n:Kt=Kt.next=n}return Kt}function yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gu(n){var s=Hu;return Hu+=1,Xo===null&&(Xo=[]),n=u0(Xo,n,s),s=Ve,(Kt===null?s.memoizedState:Kt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?eE:Bp),n}function _d(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Gu(n);if(n.$$typeof===Q)return hn(n)}throw Error(i(438,String(n)))}function Cp(n){var s=null,o=Ve.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=yd(),Ve.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=k;return s.index++,o}function Ii(n,s){return typeof s=="function"?s(n):s}function vd(n){var s=jt();return Np(s,ht,n)}function Np(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var b=f.next;f.next=p.next,p.next=b}s.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var A=b=null,D=null,G=s,te=!1;do{var ae=G.lane&-536870913;if(ae!==G.lane?(qe&ae)===ae:(xi&ae)===ae){var $=G.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ae===Ho&&(te=!0);else if((xi&$)===$){G=G.next,$===Ho&&(te=!0);continue}else ae={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(A=D=ae,b=p):D=D.next=ae,Ve.lanes|=$,Ts|=$;ae=G.action,za&&o(p,ae),p=G.hasEagerState?G.eagerState:o(p,ae)}else $={lane:ae,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(A=D=$,b=p):D=D.next=$,Ve.lanes|=ae,Ts|=ae;G=G.next}while(G!==null&&G!==s);if(D===null?b=p:D.next=A,!zn(p,n.memoizedState)&&(Qt=!0,te&&(o=Go,o!==null)))throw o;n.memoizedState=p,n.baseState=b,n.baseQueue=D,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Dp(n){var s=jt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do p=n(p,b.action),b=b.next;while(b!==f);zn(p,s.memoizedState)||(Qt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function E0(n,s,o){var u=Ve,f=jt(),p=Ke;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!zn((ht||f).memoizedState,o);if(b&&(f.memoizedState=o,Qt=!0),f=f.queue,Pp(w0.bind(null,u,f,n),[n]),f.getSnapshot!==s||b||Kt!==null&&Kt.memoizedState.tag&1){if(u.flags|=2048,Jo(9,{destroy:void 0},T0.bind(null,u,f,o,s),null),pt===null)throw Error(i(349));p||(xi&127)!==0||b0(u,s,o)}return o}function b0(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ve.updateQueue,s===null?(s=yd(),Ve.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function T0(n,s,o,u){s.value=o,s.getSnapshot=u,A0(s)&&S0(n)}function w0(n,s,o){return o(function(){A0(s)&&S0(n)})}function A0(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!zn(n,o)}catch{return!0}}function S0(n){var s=Va(n,2);s!==null&&Dn(s,n,2)}function Vp(n){var s=An();if(typeof n=="function"){var o=n;if(n=o(),za){Wn(!0);try{o()}finally{Wn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:n},s}function x0(n,s,o,u){return n.baseState=o,Np(n,ht,typeof u=="function"?u:Ii)}function _R(n,s,o,u,f){if(Td(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};X.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,I0(s,p)):(p.next=o.next,s.pending=o.next=p)}}function I0(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var p=X.T,b={};X.T=b;try{var A=o(f,u),D=X.S;D!==null&&D(b,A),R0(n,s,A)}catch(G){Op(n,s,G)}finally{p!==null&&b.types!==null&&(p.types=b.types),X.T=p}}else try{p=o(f,u),R0(n,s,p)}catch(G){Op(n,s,G)}}function R0(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){C0(n,s,u)},function(u){return Op(n,s,u)}):C0(n,s,o)}function C0(n,s,o){s.status="fulfilled",s.value=o,N0(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,I0(n,o)))}function Op(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,N0(s),s=s.next;while(s!==u)}n.action=null}function N0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function D0(n,s){return s}function V0(n,s){if(Ke){var o=pt.formState;if(o!==null){e:{var u=Ve;if(Ke){if(vt){t:{for(var f=vt,p=or;f.nodeType!==8;){if(!p){f=null;break t}if(f=ur(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){vt=ur(f.nextSibling),u=f.data==="F!";break e}}fs(u)}u=!1}u&&(s=o[0])}}return o=An(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:D0,lastRenderedState:s},o.queue=u,o=J0.bind(null,Ve,u),u.dispatch=o,u=Vp(!1),p=Up.bind(null,Ve,!1,u.queue),u=An(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=_R.bind(null,Ve,f,p,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function O0(n){var s=jt();return P0(s,ht,n)}function P0(n,s,o){if(s=Np(n,s,D0)[0],n=vd(Ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Gu(s)}catch(b){throw b===Ko?ud:b}else u=s;s=jt();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(Ve.flags|=2048,Jo(9,{destroy:void 0},vR.bind(null,f,o),null)),[u,p,n]}function vR(n,s){n.action=s}function M0(n){var s=jt(),o=ht;if(o!==null)return P0(s,o,n);jt(),s=s.memoizedState,o=jt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function Jo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=yd(),Ve.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function k0(){return jt().memoizedState}function Ed(n,s,o,u){var f=An();Ve.flags|=n,f.memoizedState=Jo(1|s,{destroy:void 0},o,u===void 0?null:u)}function bd(n,s,o,u){var f=jt();u=u===void 0?null:u;var p=f.memoizedState.inst;ht!==null&&u!==null&&Ap(u,ht.memoizedState.deps)?f.memoizedState=Jo(s,p,o,u):(Ve.flags|=n,f.memoizedState=Jo(1|s,p,o,u))}function L0(n,s){Ed(8390656,8,n,s)}function Pp(n,s){bd(2048,8,n,s)}function ER(n){Ve.flags|=4;var s=Ve.updateQueue;if(s===null)s=yd(),Ve.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function j0(n){var s=jt().memoizedState;return ER({ref:s,nextImpl:n}),function(){if((et&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function U0(n,s){return bd(4,2,n,s)}function B0(n,s){return bd(4,4,n,s)}function z0(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function q0(n,s,o){o=o!=null?o.concat([n]):null,bd(4,4,z0.bind(null,s,n),o)}function Mp(){}function F0(n,s){var o=jt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ap(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function H0(n,s){var o=jt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ap(s,u[1]))return u[0];if(u=n(),za){Wn(!0);try{n()}finally{Wn(!1)}}return o.memoizedState=[u,s],u}function kp(n,s,o){return o===void 0||(xi&1073741824)!==0&&(qe&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=GE(),Ve.lanes|=n,Ts|=n,o)}function G0(n,s,o,u){return zn(o,s)?o:$o.current!==null?(n=kp(n,o,u),zn(n,s)||(Qt=!0),n):(xi&42)===0||(xi&1073741824)!==0&&(qe&261930)===0?(Qt=!0,n.memoizedState=o):(n=GE(),Ve.lanes|=n,Ts|=n,s)}function K0(n,s,o,u,f){var p=fe.p;fe.p=p!==0&&8>p?p:8;var b=X.T,A={};X.T=A,Up(n,!1,s,o);try{var D=f(),G=X.S;if(G!==null&&G(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var te=pR(D,u);Ku(n,s,te,Qn(n))}else Ku(n,s,u,Qn(n))}catch(ae){Ku(n,s,{then:function(){},status:"rejected",reason:ae},Qn())}finally{fe.p=p,b!==null&&A.types!==null&&(b.types=A.types),X.T=b}}function bR(){}function Lp(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=Q0(n).queue;K0(n,f,s,Te,o===null?bR:function(){return $0(n),o(u)})}function Q0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:Te},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function $0(n){var s=Q0(n);s.next===null&&(s=n.alternate.memoizedState),Ku(n,s.next.queue,{},Qn())}function jp(){return hn(uc)}function Y0(){return jt().memoizedState}function X0(){return jt().memoizedState}function TR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Qn();n=gs(o);var u=ys(s,n,o);u!==null&&(Dn(u,s,o),zu(u,s,o)),s={cache:fp()},n.payload=s;return}s=s.return}}function wR(n,s,o){var u=Qn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Td(n)?W0(s,o):(o=np(n,s,o,u),o!==null&&(Dn(o,n,u),Z0(o,s,u)))}function J0(n,s,o){var u=Qn();Ku(n,s,o,u)}function Ku(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Td(n))W0(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var b=s.lastRenderedState,A=p(b,o);if(f.hasEagerState=!0,f.eagerState=A,zn(A,b))return nd(n,s,f,0),pt===null&&td(),!1}catch{}if(o=np(n,s,f,u),o!==null)return Dn(o,n,u),Z0(o,s,u),!0}return!1}function Up(n,s,o,u){if(u={lane:2,revertLane:yg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Td(n)){if(s)throw Error(i(479))}else s=np(n,o,u,2),s!==null&&Dn(s,n,2)}function Td(n){var s=n.alternate;return n===Ve||s!==null&&s===Ve}function W0(n,s){Yo=pd=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Z0(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,mu(n,o)}}var Qu={readContext:hn,use:_d,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Qu.useEffectEvent=Ot;var eE={readContext:hn,use:_d,useCallback:function(n,s){return An().memoizedState=[n,s===void 0?null:s],n},useContext:hn,useEffect:L0,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Ed(4194308,4,z0.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Ed(4194308,4,n,s)},useInsertionEffect:function(n,s){Ed(4,2,n,s)},useMemo:function(n,s){var o=An();s=s===void 0?null:s;var u=n();if(za){Wn(!0);try{n()}finally{Wn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=An();if(o!==void 0){var f=o(s);if(za){Wn(!0);try{o(s)}finally{Wn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=wR.bind(null,Ve,n),[u.memoizedState,n]},useRef:function(n){var s=An();return n={current:n},s.memoizedState=n},useState:function(n){n=Vp(n);var s=n.queue,o=J0.bind(null,Ve,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Mp,useDeferredValue:function(n,s){var o=An();return kp(o,n,s)},useTransition:function(){var n=Vp(!1);return n=K0.bind(null,Ve,n.queue,!0,!1),An().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Ve,f=An();if(Ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),pt===null)throw Error(i(349));(qe&127)!==0||b0(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,L0(w0.bind(null,u,p,n),[n]),u.flags|=2048,Jo(9,{destroy:void 0},T0.bind(null,u,p,o,s),null),o},useId:function(){var n=An(),s=pt.identifierPrefix;if(Ke){var o=ei,u=Zr;o=(u&~(1<<32-Mt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=gd++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=gR++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:jp,useFormState:V0,useActionState:V0,useOptimistic:function(n){var s=An();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Up.bind(null,Ve,!0,o),o.dispatch=s,[n,s]},useMemoCache:Cp,useCacheRefresh:function(){return An().memoizedState=TR.bind(null,Ve)},useEffectEvent:function(n){var s=An(),o={impl:n};return s.memoizedState=o,function(){if((et&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Bp={readContext:hn,use:_d,useCallback:F0,useContext:hn,useEffect:Pp,useImperativeHandle:q0,useInsertionEffect:U0,useLayoutEffect:B0,useMemo:H0,useReducer:vd,useRef:k0,useState:function(){return vd(Ii)},useDebugValue:Mp,useDeferredValue:function(n,s){var o=jt();return G0(o,ht.memoizedState,n,s)},useTransition:function(){var n=vd(Ii)[0],s=jt().memoizedState;return[typeof n=="boolean"?n:Gu(n),s]},useSyncExternalStore:E0,useId:Y0,useHostTransitionStatus:jp,useFormState:O0,useActionState:O0,useOptimistic:function(n,s){var o=jt();return x0(o,ht,n,s)},useMemoCache:Cp,useCacheRefresh:X0};Bp.useEffectEvent=j0;var tE={readContext:hn,use:_d,useCallback:F0,useContext:hn,useEffect:Pp,useImperativeHandle:q0,useInsertionEffect:U0,useLayoutEffect:B0,useMemo:H0,useReducer:Dp,useRef:k0,useState:function(){return Dp(Ii)},useDebugValue:Mp,useDeferredValue:function(n,s){var o=jt();return ht===null?kp(o,n,s):G0(o,ht.memoizedState,n,s)},useTransition:function(){var n=Dp(Ii)[0],s=jt().memoizedState;return[typeof n=="boolean"?n:Gu(n),s]},useSyncExternalStore:E0,useId:Y0,useHostTransitionStatus:jp,useFormState:M0,useActionState:M0,useOptimistic:function(n,s){var o=jt();return ht!==null?x0(o,ht,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Cp,useCacheRefresh:X0};tE.useEffectEvent=j0;function zp(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:E({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var qp={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Qn(),f=gs(u);f.payload=s,o!=null&&(f.callback=o),s=ys(n,f,u),s!==null&&(Dn(s,n,u),zu(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Qn(),f=gs(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ys(n,f,u),s!==null&&(Dn(s,n,u),zu(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Qn(),u=gs(o);u.tag=2,s!=null&&(u.callback=s),s=ys(n,u,o),s!==null&&(Dn(s,n,o),zu(s,n,o))}};function nE(n,s,o,u,f,p,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,b):s.prototype&&s.prototype.isPureReactComponent?!Ou(o,u)||!Ou(f,p):!0}function rE(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&qp.enqueueReplaceState(s,s.state,null)}function qa(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=E({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function iE(n){ed(n)}function sE(n){console.error(n)}function aE(n){ed(n)}function wd(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function oE(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Fp(n,s,o){return o=gs(o),o.tag=3,o.payload={element:null},o.callback=function(){wd(n,s)},o}function lE(n){return n=gs(n),n.tag=3,n}function uE(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){oE(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){oE(s,o,u),typeof f!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function AR(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Fo(s,o,f,!0),o=Fn.current,o!==null){switch(o.tag){case 31:case 13:return lr===null?Md():o.alternate===null&&Pt===0&&(Pt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===cd?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),mg(n,u,f)),!1;case 22:return o.flags|=65536,u===cd?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),mg(n,u,f)),!1}throw Error(i(435,o.tag))}return mg(n,u,f),Md(),!1}if(Ke)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==lp&&(n=Error(i(422),{cause:u}),ku(ir(n,o)))):(u!==lp&&(s=Error(i(423),{cause:u}),ku(ir(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=ir(u,o),f=Fp(n.stateNode,u,f),vp(n,f),Pt!==4&&(Pt=2)),!1;var p=Error(i(520),{cause:u});if(p=ir(p,o),tc===null?tc=[p]:tc.push(p),Pt!==4&&(Pt=2),s===null)return!0;u=ir(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Fp(o.stateNode,u,n),vp(o,n),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ws===null||!ws.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=lE(f),uE(f,n,o,u),vp(o,f),!1}o=o.return}while(o!==null);return!1}var Hp=Error(i(461)),Qt=!1;function dn(n,s,o,u){s.child=n===null?f0(s,null,o,u):Ba(s,n.child,o,u)}function cE(n,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var b={};for(var A in u)A!=="ref"&&(b[A]=u[A])}else b=u;return ka(s),u=Sp(n,s,o,b,p,f),A=xp(),n!==null&&!Qt?(Ip(n,s,f),Ri(n,s,f)):(Ke&&A&&ap(s),s.flags|=1,dn(n,s,u,f),s.child)}function hE(n,s,o,u,f){if(n===null){var p=o.type;return typeof p=="function"&&!rp(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,dE(n,s,p,u,f)):(n=id(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Wp(n,f)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ou,o(b,u)&&n.ref===s.ref)return Ri(n,s,f)}return s.flags|=1,n=Ti(p,u),n.ref=s.ref,n.return=s,s.child=n}function dE(n,s,o,u,f){if(n!==null){var p=n.memoizedProps;if(Ou(p,u)&&n.ref===s.ref)if(Qt=!1,s.pendingProps=u=p,Wp(n,f))(n.flags&131072)!==0&&(Qt=!0);else return s.lanes=n.lanes,Ri(n,s,f)}return Gp(n,s,o,u,f)}function fE(n,s,o,u){var f=u.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,s.child=null;return mE(n,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ld(s,p!==null?p.cachePool:null),p!==null?g0(s,p):bp(),y0(s);else return u=s.lanes=536870912,mE(n,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(ld(s,p.cachePool),g0(s,p),vs(),s.memoizedState=null):(n!==null&&ld(s,null),bp(),vs());return dn(n,s,f,o),s.child}function $u(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function mE(n,s,o,u,f){var p=pp();return p=p===null?null:{parent:Gt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},n!==null&&ld(s,null),bp(),y0(s),n!==null&&Fo(n,s,u,!0),s.childLanes=f,null}function Ad(n,s){return s=xd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function pE(n,s,o){return Ba(s,n.child,null,o),n=Ad(s,s.pendingProps),n.flags|=2,Hn(s),s.memoizedState=null,n}function SR(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ke){if(u.mode==="hidden")return n=Ad(s,u),s.lanes=536870912,$u(null,n);if(wp(s),(n=vt)?(n=Ib(n,or),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:hs!==null?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=Wv(n),o.return=s,s.child=o,cn=s,vt=null)):n=null,n===null)throw fs(s);return s.lanes=536870912,null}return Ad(s,u)}var p=n.memoizedState;if(p!==null){var b=p.dehydrated;if(wp(s),f)if(s.flags&256)s.flags&=-257,s=pE(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Qt||Fo(n,s,o,!1),f=(o&n.childLanes)!==0,Qt||f){if(u=pt,u!==null&&(b=pu(u,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,Va(n,b),Dn(u,n,b),Hp;Md(),s=pE(n,s,o)}else n=p.treeContext,vt=ur(b.nextSibling),cn=s,Ke=!0,ds=null,or=!1,n!==null&&t0(s,n),s=Ad(s,u),s.flags|=4096;return s}return n=Ti(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Sd(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Gp(n,s,o,u,f){return ka(s),o=Sp(n,s,o,u,void 0,f),u=xp(),n!==null&&!Qt?(Ip(n,s,f),Ri(n,s,f)):(Ke&&u&&ap(s),s.flags|=1,dn(n,s,o,f),s.child)}function gE(n,s,o,u,f,p){return ka(s),s.updateQueue=null,o=v0(s,u,o,f),_0(n),u=xp(),n!==null&&!Qt?(Ip(n,s,p),Ri(n,s,p)):(Ke&&u&&ap(s),s.flags|=1,dn(n,s,o,p),s.child)}function yE(n,s,o,u,f){if(ka(s),s.stateNode===null){var p=Uo,b=o.contextType;typeof b=="object"&&b!==null&&(p=hn(b)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=qp,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},yp(s),b=o.contextType,p.context=typeof b=="object"&&b!==null?hn(b):Uo,p.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(zp(s,o,b,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&qp.enqueueReplaceState(p,p.state,null),Fu(s,u,p,f),qu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){p=s.stateNode;var A=s.memoizedProps,D=qa(o,A);p.props=D;var G=p.context,te=o.contextType;b=Uo,typeof te=="object"&&te!==null&&(b=hn(te));var ae=o.getDerivedStateFromProps;te=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||G!==b)&&rE(s,p,u,b),ps=!1;var $=s.memoizedState;p.state=$,Fu(s,u,p,f),qu(),G=s.memoizedState,A||$!==G||ps?(typeof ae=="function"&&(zp(s,o,ae,u),G=s.memoizedState),(D=ps||nE(s,o,D,u,$,G,b))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),p.props=u,p.state=G,p.context=b,u=D):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,_p(n,s),b=s.memoizedProps,te=qa(o,b),p.props=te,ae=s.pendingProps,$=p.context,G=o.contextType,D=Uo,typeof G=="object"&&G!==null&&(D=hn(G)),A=o.getDerivedStateFromProps,(G=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ae||$!==D)&&rE(s,p,u,D),ps=!1,$=s.memoizedState,p.state=$,Fu(s,u,p,f),qu();var Z=s.memoizedState;b!==ae||$!==Z||ps||n!==null&&n.dependencies!==null&&ad(n.dependencies)?(typeof A=="function"&&(zp(s,o,A,u),Z=s.memoizedState),(te=ps||nE(s,o,te,u,$,Z,D)||n!==null&&n.dependencies!==null&&ad(n.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Z,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Z,D)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),p.props=u,p.state=Z,p.context=D,u=te):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),u=!1)}return p=u,Sd(n,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&u?(s.child=Ba(s,n.child,null,f),s.child=Ba(s,null,o,f)):dn(n,s,o,f),s.memoizedState=p.state,n=s.child):n=Ri(n,s,f),n}function _E(n,s,o,u){return Pa(),s.flags|=256,dn(n,s,o,u),s.child}var Kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qp(n){return{baseLanes:n,cachePool:o0()}}function $p(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Kn),n}function vE(n,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,b;if((b=p)||(b=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ke){if(f?_s(s):vs(),(n=vt)?(n=Ib(n,or),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:hs!==null?{id:Zr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=Wv(n),o.return=s,s.child=o,cn=s,vt=null)):n=null,n===null)throw fs(s);return Ng(n)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(vs(),f=s.mode,A=xd({mode:"hidden",children:A},f),u=Oa(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=Qp(o),u.childLanes=$p(n,b,o),s.memoizedState=Kp,$u(null,u)):(_s(s),Yp(s,A))}var D=n.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(p)s.flags&256?(_s(s),s.flags&=-257,s=Xp(n,s,o)):s.memoizedState!==null?(vs(),s.child=n.child,s.flags|=128,s=null):(vs(),A=u.fallback,f=s.mode,u=xd({mode:"visible",children:u.children},f),A=Oa(A,f,o,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,Ba(s,n.child,null,o),u=s.child,u.memoizedState=Qp(o),u.childLanes=$p(n,b,o),s.memoizedState=Kp,s=$u(null,u));else if(_s(s),Ng(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var G=b.dgst;b=G,u=Error(i(419)),u.stack="",u.digest=b,ku({value:u,source:null,stack:null}),s=Xp(n,s,o)}else if(Qt||Fo(n,s,o,!1),b=(o&n.childLanes)!==0,Qt||b){if(b=pt,b!==null&&(u=pu(b,o),u!==0&&u!==D.retryLane))throw D.retryLane=u,Va(n,u),Dn(b,n,u),Hp;Cg(A)||Md(),s=Xp(n,s,o)}else Cg(A)?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,vt=ur(A.nextSibling),cn=s,Ke=!0,ds=null,or=!1,n!==null&&t0(s,n),s=Yp(s,u.children),s.flags|=4096);return s}return f?(vs(),A=u.fallback,f=s.mode,D=n.child,G=D.sibling,u=Ti(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,G!==null?A=Ti(G,A):(A=Oa(A,f,o,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,$u(null,u),u=s.child,A=n.child.memoizedState,A===null?A=Qp(o):(f=A.cachePool,f!==null?(D=Gt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=o0(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=$p(n,b,o),s.memoizedState=Kp,$u(n.child,u)):(_s(s),o=n.child,n=o.sibling,o=Ti(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=o,s.memoizedState=null,o)}function Yp(n,s){return s=xd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function xd(n,s){return n=qn(22,n,null,s),n.lanes=0,n}function Xp(n,s,o){return Ba(s,n.child,null,o),n=Yp(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function EE(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),hp(n.return,s,o)}function Jp(n,s,o,u,f,p){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=f,b.treeForkCount=p)}function bE(n,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var b=Lt.current,A=(b&2)!==0;if(A?(b=b&1|2,s.flags|=128):b&=1,me(Lt,b),dn(n,s,u,o),u=Ke?Mu:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&EE(n,o,s);else if(n.tag===19)EE(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&md(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Jp(s,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&md(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Jp(s,!0,o,null,p,u);break;case"together":Jp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ri(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Ts|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Fo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=Ti(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Ti(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Wp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&ad(n)))}function xR(n,s,o){switch(s.tag){case 3:Vt(s,s.stateNode.containerInfo),ms(s,Gt,n.memoizedState.cache),Pa();break;case 27:case 5:yi(s);break;case 4:Vt(s,s.stateNode.containerInfo);break;case 10:ms(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,wp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(_s(s),s.flags|=128,null):(o&s.child.childLanes)!==0?vE(n,s,o):(_s(s),n=Ri(n,s,o),n!==null?n.sibling:null);_s(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Fo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return bE(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),me(Lt,Lt.current),u)break;return null;case 22:return s.lanes=0,fE(n,s,o,s.pendingProps);case 24:ms(s,Gt,n.memoizedState.cache)}return Ri(n,s,o)}function TE(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Qt=!0;else{if(!Wp(n,o)&&(s.flags&128)===0)return Qt=!1,xR(n,s,o);Qt=(n.flags&131072)!==0}else Qt=!1,Ke&&(s.flags&1048576)!==0&&e0(s,Mu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=ja(s.elementType),s.type=n,typeof n=="function")rp(n)?(u=qa(n,u),s.tag=1,s=yE(null,s,n,u,o)):(s.tag=0,s=Gp(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===ue){s.tag=11,s=cE(null,s,n,u,o);break e}else if(f===R){s.tag=14,s=hE(null,s,n,u,o);break e}}throw s=nt(n)||n,Error(i(306,s,""))}}return s;case 0:return Gp(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=qa(u,s.pendingProps),yE(n,s,u,f,o);case 3:e:{if(Vt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,_p(n,s),Fu(s,u,null,o);var b=s.memoizedState;if(u=b.cache,ms(s,Gt,u),u!==p.cache&&dp(s,[Gt],o,!0),qu(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=_E(n,s,u,o);break e}else if(u!==f){f=ir(Error(i(424)),s),ku(f),s=_E(n,s,u,o);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,vt=ur(n.firstChild),cn=s,Ke=!0,ds=null,or=!0,o=f0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Pa(),u===f){s=Ri(n,s,o);break e}dn(n,s,u,o)}s=s.child}return s;case 26:return Sd(n,s),n===null?(o=Ob(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ke||(o=s.type,n=s.pendingProps,u=qd(Re.current).createElement(o),u[qt]=s,u[tn]=n,fn(u,o,n),Ft(u),s.stateNode=u):s.memoizedState=Ob(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return yi(s),n===null&&Ke&&(u=s.stateNode=Nb(s.type,s.pendingProps,Re.current),cn=s,or=!0,f=vt,Is(s.type)?(Dg=f,vt=ur(u.firstChild)):vt=f),dn(n,s,s.pendingProps.children,o),Sd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ke&&((f=u=vt)&&(u=nC(u,s.type,s.pendingProps,or),u!==null?(s.stateNode=u,cn=s,vt=ur(u.firstChild),or=!1,f=!0):f=!1),f||fs(s)),yi(s),f=s.type,p=s.pendingProps,b=n!==null?n.memoizedProps:null,u=p.children,xg(f,p)?u=null:b!==null&&xg(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=Sp(n,s,yR,null,null,o),uc._currentValue=f),Sd(n,s),dn(n,s,u,o),s.child;case 6:return n===null&&Ke&&((n=o=vt)&&(o=rC(o,s.pendingProps,or),o!==null?(s.stateNode=o,cn=s,vt=null,n=!0):n=!1),n||fs(s)),null;case 13:return vE(n,s,o);case 4:return Vt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Ba(s,null,u,o):dn(n,s,u,o),s.child;case 11:return cE(n,s,s.type,s.pendingProps,o);case 7:return dn(n,s,s.pendingProps,o),s.child;case 8:return dn(n,s,s.pendingProps.children,o),s.child;case 12:return dn(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ms(s,s.type,u.value),dn(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ka(s),f=hn(f),u=u(f),s.flags|=1,dn(n,s,u,o),s.child;case 14:return hE(n,s,s.type,s.pendingProps,o);case 15:return dE(n,s,s.type,s.pendingProps,o);case 19:return bE(n,s,o);case 31:return SR(n,s,o);case 22:return fE(n,s,o,s.pendingProps);case 24:return ka(s),u=hn(Gt),n===null?(f=pp(),f===null&&(f=pt,p=fp(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},yp(s),ms(s,Gt,f)):((n.lanes&o)!==0&&(_p(n,s),Fu(s,null,null,o),qu()),f=n.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),ms(s,Gt,u)):(u=p.cache,ms(s,Gt,u),u!==f.cache&&dp(s,[Gt],o,!0))),dn(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ci(n){n.flags|=4}function Zp(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(YE())n.flags|=8192;else throw Ua=cd,gp}else n.flags&=-16777217}function wE(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!jb(s))if(YE())n.flags|=8192;else throw Ua=cd,gp}function Id(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Oh():536870912,n.lanes|=s,tl|=s)}function Yu(n,s){if(!Ke)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Et(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function IR(n,s,o){var u=s.pendingProps;switch(op(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(s),null;case 1:return Et(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Si(Gt),gt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(qo(s)?Ci(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,up())),Et(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(Ci(s),p!==null?(Et(s),wE(s,p)):(Et(s),Zp(s,f,null,u,o))):p?p!==n.memoizedState?(Ci(s),Et(s),wE(s,p)):(Et(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Ci(s),Et(s),Zp(s,f,n,u,o)),null;case 27:if(Zi(s),o=Re.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ci(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Et(s),null}n=ye.current,qo(s)?n0(s):(n=Nb(f,u,o),s.stateNode=n,Ci(s))}return Et(s),null;case 5:if(Zi(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ci(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Et(s),null}if(p=ye.current,qo(s))n0(s);else{var b=qd(Re.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(f,{is:u.is}):b.createElement(f)}}p[qt]=s,p[tn]=u;e:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break e;for(;b.sibling===null;){if(b.return===null||b.return===s)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=p;e:switch(fn(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ci(s)}}return Et(s),Zp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Ci(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=Re.current,qo(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=cn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[qt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||vb(n.nodeValue,o)),n||fs(s,!0)}else n=qd(n).createTextNode(u),n[qt]=s,s.stateNode=n}return Et(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=qo(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[qt]=s}else Pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),n=!1}else o=up(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Hn(s),s):(Hn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Et(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=qo(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[qt]=s}else Pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Et(s),f=!1}else f=up(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Hn(s),s):(Hn(s),null)}return Hn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Id(s,s.updateQueue),Et(s),null);case 4:return gt(),n===null&&bg(s.stateNode.containerInfo),Et(s),null;case 10:return Si(s.type),Et(s),null;case 19:if(se(Lt),u=s.memoizedState,u===null)return Et(s),null;if(f=(s.flags&128)!==0,p=u.rendering,p===null)if(f)Yu(u,!1);else{if(Pt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=md(n),p!==null){for(s.flags|=128,Yu(u,!1),n=p.updateQueue,s.updateQueue=n,Id(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Jv(o,n),o=o.sibling;return me(Lt,Lt.current&1|2),Ke&&wi(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Tn()>Vd&&(s.flags|=128,f=!0,Yu(u,!1),s.lanes=4194304)}else{if(!f)if(n=md(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Id(s,n),Yu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ke)return Et(s),null}else 2*Tn()-u.renderingStartTime>Vd&&o!==536870912&&(s.flags|=128,f=!0,Yu(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(n=u.last,n!==null?n.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Tn(),n.sibling=null,o=Lt.current,me(Lt,f?o&1|2:o&1),Ke&&wi(s,u.treeForkCount),n):(Et(s),null);case 22:case 23:return Hn(s),Tp(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Et(s),s.subtreeFlags&6&&(s.flags|=8192)):Et(s),o=s.updateQueue,o!==null&&Id(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&se(La),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Si(Gt),Et(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function RR(n,s){switch(op(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Si(Gt),gt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Zi(s),null;case 31:if(s.memoizedState!==null){if(Hn(s),s.alternate===null)throw Error(i(340));Pa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Hn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Pa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return se(Lt),null;case 4:return gt(),null;case 10:return Si(s.type),null;case 22:case 23:return Hn(s),Tp(),n!==null&&se(La),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Si(Gt),null;case 25:return null;default:return null}}function AE(n,s){switch(op(s),s.tag){case 3:Si(Gt),gt();break;case 26:case 27:case 5:Zi(s);break;case 4:gt();break;case 31:s.memoizedState!==null&&Hn(s);break;case 13:Hn(s);break;case 19:se(Lt);break;case 10:Si(s.type);break;case 22:case 23:Hn(s),Tp(),n!==null&&se(La);break;case 24:Si(Gt)}}function Xu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==f)}}catch(A){st(s,s.return,A)}}function Es(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var b=u.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,f=s;var D=o,G=A;try{G()}catch(te){st(f,D,te)}}}u=u.next}while(u!==p)}}catch(te){st(s,s.return,te)}}function SE(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{p0(s,o)}catch(u){st(n,n.return,u)}}}function xE(n,s,o){o.props=qa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){st(n,s,u)}}function Ju(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){st(n,s,f)}}function ti(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){st(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){st(n,s,f)}else o.current=null}function IE(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){st(n,n.return,f)}}function eg(n,s,o){try{var u=n.stateNode;XR(u,n.type,o,s),u[tn]=s}catch(f){st(n,n.return,f)}}function RE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Is(n.type)||n.tag===4}function tg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||RE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Is(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ng(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=_r));else if(u!==4&&(u===27&&Is(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(ng(n,s,o),n=n.sibling;n!==null;)ng(n,s,o),n=n.sibling}function Rd(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&Is(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Rd(n,s,o),n=n.sibling;n!==null;)Rd(n,s,o),n=n.sibling}function CE(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);fn(s,u,o),s[qt]=n,s[tn]=o}catch(p){st(n,n.return,p)}}var Ni=!1,$t=!1,rg=!1,NE=typeof WeakSet=="function"?WeakSet:Set,rn=null;function CR(n,s){if(n=n.containerInfo,Ag=Yd,n=qv(n),Xm(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,A=-1,D=-1,G=0,te=0,ae=n,$=null;t:for(;;){for(var Z;ae!==o||f!==0&&ae.nodeType!==3||(A=b+f),ae!==p||u!==0&&ae.nodeType!==3||(D=b+u),ae.nodeType===3&&(b+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)$=ae,ae=Z;for(;;){if(ae===n)break t;if($===o&&++G===f&&(A=b),$===p&&++te===u&&(D=b),(Z=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=Z}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sg={focusedElem:n,selectionRange:o},Yd=!1,rn=s;rn!==null;)if(s=rn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,rn=n;else for(;rn!==null;){switch(s=rn,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var _e=qa(o.type,f);n=u.getSnapshotBeforeUpdate(_e,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){st(o,o.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Rg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Rg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,rn=n;break}rn=s.return}}function DE(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Vi(n,o),u&4&&Xu(5,o);break;case 1:if(Vi(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(b){st(o,o.return,b)}else{var f=qa(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){st(o,o.return,b)}}u&64&&SE(o),u&512&&Ju(o,o.return);break;case 3:if(Vi(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{p0(n,s)}catch(b){st(o,o.return,b)}}break;case 27:s===null&&u&4&&CE(o);case 26:case 5:Vi(n,o),s===null&&u&4&&IE(o),u&512&&Ju(o,o.return);break;case 12:Vi(n,o);break;case 31:Vi(n,o),u&4&&PE(n,o);break;case 13:Vi(n,o),u&4&&ME(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=jR.bind(null,o),iC(n,o))));break;case 22:if(u=o.memoizedState!==null||Ni,!u){s=s!==null&&s.memoizedState!==null||$t,f=Ni;var p=$t;Ni=u,($t=s)&&!p?Oi(n,o,(o.subtreeFlags&8772)!==0):Vi(n,o),Ni=f,$t=p}break;case 30:break;default:Vi(n,o)}}function VE(n){var s=n.alternate;s!==null&&(n.alternate=null,VE(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&So(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xt=null,In=!1;function Di(n,s,o){for(o=o.child;o!==null;)OE(n,s,o),o=o.sibling}function OE(n,s,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(mr,o)}catch{}switch(o.tag){case 26:$t||ti(o,s),Di(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$t||ti(o,s);var u=xt,f=In;Is(o.type)&&(xt=o.stateNode,In=!1),Di(n,s,o),ac(o.stateNode),xt=u,In=f;break;case 5:$t||ti(o,s);case 6:if(u=xt,f=In,xt=null,Di(n,s,o),xt=u,In=f,xt!==null)if(In)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(o.stateNode)}catch(p){st(o,s,p)}else try{xt.removeChild(o.stateNode)}catch(p){st(o,s,p)}break;case 18:xt!==null&&(In?(n=xt,Sb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ul(n)):Sb(xt,o.stateNode));break;case 4:u=xt,f=In,xt=o.stateNode.containerInfo,In=!0,Di(n,s,o),xt=u,In=f;break;case 0:case 11:case 14:case 15:Es(2,o,s),$t||Es(4,o,s),Di(n,s,o);break;case 1:$t||(ti(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&xE(o,s,u)),Di(n,s,o);break;case 21:Di(n,s,o);break;case 22:$t=(u=$t)||o.memoizedState!==null,Di(n,s,o),$t=u;break;default:Di(n,s,o)}}function PE(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ul(n)}catch(o){st(s,s.return,o)}}}function ME(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ul(n)}catch(o){st(s,s.return,o)}}function NR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new NE),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new NE),s;default:throw Error(i(435,n.tag))}}function Cd(n,s){var o=NR(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=UR.bind(null,n,u);u.then(f,f)}})}function Rn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=n,b=s,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Is(A.type)){xt=A.stateNode,In=!1;break e}break;case 5:xt=A.stateNode,In=!1;break e;case 3:case 4:xt=A.stateNode.containerInfo,In=!0;break e}A=A.return}if(xt===null)throw Error(i(160));OE(p,b,f),xt=null,In=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)kE(s,n),s=s.sibling}var Ar=null;function kE(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(s,n),Cn(n),u&4&&(Es(3,n,n.return),Xu(3,n),Es(5,n,n.return));break;case 1:Rn(s,n),Cn(n),u&512&&($t||o===null||ti(o,o.return)),u&64&&Ni&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ar;if(Rn(s,n),Cn(n),u&512&&($t||o===null||ti(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[zr]||p[qt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),fn(p,u,o),p[qt]=n,Ft(p),u=p;break e;case"link":var b=kb("link","href",f).get(u+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(p=b[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}p=f.createElement(u),fn(p,u,o),f.head.appendChild(p);break;case"meta":if(b=kb("meta","content",f).get(u+(o.content||""))){for(A=0;A<b.length;A++)if(p=b[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}p=f.createElement(u),fn(p,u,o),f.head.appendChild(p);break;default:throw Error(i(468,u))}p[qt]=n,Ft(p),u=p}n.stateNode=u}else Lb(f,n.type,n.stateNode);else n.stateNode=Mb(f,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?Lb(f,n.type,n.stateNode):Mb(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&eg(n,n.memoizedProps,o.memoizedProps)}break;case 27:Rn(s,n),Cn(n),u&512&&($t||o===null||ti(o,o.return)),o!==null&&u&4&&eg(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Rn(s,n),Cn(n),u&512&&($t||o===null||ti(o,o.return)),n.flags&32){f=n.stateNode;try{xn(f,"")}catch(_e){st(n,n.return,_e)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,eg(n,f,o!==null?o.memoizedProps:f)),u&1024&&(rg=!0);break;case 6:if(Rn(s,n),Cn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(_e){st(n,n.return,_e)}}break;case 3:if(Gd=null,f=Ar,Ar=Fd(s.containerInfo),Rn(s,n),Ar=f,Cn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ul(s.containerInfo)}catch(_e){st(n,n.return,_e)}rg&&(rg=!1,LE(n));break;case 4:u=Ar,Ar=Fd(n.stateNode.containerInfo),Rn(s,n),Cn(n),Ar=u;break;case 12:Rn(s,n),Cn(n);break;case 31:Rn(s,n),Cn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Cd(n,u)));break;case 13:Rn(s,n),Cn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dd=Tn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Cd(n,u)));break;case 22:f=n.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,G=Ni,te=$t;if(Ni=G||f,$t=te||D,Rn(s,n),$t=te,Ni=G,Cn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||D||Ni||$t||Fa(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(p=D.stateNode,f)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=D.stateNode;var ae=D.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(_e){st(D,D.return,_e)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(_e){st(D,D.return,_e)}}}else if(s.tag===18){if(o===null){D=s;try{var Z=D.stateNode;f?xb(Z,!0):xb(D.stateNode,!1)}catch(_e){st(D,D.return,_e)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Cd(n,o))));break;case 19:Rn(s,n),Cn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Cd(n,u)));break;case 30:break;case 21:break;default:Rn(s,n),Cn(n)}}function Cn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(RE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=tg(n);Rd(n,p,f);break;case 5:var b=o.stateNode;o.flags&32&&(xn(b,""),o.flags&=-33);var A=tg(n);Rd(n,A,b);break;case 3:case 4:var D=o.stateNode.containerInfo,G=tg(n);ng(n,G,D);break;default:throw Error(i(161))}}catch(te){st(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function LE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;LE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Vi(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)DE(n,s.alternate,s),s=s.sibling}function Fa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Es(4,s,s.return),Fa(s);break;case 1:ti(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&xE(s,s.return,o),Fa(s);break;case 27:ac(s.stateNode);case 26:case 5:ti(s,s.return),Fa(s);break;case 22:s.memoizedState===null&&Fa(s);break;case 30:Fa(s);break;default:Fa(s)}n=n.sibling}}function Oi(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,p=s,b=p.flags;switch(p.tag){case 0:case 11:case 15:Oi(f,p,o),Xu(4,p);break;case 1:if(Oi(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){st(u,u.return,G)}if(u=p,f=u.updateQueue,f!==null){var A=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)m0(D[f],A)}catch(G){st(u,u.return,G)}}o&&b&64&&SE(p),Ju(p,p.return);break;case 27:CE(p);case 26:case 5:Oi(f,p,o),o&&u===null&&b&4&&IE(p),Ju(p,p.return);break;case 12:Oi(f,p,o);break;case 31:Oi(f,p,o),o&&b&4&&PE(f,p);break;case 13:Oi(f,p,o),o&&b&4&&ME(f,p);break;case 22:p.memoizedState===null&&Oi(f,p,o),Ju(p,p.return);break;case 30:break;default:Oi(f,p,o)}s=s.sibling}}function ig(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Lu(o))}function sg(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Lu(n))}function Sr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)jE(n,s,o,u),s=s.sibling}function jE(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Sr(n,s,o,u),f&2048&&Xu(9,s);break;case 1:Sr(n,s,o,u);break;case 3:Sr(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Lu(n)));break;case 12:if(f&2048){Sr(n,s,o,u),n=s.stateNode;try{var p=s.memoizedProps,b=p.id,A=p.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){st(s,s.return,D)}}else Sr(n,s,o,u);break;case 31:Sr(n,s,o,u);break;case 13:Sr(n,s,o,u);break;case 23:break;case 22:p=s.stateNode,b=s.alternate,s.memoizedState!==null?p._visibility&2?Sr(n,s,o,u):Wu(n,s):p._visibility&2?Sr(n,s,o,u):(p._visibility|=2,Wo(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&ig(b,s);break;case 24:Sr(n,s,o,u),f&2048&&sg(s.alternate,s);break;default:Sr(n,s,o,u)}}function Wo(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,b=s,A=o,D=u,G=b.flags;switch(b.tag){case 0:case 11:case 15:Wo(p,b,A,D,f),Xu(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?Wo(p,b,A,D,f):Wu(p,b):(te._visibility|=2,Wo(p,b,A,D,f)),f&&G&2048&&ig(b.alternate,b);break;case 24:Wo(p,b,A,D,f),f&&G&2048&&sg(b.alternate,b);break;default:Wo(p,b,A,D,f)}s=s.sibling}}function Wu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:Wu(o,u),f&2048&&ig(u.alternate,u);break;case 24:Wu(o,u),f&2048&&sg(u.alternate,u);break;default:Wu(o,u)}s=s.sibling}}var Zu=8192;function Zo(n,s,o){if(n.subtreeFlags&Zu)for(n=n.child;n!==null;)UE(n,s,o),n=n.sibling}function UE(n,s,o){switch(n.tag){case 26:Zo(n,s,o),n.flags&Zu&&n.memoizedState!==null&&gC(o,Ar,n.memoizedState,n.memoizedProps);break;case 5:Zo(n,s,o);break;case 3:case 4:var u=Ar;Ar=Fd(n.stateNode.containerInfo),Zo(n,s,o),Ar=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Zu,Zu=16777216,Zo(n,s,o),Zu=u):Zo(n,s,o));break;default:Zo(n,s,o)}}function BE(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ec(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];rn=u,qE(u,n)}BE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zE(n),n=n.sibling}function zE(n){switch(n.tag){case 0:case 11:case 15:ec(n),n.flags&2048&&Es(9,n,n.return);break;case 3:ec(n);break;case 12:ec(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Nd(n)):ec(n);break;default:ec(n)}}function Nd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];rn=u,qE(u,n)}BE(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Es(8,s,s.return),Nd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Nd(s));break;default:Nd(s)}n=n.sibling}}function qE(n,s){for(;rn!==null;){var o=rn;switch(o.tag){case 0:case 11:case 15:Es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Lu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,rn=u;else e:for(o=n;rn!==null;){u=rn;var f=u.sibling,p=u.return;if(VE(u),u===o){rn=null;break e}if(f!==null){f.return=p,rn=f;break e}rn=p}}}var DR={getCacheForType:function(n){var s=hn(Gt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return hn(Gt).controller.signal}},VR=typeof WeakMap=="function"?WeakMap:Map,et=0,pt=null,Ue=null,qe=0,it=0,Gn=null,bs=!1,el=!1,ag=!1,Pi=0,Pt=0,Ts=0,Ha=0,og=0,Kn=0,tl=0,tc=null,Nn=null,lg=!1,Dd=0,FE=0,Vd=1/0,Od=null,ws=null,Jt=0,As=null,nl=null,Mi=0,ug=0,cg=null,HE=null,nc=0,hg=null;function Qn(){return(et&2)!==0&&qe!==0?qe&-qe:X.T!==null?yg():Ph()}function GE(){if(Kn===0)if((qe&536870912)===0||Ke){var n=ya;ya<<=1,(ya&3932160)===0&&(ya=262144),Kn=n}else Kn=536870912;return n=Fn.current,n!==null&&(n.flags|=32),Kn}function Dn(n,s,o){(n===pt&&(it===2||it===9)||n.cancelPendingCommit!==null)&&(rl(n,0),Ss(n,qe,Kn,!1)),_a(n,o),((et&2)===0||n!==pt)&&(n===pt&&((et&2)===0&&(Ha|=o),Pt===4&&Ss(n,qe,Kn,!1)),ni(n))}function KE(n,s,o){if((et&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||pr(n,s),f=u?MR(n,s):fg(n,s,!0),p=u;do{if(f===0){el&&!u&&Ss(n,s,0,!1);break}else{if(o=n.current.alternate,p&&!OR(o)){f=fg(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var A=n;f=tc;var D=A.current.memoizedState.isDehydrated;if(D&&(rl(A,b).flags|=256),b=fg(A,b,!1),b!==2){if(ag&&!D){A.errorRecoveryDisabledLanes|=p,Ha|=p,f=4;break e}p=Nn,Nn=f,p!==null&&(Nn===null?Nn=p:Nn.push.apply(Nn,p))}f=b}if(p=!1,f!==2)continue}}if(f===1){rl(n,0),Ss(n,s,0,!0);break}e:{switch(u=n,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ss(u,s,Kn,!bs);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Dd+300-Tn(),10<f)){if(Ss(u,s,Kn,!bs),jr(u,0,!0)!==0)break e;Mi=s,u.timeoutHandle=wb(QE.bind(null,u,o,Nn,Od,lg,s,Kn,Ha,tl,bs,p,"Throttled",-0,0),f);break e}QE(u,o,Nn,Od,lg,s,Kn,Ha,tl,bs,p,null,-0,0)}}break}while(!0);ni(n)}function QE(n,s,o,u,f,p,b,A,D,G,te,ae,$,Z){if(n.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_r},UE(s,p,ae);var _e=(p&62914560)===p?Dd-Tn():(p&4194048)===p?FE-Tn():0;if(_e=yC(ae,_e),_e!==null){Mi=p,n.cancelPendingCommit=_e(tb.bind(null,n,s,p,o,u,f,b,A,D,te,ae,null,$,Z)),Ss(n,p,b,!G);return}}tb(n,s,p,o,u,f,b,A,D)}function OR(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!zn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ss(n,s,o,u){s&=~og,s&=~Ha,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var p=31-Mt(f),b=1<<p;u[p]=-1,f&=~b}o!==0&&va(n,o,s)}function Pd(){return(et&6)===0?(rc(0),!1):!0}function dg(){if(Ue!==null){if(it===0)var n=Ue.return;else n=Ue,Ai=Ma=null,Rp(n),Qo=null,Uu=0,n=Ue;for(;n!==null;)AE(n.alternate,n),n=n.return;Ue=null}}function rl(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,ZR(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Mi=0,dg(),pt=n,Ue=o=Ti(n.current,null),qe=s,it=0,Gn=null,bs=!1,el=pr(n,s),ag=!1,tl=Kn=og=Ha=Ts=Pt=0,Nn=tc=null,lg=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Mt(u),p=1<<f;s|=n[f],u&=~p}return Pi=s,td(),o}function $E(n,s){Ve=null,X.H=Qu,s===Ko||s===ud?(s=c0(),it=3):s===gp?(s=c0(),it=4):it=s===Hp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,Ue===null&&(Pt=1,wd(n,ir(s,n.current)))}function YE(){var n=Fn.current;return n===null?!0:(qe&4194048)===qe?lr===null:(qe&62914560)===qe||(qe&536870912)!==0?n===lr:!1}function XE(){var n=X.H;return X.H=Qu,n===null?Qu:n}function JE(){var n=X.A;return X.A=DR,n}function Md(){Pt=4,bs||(qe&4194048)!==qe&&Fn.current!==null||(el=!0),(Ts&134217727)===0&&(Ha&134217727)===0||pt===null||Ss(pt,qe,Kn,!1)}function fg(n,s,o){var u=et;et|=2;var f=XE(),p=JE();(pt!==n||qe!==s)&&(Od=null,rl(n,s)),s=!1;var b=Pt;e:do try{if(it!==0&&Ue!==null){var A=Ue,D=Gn;switch(it){case 8:dg(),b=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var G=it;if(it=0,Gn=null,il(n,A,D,G),o&&el){b=0;break e}break;default:G=it,it=0,Gn=null,il(n,A,D,G)}}PR(),b=Pt;break}catch(te){$E(n,te)}while(!0);return s&&n.shellSuspendCounter++,Ai=Ma=null,et=u,X.H=f,X.A=p,Ue===null&&(pt=null,qe=0,td()),b}function PR(){for(;Ue!==null;)WE(Ue)}function MR(n,s){var o=et;et|=2;var u=XE(),f=JE();pt!==n||qe!==s?(Od=null,Vd=Tn()+500,rl(n,s)):el=pr(n,s);e:do try{if(it!==0&&Ue!==null){s=Ue;var p=Gn;t:switch(it){case 1:it=0,Gn=null,il(n,s,p,1);break;case 2:case 9:if(l0(p)){it=0,Gn=null,ZE(s);break}s=function(){it!==2&&it!==9||pt!==n||(it=7),ni(n)},p.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:l0(p)?(it=0,Gn=null,ZE(s)):(it=0,Gn=null,il(n,s,p,7));break;case 5:var b=null;switch(Ue.tag){case 26:b=Ue.memoizedState;case 5:case 27:var A=Ue;if(b?jb(b):A.stateNode.complete){it=0,Gn=null;var D=A.sibling;if(D!==null)Ue=D;else{var G=A.return;G!==null?(Ue=G,kd(G)):Ue=null}break t}}it=0,Gn=null,il(n,s,p,5);break;case 6:it=0,Gn=null,il(n,s,p,6);break;case 8:dg(),Pt=6;break e;default:throw Error(i(462))}}kR();break}catch(te){$E(n,te)}while(!0);return Ai=Ma=null,X.H=u,X.A=f,et=o,Ue!==null?0:(pt=null,qe=0,td(),Pt)}function kR(){for(;Ue!==null&&!Ih();)WE(Ue)}function WE(n){var s=TE(n.alternate,n,Pi);n.memoizedProps=n.pendingProps,s===null?kd(n):Ue=s}function ZE(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=gE(o,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=gE(o,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:Rp(s);default:AE(o,s),s=Ue=Jv(s,Pi),s=TE(o,s,Pi)}n.memoizedProps=n.pendingProps,s===null?kd(n):Ue=s}function il(n,s,o,u){Ai=Ma=null,Rp(s),Qo=null,Uu=0;var f=s.return;try{if(AR(n,f,s,o,qe)){Pt=1,wd(n,ir(o,n.current)),Ue=null;return}}catch(p){if(f!==null)throw Ue=f,p;Pt=1,wd(n,ir(o,n.current)),Ue=null;return}s.flags&32768?(Ke||u===1?n=!0:el||(qe&536870912)!==0?n=!1:(bs=n=!0,(u===2||u===9||u===3||u===6)&&(u=Fn.current,u!==null&&u.tag===13&&(u.flags|=16384))),eb(s,n)):kd(s)}function kd(n){var s=n;do{if((s.flags&32768)!==0){eb(s,bs);return}n=s.return;var o=IR(s.alternate,s,Pi);if(o!==null){Ue=o;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=n}while(s!==null);Pt===0&&(Pt=5)}function eb(n,s){do{var o=RR(n.alternate,n);if(o!==null){o.flags&=32767,Ue=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ue=n;return}Ue=n=o}while(n!==null);Pt=6,Ue=null}function tb(n,s,o,u,f,p,b,A,D){n.cancelPendingCommit=null;do Ld();while(Jt!==0);if((et&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=tp,Km(n,o,p,b,A,D),n===pt&&(Ue=pt=null,qe=0),nl=s,As=n,Mi=o,ug=p,cg=f,HE=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,BR(ts,function(){return ab(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=fe.p,fe.p=2,b=et,et|=4;try{CR(n,s,o)}finally{et=b,fe.p=f,X.T=u}}Jt=1,nb(),rb(),ib()}}function nb(){if(Jt===1){Jt=0;var n=As,s=nl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=fe.p;fe.p=2;var f=et;et|=4;try{kE(s,n);var p=Sg,b=qv(n.containerInfo),A=p.focusedElem,D=p.selectionRange;if(b!==A&&A&&A.ownerDocument&&zv(A.ownerDocument.documentElement,A)){if(D!==null&&Xm(A)){var G=D.start,te=D.end;if(te===void 0&&(te=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(te,A.value.length);else{var ae=A.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var Z=$.getSelection(),_e=A.textContent.length,Ae=Math.min(D.start,_e),ft=D.end===void 0?Ae:Math.min(D.end,_e);!Z.extend&&Ae>ft&&(b=ft,ft=Ae,Ae=b);var B=Bv(A,Ae),M=Bv(A,ft);if(B&&M&&(Z.rangeCount!==1||Z.anchorNode!==B.node||Z.anchorOffset!==B.offset||Z.focusNode!==M.node||Z.focusOffset!==M.offset)){var H=ae.createRange();H.setStart(B.node,B.offset),Z.removeAllRanges(),Ae>ft?(Z.addRange(H),Z.extend(M.node,M.offset)):(H.setEnd(M.node,M.offset),Z.addRange(H))}}}}for(ae=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var re=ae[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Yd=!!Ag,Sg=Ag=null}finally{et=f,fe.p=u,X.T=o}}n.current=s,Jt=2}}function rb(){if(Jt===2){Jt=0;var n=As,s=nl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=fe.p;fe.p=2;var f=et;et|=4;try{DE(n,s.alternate,s)}finally{et=f,fe.p=u,X.T=o}}Jt=3}}function ib(){if(Jt===4||Jt===3){Jt=0,es();var n=As,s=nl,o=Mi,u=HE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Jt=5:(Jt=0,nl=As=null,sb(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ws=null),_i(o),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(mr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,f=fe.p,fe.p=2,X.T=null;try{for(var p=n.onRecoverableError,b=0;b<u.length;b++){var A=u[b];p(A.value,{componentStack:A.stack})}}finally{X.T=s,fe.p=f}}(Mi&3)!==0&&Ld(),ni(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===hg?nc++:(nc=0,hg=n):nc=0,rc(0)}}function sb(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Lu(s)))}function Ld(){return nb(),rb(),ib(),ab()}function ab(){if(Jt!==5)return!1;var n=As,s=ug;ug=0;var o=_i(Mi),u=X.T,f=fe.p;try{fe.p=32>o?32:o,X.T=null,o=cg,cg=null;var p=As,b=Mi;if(Jt=0,nl=As=null,Mi=0,(et&6)!==0)throw Error(i(331));var A=et;if(et|=4,zE(p.current),jE(p,p.current,b,o),et=A,rc(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(mr,p)}catch{}return!0}finally{fe.p=f,X.T=u,sb(n,s)}}function ob(n,s,o){s=ir(o,s),s=Fp(n.stateNode,s,2),n=ys(n,s,2),n!==null&&(_a(n,2),ni(n))}function st(n,s,o){if(n.tag===3)ob(n,n,o);else for(;s!==null;){if(s.tag===3){ob(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ws===null||!ws.has(u))){n=ir(o,n),o=lE(2),u=ys(s,o,2),u!==null&&(uE(o,u,s,n),_a(u,2),ni(u));break}}s=s.return}}function mg(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new VR;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(ag=!0,f.add(o),n=LR.bind(null,n,s,o),s.then(n,n))}function LR(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,pt===n&&(qe&o)===o&&(Pt===4||Pt===3&&(qe&62914560)===qe&&300>Tn()-Dd?(et&2)===0&&rl(n,0):og|=o,tl===qe&&(tl=0)),ni(n)}function lb(n,s){s===0&&(s=Oh()),n=Va(n,s),n!==null&&(_a(n,s),ni(n))}function jR(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),lb(n,o)}function UR(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),lb(n,o)}function BR(n,s){return At(n,s)}var jd=null,sl=null,pg=!1,Ud=!1,gg=!1,xs=0;function ni(n){n!==sl&&n.next===null&&(sl===null?jd=sl=n:sl=sl.next=n),Ud=!0,pg||(pg=!0,qR())}function rc(n,s){if(!gg&&Ud){gg=!0;do for(var o=!1,u=jd;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var b=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-Mt(42|n)+1)-1,p&=f&~(b&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,db(u,p))}else p=qe,p=jr(u,u===pt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||pr(u,p)||(o=!0,db(u,p));u=u.next}while(o);gg=!1}}function zR(){ub()}function ub(){Ud=pg=!1;var n=0;xs!==0&&WR()&&(n=xs);for(var s=Tn(),o=null,u=jd;u!==null;){var f=u.next,p=cb(u,s);p===0?(u.next=null,o===null?jd=f:o.next=f,f===null&&(sl=o)):(o=u,(n!==0||(p&3)!==0)&&(Ud=!0)),u=f}Jt!==0&&Jt!==5||rc(n),xs!==0&&(xs=0)}function cb(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var b=31-Mt(p),A=1<<b,D=f[b];D===-1?((A&o)===0||(A&u)!==0)&&(f[b]=Gm(A,s)):D<=s&&(n.expiredLanes|=A),p&=~A}if(s=pt,o=qe,o=jr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(it===2||it===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Mr(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||pr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Mr(u),_i(o)){case 2:case 8:o=fu;break;case 32:o=ts;break;case 268435456:o=Rh;break;default:o=ts}return u=hb.bind(null,n),o=At(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Mr(u),n.callbackPriority=2,n.callbackNode=null,2}function hb(n,s){if(Jt!==0&&Jt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Ld()&&n.callbackNode!==o)return null;var u=qe;return u=jr(n,n===pt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(KE(n,u,s),cb(n,Tn()),n.callbackNode!=null&&n.callbackNode===o?hb.bind(null,n):null)}function db(n,s){if(Ld())return null;KE(n,s,!0)}function qR(){eC(function(){(et&6)!==0?At(du,zR):ub()})}function yg(){if(xs===0){var n=Ho;n===0&&(n=kr,kr<<=1,(kr&261888)===0&&(kr=256)),xs=n}return xs}function fb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Co(""+n)}function mb(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function FR(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=fb((f[tn]||null).action),b=u.submitter;b&&(s=(s=b[tn]||null)?fb(s.formAction):b.getAttribute("formAction"),s!==null&&(p=s,b=null));var A=new Yr("action","action",null,u,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xs!==0){var D=b?mb(f,b):new FormData(f);Lp(o,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(A.preventDefault(),D=b?mb(f,b):new FormData(f),Lp(o,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var _g=0;_g<ep.length;_g++){var vg=ep[_g],HR=vg.toLowerCase(),GR=vg[0].toUpperCase()+vg.slice(1);wr(HR,"on"+GR)}wr(Gv,"onAnimationEnd"),wr(Kv,"onAnimationIteration"),wr(Qv,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(oR,"onTransitionRun"),wr(lR,"onTransitionStart"),wr(uR,"onTransitionCancel"),wr($v,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),Hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function pb(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var b=u.length-1;0<=b;b--){var A=u[b],D=A.instance,G=A.currentTarget;if(A=A.listener,D!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=G;try{p(f)}catch(te){ed(te)}f.currentTarget=null,p=D}else for(b=0;b<u.length;b++){if(A=u[b],D=A.instance,G=A.currentTarget,A=A.listener,D!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=G;try{p(f)}catch(te){ed(te)}f.currentTarget=null,p=D}}}}function Be(n,s){var o=s[Ao];o===void 0&&(o=s[Ao]=new Set);var u=n+"__bubble";o.has(u)||(gb(s,n,2,!1),o.add(u))}function Eg(n,s,o){var u=0;s&&(u|=4),gb(o,n,u,s)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function bg(n){if(!n[Bd]){n[Bd]=!0,gu.forEach(function(o){o!=="selectionchange"&&(KR.has(o)||Eg(o,!1,n),Eg(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Bd]||(s[Bd]=!0,Eg("selectionchange",!1,s))}}function gb(n,s,o,u){switch(Gb(s)){case 2:var f=EC;break;case 8:f=bC;break;default:f=kg}o=f.bind(null,s,o,n),f=void 0,!Aa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function Tg(n,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var A=u.stateNode.containerInfo;if(A===f)break;if(b===4)for(b=u.return;b!==null;){var D=b.tag;if((D===3||D===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;A!==null;){if(b=qr(A),b===null)return;if(D=b.tag,D===5||D===6||D===26||D===27){u=p=b;continue e}A=A.parentNode}}u=u.return}os(function(){var G=p,te=er(o),ae=[];e:{var $=Yv.get(n);if($!==void 0){var Z=Yr,_e=n;switch(n){case"keypress":if(xa(o)===0)break e;case"keydown":case"keyup":Z=Jh;break;case"focusin":_e="focus",Z=Ra;break;case"focusout":_e="blur",Z=Ra;break;case"beforeblur":case"afterblur":Z=Ra;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=y;break;case Gv:case Kv:case Qv:Z=Hh;break;case $v:Z=S;break;case"scroll":case"scrollend":Z=Ru;break;case"wheel":Z=Y;break;case"copy":case"cut":case"paste":Z=Gh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=bi;break;case"toggle":case"beforetoggle":Z=De}var Ae=(s&4)!==0,ft=!Ae&&(n==="scroll"||n==="scrollend"),B=Ae?$!==null?$+"Capture":null:$;Ae=[];for(var M=G,H;M!==null;){var re=M;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||B===null||(re=vr(M,B),re!=null&&Ae.push(sc(M,re,H))),ft)break;M=M.return}0<Ae.length&&($=new Z($,_e,null,o,te),ae.push({event:$,listeners:Ae}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",$&&o!==Su&&(_e=o.relatedTarget||o.fromElement)&&(qr(_e)||_e[Br]))break e;if((Z||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(_e=o.relatedTarget||o.toElement,Z=G,_e=_e?qr(_e):null,_e!==null&&(ft=l(_e),Ae=_e.tag,_e!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(_e=null)):(Z=null,_e=G),Z!==_e)){if(Ae=Cu,re="onMouseLeave",B="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=bi,re="onPointerLeave",B="onPointerEnter",M="pointer"),ft=Z==null?$:Un(Z),H=_e==null?$:Un(_e),$=new Ae(re,M+"leave",Z,o,te),$.target=ft,$.relatedTarget=H,re=null,qr(te)===G&&(Ae=new Ae(B,M+"enter",_e,o,te),Ae.target=H,Ae.relatedTarget=ft,re=Ae),ft=re,Z&&_e)t:{for(Ae=QR,B=Z,M=_e,H=0,re=B;re;re=Ae(re))H++;re=0;for(var we=M;we;we=Ae(we))re++;for(;0<H-re;)B=Ae(B),H--;for(;0<re-H;)M=Ae(M),re--;for(;H--;){if(B===M||M!==null&&B===M.alternate){Ae=B;break t}B=Ae(B),M=Ae(M)}Ae=null}else Ae=null;Z!==null&&yb(ae,$,Z,Ae,!1),_e!==null&&ft!==null&&yb(ae,ft,_e,Ae,!0)}}e:{if($=G?Un(G):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var $e=Pv;else if(Vv($))if(Mv)$e=iR;else{$e=nR;var Ee=tR}else Z=$.nodeName,!Z||Z.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&Ro(G.elementType)&&($e=Pv):$e=rR;if($e&&($e=$e(n,G))){Ov(ae,$e,o,te);break e}Ee&&Ee(n,$,G),n==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Tu($,"number",$.value)}switch(Ee=G?Un(G):window,n){case"focusin":(Vv(Ee)||Ee.contentEditable==="true")&&(ko=Ee,Jm=G,Pu=null);break;case"focusout":Pu=Jm=ko=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,Fv(ae,o,te);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":Fv(ae,o,te)}var Oe;if(Ze)e:{switch(n){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Mo?Ca(n,o)&&(Fe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Fe="onCompositionStart");Fe&&(Wr&&o.locale!=="ko"&&(Mo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Mo&&(Oe=Iu()):($r=te,xu="value"in $r?$r.value:$r.textContent,Mo=!0)),Ee=zd(G,Fe),0<Ee.length&&(Fe=new Jr(Fe,n,null,o,te),ae.push({event:Fe,listeners:Ee}),Oe?Fe.data=Oe:(Oe=Po(o),Oe!==null&&(Fe.data=Oe)))),(Oe=nr?JI(n,o):WI(n,o))&&(Fe=zd(G,"onBeforeInput"),0<Fe.length&&(Ee=new Jr("onBeforeInput","beforeinput",null,o,te),ae.push({event:Ee,listeners:Fe}),Ee.data=Oe)),FR(ae,n,G,o,te)}pb(ae,s)})}function sc(n,s,o){return{instance:n,listener:s,currentTarget:o}}function zd(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=vr(n,o),f!=null&&u.unshift(sc(n,f,p)),f=vr(n,s),f!=null&&u.push(sc(n,f,p))),n.tag===3)return u;n=n.return}return[]}function QR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function yb(n,s,o,u,f){for(var p=s._reactName,b=[];o!==null&&o!==u;){var A=o,D=A.alternate,G=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||G===null||(D=G,f?(G=vr(o,p),G!=null&&b.unshift(sc(o,G,D))):f||(G=vr(o,p),G!=null&&b.push(sc(o,G,D)))),o=o.return}b.length!==0&&n.push({event:s,listeners:b})}var $R=/\r\n?/g,YR=/\u0000|\uFFFD/g;function _b(n){return(typeof n=="string"?n:""+n).replace($R,`
`).replace(YR,"")}function vb(n,s){return s=_b(s),_b(n)===s}function dt(n,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||xn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&xn(n,""+u);break;case"className":Bn(n,"class",u);break;case"tabIndex":Bn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(n,o,u);break;case"style":Au(n,u,p);break;case"data":if(s!=="object"){Bn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Co(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&dt(n,s,"name",f.name,f,null),dt(n,s,"formEncType",f.formEncType,f,null),dt(n,s,"formMethod",f.formMethod,f,null),dt(n,s,"formTarget",f.formTarget,f,null)):(dt(n,s,"encType",f.encType,f,null),dt(n,s,"method",f.method,f,null),dt(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Co(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=_r);break;case"onScroll":u!=null&&Be("scroll",n);break;case"onScrollEnd":u!=null&&Be("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Co(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Be("beforetoggle",n),Be("toggle",n),xo(n,"popover",u);break;case"xlinkActuate":Ht(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ht(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ht(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ht(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ht(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ht(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ht(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=zh.get(o)||o,xo(n,o,u))}}function wg(n,s,o,u,f,p){switch(o){case"style":Au(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?xn(n,u):(typeof u=="number"||typeof u=="bigint")&&xn(n,""+u);break;case"onScroll":u!=null&&Be("scroll",n);break;case"onScrollEnd":u!=null&&Be("scrollend",n);break;case"onClick":u!=null&&(n.onclick=_r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=n[tn]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):xo(n,o,u)}}}function fn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",n),Be("load",n);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:dt(n,s,p,b,o,null)}}f&&dt(n,s,"srcSet",o.srcSet,o,null),u&&dt(n,s,"src",o.src,o,null);return;case"input":Be("invalid",n);var A=p=b=f=null,D=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":b=te;break;case"checked":D=te;break;case"defaultChecked":G=te;break;case"value":p=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:dt(n,s,u,te,o,null)}}jh(n,p,A,D,G,b,f,!1);return;case"select":Be("invalid",n),u=b=p=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":b=A;break;case"multiple":u=A;default:dt(n,s,f,A,o,null)}s=p,o=b,n.multiple=!!u,s!=null?rs(n,!!u,s,!1):o!=null&&rs(n,!!u,o,!0);return;case"textarea":Be("invalid",n),p=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":u=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:dt(n,s,b,A,o,null)}is(n,u,f,p);return;case"option":for(D in o)o.hasOwnProperty(D)&&(u=o[D],u!=null)&&(D==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":dt(n,s,D,u,o,null));return;case"dialog":Be("beforetoggle",n),Be("toggle",n),Be("cancel",n),Be("close",n);break;case"iframe":case"object":Be("load",n);break;case"video":case"audio":for(u=0;u<ic.length;u++)Be(ic[u],n);break;case"image":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"embed":case"source":case"link":Be("error",n),Be("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:dt(n,s,G,u,o,null)}return;default:if(Ro(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&wg(n,s,te,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&dt(n,s,A,u,o,null))}function XR(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,b=null,A=null,D=null,G=null,te=null;for(Z in o){var ae=o[Z];if(o.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":D=ae;default:u.hasOwnProperty(Z)||dt(n,s,Z,null,u,ae)}}for(var $ in u){var Z=u[$];if(ae=o[$],u.hasOwnProperty($)&&(Z!=null||ae!=null))switch($){case"type":p=Z;break;case"name":f=Z;break;case"checked":G=Z;break;case"defaultChecked":te=Z;break;case"value":b=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Z!==ae&&dt(n,s,$,Z,u,ae)}}Io(n,b,A,D,G,te,p,f);return;case"select":Z=b=A=$=null;for(p in o)if(D=o[p],o.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":Z=D;default:u.hasOwnProperty(p)||dt(n,s,p,null,u,D)}for(f in u)if(p=u[f],D=o[f],u.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":$=p;break;case"defaultValue":A=p;break;case"multiple":b=p;default:p!==D&&dt(n,s,f,p,u,D)}s=A,o=b,u=Z,$!=null?rs(n,!!o,$,!1):!!u!=!!o&&(s!=null?rs(n,!!o,s,!0):rs(n,!!o,o?[]:"",!1));return;case"textarea":Z=$=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:dt(n,s,A,null,u,f)}for(b in u)if(f=u[b],p=o[b],u.hasOwnProperty(b)&&(f!=null||p!=null))switch(b){case"value":$=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&dt(n,s,b,f,u,p)}Uh(n,$,Z);return;case"option":for(var _e in o)$=o[_e],o.hasOwnProperty(_e)&&$!=null&&!u.hasOwnProperty(_e)&&(_e==="selected"?n.selected=!1:dt(n,s,_e,null,u,$));for(D in u)$=u[D],Z=o[D],u.hasOwnProperty(D)&&$!==Z&&($!=null||Z!=null)&&(D==="selected"?n.selected=$&&typeof $!="function"&&typeof $!="symbol":dt(n,s,D,$,u,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in o)$=o[Ae],o.hasOwnProperty(Ae)&&$!=null&&!u.hasOwnProperty(Ae)&&dt(n,s,Ae,null,u,$);for(G in u)if($=u[G],Z=o[G],u.hasOwnProperty(G)&&$!==Z&&($!=null||Z!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:dt(n,s,G,$,u,Z)}return;default:if(Ro(s)){for(var ft in o)$=o[ft],o.hasOwnProperty(ft)&&$!==void 0&&!u.hasOwnProperty(ft)&&wg(n,s,ft,void 0,u,$);for(te in u)$=u[te],Z=o[te],!u.hasOwnProperty(te)||$===Z||$===void 0&&Z===void 0||wg(n,s,te,$,u,Z);return}}for(var B in o)$=o[B],o.hasOwnProperty(B)&&$!=null&&!u.hasOwnProperty(B)&&dt(n,s,B,null,u,$);for(ae in u)$=u[ae],Z=o[ae],!u.hasOwnProperty(ae)||$===Z||$==null&&Z==null||dt(n,s,ae,$,u,Z)}function Eb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,b=f.initiatorType,A=f.duration;if(p&&A&&Eb(b)){for(b=0,A=f.responseEnd,u+=1;u<o.length;u++){var D=o[u],G=D.startTime;if(G>A)break;var te=D.transferSize,ae=D.initiatorType;te&&Eb(ae)&&(D=D.responseEnd,b+=te*(D<A?1:(A-G)/(D-G)))}if(--u,s+=8*(p+b)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ag=null,Sg=null;function qd(n){return n.nodeType===9?n:n.ownerDocument}function bb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tb(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function xg(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ig=null;function WR(){var n=window.event;return n&&n.type==="popstate"?n===Ig?!1:(Ig=n,!0):(Ig=null,!1)}var wb=typeof setTimeout=="function"?setTimeout:void 0,ZR=typeof clearTimeout=="function"?clearTimeout:void 0,Ab=typeof Promise=="function"?Promise:void 0,eC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ab<"u"?function(n){return Ab.resolve(null).then(n).catch(tC)}:wb;function tC(n){setTimeout(function(){throw n})}function Is(n){return n==="head"}function Sb(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),ul(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ac(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,ac(o);for(var p=o.firstChild;p;){var b=p.nextSibling,A=p.nodeName;p[zr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&ac(n.ownerDocument.body);o=f}while(o);ul(s)}function xb(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Rg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Rg(o),So(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function nC(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[zr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ur(n.nextSibling),n===null)break}return null}function rC(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ur(n.nextSibling),n===null))return null;return n}function Ib(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ur(n.nextSibling),n===null))return null;return n}function Cg(n){return n.data==="$?"||n.data==="$~"}function Ng(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function iC(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ur(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Dg=null;function Rb(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return ur(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function Cb(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function Nb(n,s,o){switch(s=qd(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ac(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);So(n)}var cr=new Map,Db=new Set;function Fd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ki=fe.d;fe.d={f:sC,r:aC,D:oC,C:lC,L:uC,m:cC,X:dC,S:hC,M:fC};function sC(){var n=ki.f(),s=Pd();return n||s}function aC(n){var s=Zn(n);s!==null&&s.tag===5&&s.type==="form"?$0(s):ki.r(n)}var al=typeof document>"u"?null:document;function Vb(n,s,o){var u=al;if(u&&typeof s=="string"&&s){var f=Sn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Db.has(f)||(Db.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),fn(s,"link",n),Ft(s),u.head.appendChild(s)))}}function oC(n){ki.D(n),Vb("dns-prefetch",n,null)}function lC(n,s){ki.C(n,s),Vb("preconnect",n,s)}function uC(n,s,o){ki.L(n,s,o);var u=al;if(u&&n&&s){var f='link[rel="preload"][as="'+Sn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Sn(o.imageSizes)+'"]')):f+='[href="'+Sn(n)+'"]';var p=f;switch(s){case"style":p=ol(n);break;case"script":p=ll(n)}cr.has(p)||(n=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),cr.set(p,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(oc(p))||s==="script"&&u.querySelector(lc(p))||(s=u.createElement("link"),fn(s,"link",n),Ft(s),u.head.appendChild(s)))}}function cC(n,s){ki.m(n,s);var o=al;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ll(n)}if(!cr.has(p)&&(n=E({rel:"modulepreload",href:n},s),cr.set(p,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lc(p)))return}u=o.createElement("link"),fn(u,"link",n),Ft(u),o.head.appendChild(u)}}}function hC(n,s,o){ki.S(n,s,o);var u=al;if(u&&n){var f=Fr(u).hoistableStyles,p=ol(n);s=s||"default";var b=f.get(p);if(!b){var A={loading:0,preload:null};if(b=u.querySelector(oc(p)))A.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":s},o),(o=cr.get(p))&&Vg(n,o);var D=b=u.createElement("link");Ft(D),fn(D,"link",n),D._p=new Promise(function(G,te){D.onload=G,D.onerror=te}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Hd(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:A},f.set(p,b)}}}function dC(n,s){ki.X(n,s);var o=al;if(o&&n){var u=Fr(o).hoistableScripts,f=ll(n),p=u.get(f);p||(p=o.querySelector(lc(f)),p||(n=E({src:n,async:!0},s),(s=cr.get(f))&&Og(n,s),p=o.createElement("script"),Ft(p),fn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function fC(n,s){ki.M(n,s);var o=al;if(o&&n){var u=Fr(o).hoistableScripts,f=ll(n),p=u.get(f);p||(p=o.querySelector(lc(f)),p||(n=E({src:n,async:!0,type:"module"},s),(s=cr.get(f))&&Og(n,s),p=o.createElement("script"),Ft(p),fn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Ob(n,s,o,u){var f=(f=Re.current)?Fd(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ol(o.href),o=Fr(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=ol(o.href);var p=Fr(f).hoistableStyles,b=p.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,b),(p=f.querySelector(oc(n)))&&!p._p&&(b.instance=p,b.state.loading=5),cr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cr.set(n,o),p||mC(f,n,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ll(o),o=Fr(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ol(n){return'href="'+Sn(n)+'"'}function oc(n){return'link[rel="stylesheet"]['+n+"]"}function Pb(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function mC(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),fn(s,"link",o),Ft(s),n.head.appendChild(s))}function ll(n){return'[src="'+Sn(n)+'"]'}function lc(n){return"script[async]"+n}function Mb(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(u)return s.instance=u,Ft(u),u;var f=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ft(u),fn(u,"style",f),Hd(u,o.precedence,n),s.instance=u;case"stylesheet":f=ol(o.href);var p=n.querySelector(oc(f));if(p)return s.state.loading|=4,s.instance=p,Ft(p),p;u=Pb(o),(f=cr.get(f))&&Vg(u,f),p=(n.ownerDocument||n).createElement("link"),Ft(p);var b=p;return b._p=new Promise(function(A,D){b.onload=A,b.onerror=D}),fn(p,"link",u),s.state.loading|=4,Hd(p,o.precedence,n),s.instance=p;case"script":return p=ll(o.src),(f=n.querySelector(lc(p)))?(s.instance=f,Ft(f),f):(u=o,(f=cr.get(p))&&(u=E({},o),Og(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ft(f),fn(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Hd(u,o.precedence,n));return s.instance}function Hd(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,b=0;b<u.length;b++){var A=u[b];if(A.dataset.precedence===s)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Vg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Og(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Gd=null;function kb(n,s,o){if(Gd===null){var u=new Map,f=Gd=new Map;f.set(o,u)}else f=Gd,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[zr]||p[qt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(s)||"";b=n+b;var A=u.get(b);A?A.push(p):u.set(b,[p])}}return u}function Lb(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function pC(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function jb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function gC(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ol(u.href),p=s.querySelector(oc(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Kd.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=p,Ft(p);return}p=s.ownerDocument||s,u=Pb(u),(f=cr.get(f))&&Vg(u,f),p=p.createElement("link"),Ft(p);var b=p;b._p=new Promise(function(A,D){b.onload=A,b.onerror=D}),fn(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Kd.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Pg=0;function yC(n,s){return n.stylesheets&&n.count===0&&$d(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&$d(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&Pg===0&&(Pg=62500*JR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&$d(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Pg?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qd=null;function $d(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qd=new Map,s.forEach(_C,n),Qd=null,Kd.call(n))}function _C(n,s){if(!(s.state.loading&4)){var o=Qd.get(n);if(o)var u=o.get(null);else{o=new Map,Qd.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var b=f[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=s.instance,b=f.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,f),o.set(b,f),this.count++,u=Kd.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var uc={$$typeof:Q,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function vC(n,s,o,u,f,p,b,A,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ur(0),this.hiddenUpdates=Ur(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Ub(n,s,o,u,f,p,b,A,D,G,te,ae){return n=new vC(n,s,o,b,D,G,te,ae,A),s=1,p===!0&&(s|=24),p=qn(3,null,null,s),n.current=p,p.stateNode=n,s=fp(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},yp(p),n}function Bb(n){return n?(n=Uo,n):Uo}function zb(n,s,o,u,f,p){f=Bb(f),u.context===null?u.context=f:u.pendingContext=f,u=gs(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=ys(n,u,s),o!==null&&(Dn(o,n,s),zu(o,n,s))}function qb(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Mg(n,s){qb(n,s),(n=n.alternate)&&qb(n,s)}function Fb(n){if(n.tag===13||n.tag===31){var s=Va(n,67108864);s!==null&&Dn(s,n,67108864),Mg(n,67108864)}}function Hb(n){if(n.tag===13||n.tag===31){var s=Qn();s=Ea(s);var o=Va(n,s);o!==null&&Dn(o,n,s),Mg(n,s)}}var Yd=!0;function EC(n,s,o,u){var f=X.T;X.T=null;var p=fe.p;try{fe.p=2,kg(n,s,o,u)}finally{fe.p=p,X.T=f}}function bC(n,s,o,u){var f=X.T;X.T=null;var p=fe.p;try{fe.p=8,kg(n,s,o,u)}finally{fe.p=p,X.T=f}}function kg(n,s,o,u){if(Yd){var f=Lg(u);if(f===null)Tg(n,s,u,Xd,o),Kb(n,u);else if(wC(f,n,s,o,u))u.stopPropagation();else if(Kb(n,u),s&4&&-1<TC.indexOf(n)){for(;f!==null;){var p=Zn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Lr(p.pendingLanes);if(b!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var D=1<<31-Mt(b);A.entanglements[1]|=D,b&=~D}ni(p),(et&6)===0&&(Vd=Tn()+500,rc(0))}}break;case 31:case 13:A=Va(p,2),A!==null&&Dn(A,p,2),Pd(),Mg(p,2)}if(p=Lg(u),p===null&&Tg(n,s,u,Xd,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Tg(n,s,u,null,o)}}function Lg(n){return n=er(n),jg(n)}var Xd=null;function jg(n){if(Xd=null,n=qr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Xd=n,null}function Gb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ga()){case du:return 2;case fu:return 8;case ts:case Hm:return 32;case Rh:return 268435456;default:return 32}default:return 32}}var Ug=!1,Rs=null,Cs=null,Ns=null,cc=new Map,hc=new Map,Ds=[],TC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kb(n,s){switch(n){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":cc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(s.pointerId)}}function dc(n,s,o,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Zn(s),s!==null&&Fb(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function wC(n,s,o,u,f){switch(s){case"focusin":return Rs=dc(Rs,n,s,o,u,f),!0;case"dragenter":return Cs=dc(Cs,n,s,o,u,f),!0;case"mouseover":return Ns=dc(Ns,n,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return cc.set(p,dc(cc.get(p)||null,n,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,hc.set(p,dc(hc.get(p)||null,n,s,o,u,f)),!0}return!1}function Qb(n){var s=qr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,gr(n.priority,function(){Hb(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,gr(n.priority,function(){Hb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Jd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Lg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Su=u,o.target.dispatchEvent(u),Su=null}else return s=Zn(o),s!==null&&Fb(s),n.blockedOn=o,!1;s.shift()}return!0}function $b(n,s,o){Jd(n)&&o.delete(s)}function AC(){Ug=!1,Rs!==null&&Jd(Rs)&&(Rs=null),Cs!==null&&Jd(Cs)&&(Cs=null),Ns!==null&&Jd(Ns)&&(Ns=null),cc.forEach($b),hc.forEach($b)}function Wd(n,s){n.blockedOn===s&&(n.blockedOn=null,Ug||(Ug=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AC)))}var Zd=null;function Yb(n){Zd!==n&&(Zd=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zd===n&&(Zd=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(jg(u||o)===null)continue;break}var p=Zn(o);p!==null&&(n.splice(s,3),s-=3,Lp(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ul(n){function s(D){return Wd(D,n)}Rs!==null&&Wd(Rs,n),Cs!==null&&Wd(Cs,n),Ns!==null&&Wd(Ns,n),cc.forEach(s),hc.forEach(s);for(var o=0;o<Ds.length;o++){var u=Ds[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ds.length&&(o=Ds[0],o.blockedOn===null);)Qb(o),o.blockedOn===null&&Ds.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],b=f[tn]||null;if(typeof p=="function")b||Yb(o);else if(b){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,b=p[tn]||null)A=b.formAction;else if(jg(f)!==null)continue}else A=b.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),Yb(o)}}}function Xb(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return f=b})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Bg(n){this._internalRoot=n}ef.prototype.render=Bg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Qn();zb(o,u,n,s,null,null)},ef.prototype.unmount=Bg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;zb(n.current,2,null,n,null,null),Pd(),s[Br]=null}};function ef(n){this._internalRoot=n}ef.prototype.unstable_scheduleHydration=function(n){if(n){var s=Ph();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Ds.length&&s!==0&&s<Ds[o].priority;o++);Ds.splice(o,0,n),o===0&&Qb(n)}};var Jb=e.version;if(Jb!=="19.2.3")throw Error(i(527,Jb,"19.2.3"));fe.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var SC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tf.isDisabled&&tf.supportsFiber)try{mr=tf.inject(SC),ln=tf}catch{}}return mc.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=iE,p=sE,b=aE;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=Ub(n,1,!1,null,null,o,u,null,f,p,b,Xb),n[Br]=s.current,bg(n),new Bg(s)},mc.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",p=iE,b=sE,A=aE,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),s=Ub(n,1,!0,s,o??null,u,f,D,p,b,A,Xb),s.context=Bb(null),o=s.current,u=Qn(),u=Ea(u),f=gs(u),f.callback=null,ys(o,f,u),o=u,s.current.lanes=o,_a(s,o),ni(s),n[Br]=s.current,bg(n),new ef(s)},mc.version="19.2.3",mc}var oT;function MC(){if(oT)return Fg.exports;oT=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fg.exports=PC(),Fg.exports}var kC=MC();var lT="popstate";function LC(r={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return my("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Bc(a)}return UC(e,t,null,r)}function Nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Vr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jC(){return Math.random().toString(36).substring(2,10)}function uT(r,e){return{usr:r.state,key:r.key,idx:e}}function my(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Xl(e):e,state:t,key:e&&e.key||i||jC()}}function Bc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Xl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function UC(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function E(){d="POP";let j=v(),W=j==null?null:j-g;g=j,m&&m({action:d,location:L.location,delta:W})}function w(j,W){d="PUSH";let ne=my(L.location,j,W);g=v()+1;let Q=uT(ne,g),ue=L.createHref(ne);try{c.pushState(Q,"",ue)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;a.location.assign(ue)}l&&m&&m({action:d,location:L.location,delta:1})}function x(j,W){d="REPLACE";let ne=my(L.location,j,W);g=v();let Q=uT(ne,g),ue=L.createHref(ne);c.replaceState(Q,"",ue),l&&m&&m({action:d,location:L.location,delta:0})}function P(j){return BC(j)}let L={get action(){return d},get location(){return r(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(lT,E),m=j,()=>{a.removeEventListener(lT,E),m=null}},createHref(j){return e(a,j)},createURL:P,encodeLocation(j){let W=P(j);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:x,go(j){return c.go(j)}};return L}function BC(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Bc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function wA(r,e,t="/"){return zC(r,e,t,!1)}function zC(r,e,t,i){let a=typeof e=="string"?Xl(e):e,l=Fi(a.pathname||"/",t);if(l==null)return null;let c=AA(r);qC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=ZC(l);d=JC(c[m],g,i)}return d}function AA(r,e=[],t=[],i="",a=!1){let l=(c,d,m=a,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&m)return;Nt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let E=zi([i,v.relativePath]),w=t.concat(v);c.children&&c.children.length>0&&(Nt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),AA(c.children,e,w,E,m)),!(c.path==null&&!c.index)&&e.push({path:E,score:YC(E,c.index),routesMeta:w})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of SA(c.path))l(c,d,!0,m)}),e}function SA(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=SA(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function qC(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:XC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var FC=/^:[\w-]+$/,HC=3,GC=2,KC=1,QC=10,$C=-2,cT=r=>r==="*";function YC(r,e){let t=r.split("/"),i=t.length;return t.some(cT)&&(i+=$C),e&&(i+=GC),t.filter(a=>!cT(a)).reduce((a,l)=>a+(FC.test(l)?HC:l===""?KC:QC),i)}function XC(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function JC(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=Of({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),w=m.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=Of({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:zi([l,E.pathname]),pathnameBase:rN(zi([l,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(l=zi([l,E.pathnameBase]))}return c}function Of(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=WC(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:E},w)=>{if(v==="*"){let P=d[w]||"";c=l.slice(0,l.length-P.length).replace(/(.)\/+$/,"$1")}const x=d[w];return E&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function WC(r,e=!1,t=!0){Vr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function ZC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eN=r=>xA.test(r);function tN(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?Xl(r):r,l;if(t)if(eN(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Vr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=hT(t.substring(1),"/"):l=hT(t,e)}else l=e;return{pathname:l,search:iN(i),hash:sN(a)}}function hT(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Qg(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nN(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function IA(r){let e=nN(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function RA(r,e,t,i=!1){let a;typeof r=="string"?a=Xl(r):(a={...r},Nt(!a.pathname||!a.pathname.includes("?"),Qg("?","pathname","search",a)),Nt(!a.pathname||!a.pathname.includes("#"),Qg("#","pathname","hash",a)),Nt(!a.search||!a.search.includes("#"),Qg("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),E-=1;a.pathname=w.join("/")}d=E>=0?e[E]:"/"}let m=tN(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),rN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,sN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,aN=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function oN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function lN(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var CA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function NA(r,e){let t=r;if(typeof t!="string"||!xA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(CA)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=Fi(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{Vr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DA=["POST","PUT","PATCH","DELETE"];new Set(DA);var uN=["GET",...DA];new Set(uN);var Jl=q.createContext(null);Jl.displayName="DataRouter";var om=q.createContext(null);om.displayName="DataRouterState";var cN=q.createContext(!1),VA=q.createContext({isTransitioning:!1});VA.displayName="ViewTransition";var hN=q.createContext(new Map);hN.displayName="Fetchers";var dN=q.createContext(null);dN.displayName="Await";var dr=q.createContext(null);dr.displayName="Navigation";var ih=q.createContext(null);ih.displayName="Location";var mi=q.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var s_=q.createContext(null);s_.displayName="RouteError";var OA="REACT_ROUTER_ERROR",fN="REDIRECT",mN="ROUTE_ERROR_RESPONSE";function pN(r){if(r.startsWith(`${OA}:${fN}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gN(r){if(r.startsWith(`${OA}:${mN}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new aN(e.status,e.statusText,e.data)}catch{}}function yN(r,{relative:e}={}){Nt(sh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=q.useContext(dr),{hash:a,pathname:l,search:c}=ah(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:zi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function sh(){return q.useContext(ih)!=null}function $i(){return Nt(sh(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ih).location}var PA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MA(r){q.useContext(dr).static||q.useLayoutEffect(r)}function lm(){let{isDataRoute:r}=q.useContext(mi);return r?DN():_N()}function _N(){Nt(sh(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(Jl),{basename:e,navigator:t}=q.useContext(dr),{matches:i}=q.useContext(mi),{pathname:a}=$i(),l=JSON.stringify(IA(i)),c=q.useRef(!1);return MA(()=>{c.current=!0}),q.useCallback((m,g={})=>{if(Vr(c.current,PA),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=RA(m,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:zi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,r])}q.createContext(null);function vN(){let{matches:r}=q.useContext(mi),e=r[r.length-1];return e?e.params:{}}function ah(r,{relative:e}={}){let{matches:t}=q.useContext(mi),{pathname:i}=$i(),a=JSON.stringify(IA(t));return q.useMemo(()=>RA(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function EN(r,e){return kA(r,e)}function kA(r,e,t,i,a){Nt(sh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=q.useContext(dr),{matches:c}=q.useContext(mi),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",E=d&&d.route;{let ne=E&&E.path||"";jA(g,!E||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=$i(),x;if(e){let ne=typeof e=="string"?Xl(e):e;Nt(v==="/"||ne.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),x=ne}else x=w;let P=x.pathname||"/",L=P;if(v!=="/"){let ne=v.replace(/^\//,"").split("/");L="/"+P.replace(/^\//,"").split("/").slice(ne.length).join("/")}let j=wA(r,{pathname:L});Vr(E||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Vr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=SN(j&&j.map(ne=>Object.assign({},ne,{params:Object.assign({},m,ne.params),pathname:zi([v,l.encodeLocation?l.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?v:zi([v,l.encodeLocation?l.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),c,t,i,a);return e&&W?q.createElement(ih.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},W):W}function bN(){let r=NN(),e=oN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:l},"ErrorBoundary")," or"," ",q.createElement("code",{style:l},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),t?q.createElement("pre",{style:a},t):null,c)}var TN=q.createElement(bN,null),LA=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=gN(r.digest);t&&(r=t)}let e=r!==void 0?q.createElement(mi.Provider,{value:this.props.routeContext},q.createElement(s_.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?q.createElement(wN,{error:r},e):e}};LA.contextType=cN;var $g=new WeakMap;function wN({children:r,error:e}){let{basename:t}=q.useContext(dr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=pN(e.digest);if(i){let a=$g.get(e);if(a)throw a;let l=NA(i.location,t);if(CA&&!$g.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw $g.set(e,c),c}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function AN({routeContext:r,match:e,children:t}){let i=q.useContext(Jl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(mi.Provider,{value:r},t)}function SN(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let v=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);Nt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,m=-1;if(t)for(let v=0;v<l.length;v++){let E=l[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=v),E.route.id){let{loaderData:w,errors:x}=t,P=E.route.loader&&!w.hasOwnProperty(E.route.id)&&(!x||x[E.route.id]===void 0);if(E.route.lazy||P){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&i?(v,E)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:lN(t.matches),errorInfo:E})}:void 0;return l.reduceRight((v,E,w)=>{let x,P=!1,L=null,j=null;t&&(x=c&&E.route.id?c[E.route.id]:void 0,L=E.route.errorElement||TN,d&&(m<0&&w===0?(jA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,j=null):m===w&&(P=!0,j=E.route.hydrateFallbackElement||null)));let W=e.concat(l.slice(0,w+1)),ne=()=>{let Q;return x?Q=L:P?Q=j:E.route.Component?Q=q.createElement(E.route.Component,null):E.route.element?Q=E.route.element:Q=v,q.createElement(AN,{match:E,routeContext:{outlet:v,matches:W,isDataRoute:t!=null},children:Q})};return t&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?q.createElement(LA,{location:t.location,revalidation:t.revalidation,component:L,error:x,children:ne(),routeContext:{outlet:null,matches:W,isDataRoute:!0},onError:g}):ne()},null)}function a_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xN(r){let e=q.useContext(Jl);return Nt(e,a_(r)),e}function IN(r){let e=q.useContext(om);return Nt(e,a_(r)),e}function RN(r){let e=q.useContext(mi);return Nt(e,a_(r)),e}function o_(r){let e=RN(r),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function CN(){return o_("useRouteId")}function NN(){let r=q.useContext(s_),e=IN("useRouteError"),t=o_("useRouteError");return r!==void 0?r:e.errors?.[t]}function DN(){let{router:r}=xN("useNavigate"),e=o_("useNavigate"),t=q.useRef(!1);return MA(()=>{t.current=!0}),q.useCallback(async(a,l={})=>{Vr(t.current,PA),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var dT={};function jA(r,e,t){!e&&!dT[r]&&(dT[r]=!0,Vr(!1,t))}q.memo(VN);function VN({routes:r,future:e,state:t,onError:i}){return kA(r,void 0,t,i,e)}function xr(r){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ON({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Nt(!sh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=Xl(t));let{pathname:g="/",search:v="",hash:E="",state:w=null,key:x="default"}=t,P=q.useMemo(()=>{let L=Fi(g,d);return L==null?null:{location:{pathname:L,search:v,hash:E,state:w,key:x},navigationType:i}},[d,g,v,E,w,x,i]);return Vr(P!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:q.createElement(dr.Provider,{value:m},q.createElement(ih.Provider,{children:e,value:P}))}function PN({children:r,location:e}){return EN(py(r),e)}function py(r,e=[]){let t=[];return q.Children.forEach(r,(i,a)=>{if(!q.isValidElement(i))return;let l=[...e,a];if(i.type===q.Fragment){t.push.apply(t,py(i.props.children,l));return}Nt(i.type===xr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=py(i.props.children,l)),t.push(c)}),t}var gf="get",yf="application/x-www-form-urlencoded";function um(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function MN(r){return um(r)&&r.tagName.toLowerCase()==="button"}function kN(r){return um(r)&&r.tagName.toLowerCase()==="form"}function LN(r){return um(r)&&r.tagName.toLowerCase()==="input"}function jN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function UN(r,e){return r.button===0&&(!e||e==="_self")&&!jN(r)}var nf=null;function BN(){if(nf===null)try{new FormData(document.createElement("form"),0),nf=!1}catch{nf=!0}return nf}var zN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yg(r){return r!=null&&!zN.has(r)?(Vr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yf}"`),null):r}function qN(r,e){let t,i,a,l,c;if(kN(r)){let d=r.getAttribute("action");i=d?Fi(d,e):null,t=r.getAttribute("method")||gf,a=Yg(r.getAttribute("enctype"))||yf,l=new FormData(r)}else if(MN(r)||LN(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(i=m?Fi(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||gf,a=Yg(r.getAttribute("formenctype"))||Yg(d.getAttribute("enctype"))||yf,l=new FormData(d,r),!BN()){let{name:g,type:v,value:E}=r;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,E)}}else{if(um(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=gf,i=null,a=yf,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function FN(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Fi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function HN(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GN(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function KN(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await HN(l,t);return c.links?c.links():[]}return[]}));return XN(i.flat(1).filter(GN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fT(r,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function QN(r,e,{includeHydrateFallback:t}={}){return $N(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function $N(r){return[...new Set(r)]}function YN(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function XN(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(YN(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function UA(){let r=q.useContext(Jl);return l_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function JN(){let r=q.useContext(om);return l_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var u_=q.createContext(void 0);u_.displayName="FrameworkContext";function BA(){let r=q.useContext(u_);return l_(r,"You must render this element inside a <HydratedRouter> element"),r}function WN(r,e){let t=q.useContext(u_),[i,a]=q.useState(!1),[l,c]=q.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:E}=e,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let L=W=>{W.forEach(ne=>{c(ne.isIntersecting)})},j=new IntersectionObserver(L,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),q.useEffect(()=>{if(i){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[i]);let x=()=>{a(!0)},P=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,w,{}]:[l,w,{onFocus:pc(d,x),onBlur:pc(m,P),onMouseEnter:pc(g,x),onMouseLeave:pc(v,P),onTouchStart:pc(E,x)}]:[!1,w,{}]}function pc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function ZN({page:r,...e}){let{router:t}=UA(),i=q.useMemo(()=>wA(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?q.createElement(t2,{page:r,matches:i,...e}):null}function e2(r){let{manifest:e,routeModules:t}=BA(),[i,a]=q.useState([]);return q.useEffect(()=>{let l=!1;return KN(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function t2({page:r,matches:e,...t}){let i=$i(),{manifest:a,routeModules:l}=BA(),{basename:c}=UA(),{loaderData:d,matches:m}=JN(),g=q.useMemo(()=>fT(r,e,m,a,i,"data"),[r,e,m,a,i]),v=q.useMemo(()=>fT(r,e,m,a,i,"assets"),[r,e,m,a,i]),E=q.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let P=new Set,L=!1;if(e.forEach(W=>{let ne=a.routes[W.route.id];!ne||!ne.hasLoader||(!g.some(Q=>Q.route.id===W.route.id)&&W.route.id in d&&l[W.route.id]?.shouldRevalidate||ne.hasClientLoader?L=!0:P.add(W.route.id))}),P.size===0)return[];let j=FN(r,c,"data");return L&&P.size>0&&j.searchParams.set("_routes",e.filter(W=>P.has(W.route.id)).map(W=>W.route.id).join(",")),[j.pathname+j.search]},[c,d,i,a,g,e,r,l]),w=q.useMemo(()=>QN(v,a),[v,a]),x=e2(v);return q.createElement(q.Fragment,null,E.map(P=>q.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),w.map(P=>q.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),x.map(({key:P,link:L})=>q.createElement("link",{key:P,nonce:t.nonce,...L})))}function n2(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var r2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{r2&&(window.__reactRouterVersion="7.11.0")}catch{}function i2({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=q.useRef();a.current==null&&(a.current=LC({window:i,v5Compat:!0}));let l=a.current,[c,d]=q.useState({action:l.action,location:l.location}),m=q.useCallback(g=>{t===!1?d(g):q.startTransition(()=>d(g))},[t]);return q.useLayoutEffect(()=>l.listen(m),[l,m]),q.createElement(ON,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var zA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=q.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:w,...x},P){let{basename:L,unstable_useTransitions:j}=q.useContext(dr),W=typeof g=="string"&&zA.test(g),ne=NA(g,L);g=ne.to;let Q=yN(g,{relative:a}),[ue,pe,ee]=WN(i,x),R=l2(g,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:w,unstable_useTransitions:j});function I(k){e&&e(k),k.defaultPrevented||R(k)}let C=q.createElement("a",{...x,...ee,href:ne.absoluteURL||Q,onClick:ne.isExternal||l?e:I,ref:n2(P,pe),target:m,"data-discover":!W&&t==="render"?"true":void 0});return ue&&!W?q.createElement(q.Fragment,null,C,q.createElement(ZN,{page:Q})):C});jn.displayName="Link";var s2=q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},v){let E=ah(c,{relative:g.relative}),w=$i(),x=q.useContext(om),{navigator:P,basename:L}=q.useContext(dr),j=x!=null&&f2(E)&&d===!0,W=P.encodeLocation?P.encodeLocation(E).pathname:E.pathname,ne=w.pathname,Q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),Q=Q?Q.toLowerCase():null,W=W.toLowerCase()),Q&&L&&(Q=Fi(Q,L)||Q);const ue=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let pe=ne===W||!a&&ne.startsWith(W)&&ne.charAt(ue)==="/",ee=Q!=null&&(Q===W||!a&&Q.startsWith(W)&&Q.charAt(W.length)==="/"),R={isActive:pe,isPending:ee,isTransitioning:j},I=pe?e:void 0,C;typeof i=="function"?C=i(R):C=[i,pe?"active":null,ee?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(R):l;return q.createElement(jn,{...g,"aria-current":I,className:C,ref:v,style:k,to:c,viewTransition:d},typeof m=="function"?m(R):m)});s2.displayName="NavLink";var a2=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=gf,action:d,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:w,...x},P)=>{let{unstable_useTransitions:L}=q.useContext(dr),j=h2(),W=d2(d,{relative:g}),ne=c.toLowerCase()==="get"?"get":"post",Q=typeof d=="string"&&zA.test(d),ue=pe=>{if(m&&m(pe),pe.defaultPrevented)return;pe.preventDefault();let ee=pe.nativeEvent.submitter,R=ee?.getAttribute("formmethod")||c,I=()=>j(ee||pe.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:E,unstable_defaultShouldRevalidate:w});L&&t!==!1?q.startTransition(()=>I()):I()};return q.createElement("form",{ref:P,method:ne,action:W,onSubmit:i?m:ue,...x,"data-discover":!Q&&r==="render"?"true":void 0})});a2.displayName="Form";function o2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qA(r){let e=q.useContext(Jl);return Nt(e,o2(r)),e}function l2(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=lm(),v=$i(),E=ah(r,{relative:l});return q.useCallback(w=>{if(UN(w,e)){w.preventDefault();let x=t!==void 0?t:Bc(v)===Bc(E),P=()=>g(r,{replace:x,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?q.startTransition(()=>P()):P()}},[v,g,E,t,i,e,r,a,l,c,d,m])}var u2=0,c2=()=>`__${String(++u2)}__`;function h2(){let{router:r}=qA("useSubmit"),{basename:e}=q.useContext(dr),t=CN(),i=r.fetch,a=r.navigate;return q.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:v,body:E}=qN(l,e);if(c.navigate===!1){let w=c.fetcherKey||c2();await i(w,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:v,body:E,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function d2(r,{relative:e}={}){let{basename:t}=q.useContext(dr),i=q.useContext(mi);Nt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ah(r||".",{relative:e})},c=$i();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let v=d.toString();l.search=v?`?${v}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:zi([t,l.pathname])),Bc(l)}function f2(r,{relative:e}={}){let t=q.useContext(VA);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qA("useViewTransitionState"),a=ah(r,{relative:e});if(!t.isTransitioning)return!1;let l=Fi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Fi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Of(a.pathname,c)!=null||Of(a.pathname,l)!=null}const m2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),mT=r=>{const e=p2(r);return e.charAt(0).toUpperCase()+e.slice(1)},FA=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),g2=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var y2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const _2=q.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>q.createElement("svg",{ref:m,...y2,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:FA("lucide",a),...!l&&!g2(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,v])=>q.createElement(g,v)),...Array.isArray(l)?l:[l]]));const Xe=(r,e)=>{const t=q.forwardRef(({className:i,...a},l)=>q.createElement(_2,{ref:l,iconNode:e,className:FA(`lucide-${m2(mT(r))}`,`lucide-${r}`,i),...a}));return t.displayName=mT(r),t};const v2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pf=Xe("arrow-left",v2);const E2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],b2=Xe("arrow-right",E2);const T2=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2",key:"1ksdt3"}],["path",{d:"M22 13a18.15 18.15 0 0 1-20 0",key:"12hx5q"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],w2=Xe("briefcase-business",T2);const A2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],S2=Xe("briefcase",A2);const x2=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],I2=Xe("building-2",x2);const R2=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],cm=Xe("building",R2);const C2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],c_=Xe("calendar",C2);const N2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],D2=Xe("circle-alert",N2);const V2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HA=Xe("circle-check-big",V2);const O2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],P2=Xe("circle-question-mark",O2);const M2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k2=Xe("circle-x",M2);const L2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],GA=Xe("funnel",L2);const j2=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],U2=Xe("graduation-cap",j2);const B2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],z2=Xe("heart",B2);const q2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],h_=Xe("house",q2);const F2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],H2=Xe("info",F2);const G2=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],zc=Xe("loader",G2);const K2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Q2=Xe("lock",K2);const $2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Y2=Xe("log-out",$2);const X2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hm=Xe("map-pin",X2);const J2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],W2=Xe("pen",J2);const Z2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eD=Xe("plus",Z2);const tD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nD=Xe("refresh-cw",tD);const rD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pT=Xe("save",rD);const iD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],KA=Xe("search",iD);const sD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aD=Xe("trash-2",sD);const oD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],lD=Xe("trending-up",oD);const uD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],QA=Xe("triangle-alert",uD);const cD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hD=Xe("upload",cD);const dD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fD=Xe("user-plus",dD);const mD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tl=Xe("x",mD);const pD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],gD=Xe("zap",pD),yD="modulepreload",_D=function(r){return"/"+r},gT={},vD=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let g=function(v){return Promise.all(v.map(E=>Promise.resolve(E).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=g(t.map(v=>{if(v=_D(v),v in gT)return;gT[v]=!0;const E=v.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${w}`))return;const x=document.createElement("link");if(x.rel=E?"stylesheet":yD,E||(x.as="script"),x.crossOrigin="",x.href=v,m&&x.setAttribute("nonce",m),document.head.appendChild(x),E)return new Promise((P,L)=>{x.addEventListener("load",P),x.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},ED=()=>{};var yT={};const $A=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},bD=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},YA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,m=a+2<r.length,g=m?r[a+2]:0,v=l>>2,E=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,x=g&63;m||(x=64,c||(w=64)),i.push(t[v],t[E],t[w],t[x])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($A(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):bD(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const E=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new TD;const w=l<<2|d>>4;if(i.push(w),g!==64){const x=d<<4&240|g>>2;if(i.push(x),E!==64){const P=g<<6&192|E;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wD=function(r){const e=$A(r);return YA.encodeByteArray(e,!0)},Mf=function(r){return wD(r).replace(/\./g,"")},XA=function(r){try{return YA.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function JA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const AD=()=>JA().__FIREBASE_DEFAULTS__,SD=()=>{if(typeof process>"u"||typeof yT>"u")return;const r=yT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},xD=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&XA(r[1]);return e&&JSON.parse(e)},dm=()=>{try{return ED()||AD()||SD()||xD()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WA=r=>dm()?.emulatorHosts?.[r],ZA=r=>{const e=WA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},eS=()=>dm()?.config,tS=r=>dm()?.[`_${r}`];class ID{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function sa(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fm(r){return(await fetch(r,{credentials:"include"})).ok}function nS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Mf(JSON.stringify(t)),Mf(JSON.stringify(c)),""].join(".")}const Rc={};function RD(){const r={prod:[],emulator:[]};for(const e of Object.keys(Rc))Rc[e]?r.emulator.push(e):r.prod.push(e);return r}function CD(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let _T=!1;function d_(r,e){if(typeof window>"u"||typeof document>"u"||!sa(window.location.host)||Rc[r]===e||Rc[r]||_T)return;Rc[r]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=RD().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{_T=!0,c()},w}function v(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=CD(i),x=t("text"),P=document.getElementById(x)||document.createElement("span"),L=t("learnmore"),j=document.getElementById(L)||document.createElement("a"),W=t("preprendIcon"),ne=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Q=w.element;d(Q),v(j,L);const ue=g();m(ne,W),Q.append(ne,P,j,ue),document.body.appendChild(Q)}l?(P.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ND(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function rS(){const r=dm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VD(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function OD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PD(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sS(){return!rS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function aS(){try{return typeof indexedDB=="object"}catch{return!1}}function MD(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const kD="FirebaseError";class pi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=kD,Object.setPrototypeOf(this,pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oh.prototype.create)}}class oh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?LD(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new pi(a,d,i)}}function LD(r,e){return r.replace(jD,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const jD=/\{\$([^}]+)}/g;function UD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Or(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(vT(l)&&vT(c)){if(!Or(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function vT(r){return r!==null&&typeof r=="object"}function lh(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Tc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function wc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function BD(r,e){const t=new zD(r,e);return t.subscribe.bind(t)}class zD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");qD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Xg),a.error===void 0&&(a.error=Xg),a.complete===void 0&&(a.complete=Xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qD(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Xg(){}function ut(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ka="[DEFAULT]";class FD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ID;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GD(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HD(r){return r===Ka?void 0:r}function GD(r){return r.instantiationMode==="EAGER"}class KD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const QD={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},$D=He.INFO,YD={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},XD=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=YD[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f_{constructor(e){this.name=e,this._logLevel=$D,this._logHandler=XD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const JD=(r,e)=>e.some(t=>r instanceof t);let ET,bT;function WD(){return ET||(ET=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZD(){return bT||(bT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oS=new WeakMap,gy=new WeakMap,lS=new WeakMap,Jg=new WeakMap,m_=new WeakMap;function eV(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Ks(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&oS.set(t,r)}).catch(()=>{}),m_.set(e,r),e}function tV(r){if(gy.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});gy.set(r,e)}let yy={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return gy.get(r);if(e==="objectStoreNames")return r.objectStoreNames||lS.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ks(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nV(r){yy=r(yy)}function rV(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Wg(this),e,...t);return lS.set(i,e.sort?e.sort():[e]),Ks(i)}:ZD().includes(r)?function(...e){return r.apply(Wg(this),e),Ks(oS.get(this))}:function(...e){return Ks(r.apply(Wg(this),e))}}function iV(r){return typeof r=="function"?rV(r):(r instanceof IDBTransaction&&tV(r),JD(r,WD())?new Proxy(r,yy):r)}function Ks(r){if(r instanceof IDBRequest)return eV(r);if(Jg.has(r))return Jg.get(r);const e=iV(r);return e!==r&&(Jg.set(r,e),m_.set(e,r)),e}const Wg=r=>m_.get(r);function sV(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Ks(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Ks(c.result),m.oldVersion,m.newVersion,Ks(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const aV=["get","getKey","getAll","getAllKeys","count"],oV=["put","add","delete","clear"],Zg=new Map;function TT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zg.get(e))return Zg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=oV.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||aV.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return Zg.set(e,l),l}nV(r=>({...r,get:(e,t,i)=>TT(e,t)||r.get(e,t,i),has:(e,t)=>!!TT(e,t)||r.has(e,t)}));class lV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(uV(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function uV(r){return r.getComponent()?.type==="VERSION"}const _y="@firebase/app",wT="0.14.6";const Hi=new f_("@firebase/app"),cV="@firebase/app-compat",hV="@firebase/analytics-compat",dV="@firebase/analytics",fV="@firebase/app-check-compat",mV="@firebase/app-check",pV="@firebase/auth",gV="@firebase/auth-compat",yV="@firebase/database",_V="@firebase/data-connect",vV="@firebase/database-compat",EV="@firebase/functions",bV="@firebase/functions-compat",TV="@firebase/installations",wV="@firebase/installations-compat",AV="@firebase/messaging",SV="@firebase/messaging-compat",xV="@firebase/performance",IV="@firebase/performance-compat",RV="@firebase/remote-config",CV="@firebase/remote-config-compat",NV="@firebase/storage",DV="@firebase/storage-compat",VV="@firebase/firestore",OV="@firebase/ai",PV="@firebase/firestore-compat",MV="firebase",kV="12.6.0";const kf="[DEFAULT]",LV={[_y]:"fire-core",[cV]:"fire-core-compat",[dV]:"fire-analytics",[hV]:"fire-analytics-compat",[mV]:"fire-app-check",[fV]:"fire-app-check-compat",[pV]:"fire-auth",[gV]:"fire-auth-compat",[yV]:"fire-rtdb",[_V]:"fire-data-connect",[vV]:"fire-rtdb-compat",[EV]:"fire-fn",[bV]:"fire-fn-compat",[TV]:"fire-iid",[wV]:"fire-iid-compat",[AV]:"fire-fcm",[SV]:"fire-fcm-compat",[xV]:"fire-perf",[IV]:"fire-perf-compat",[RV]:"fire-rc",[CV]:"fire-rc-compat",[NV]:"fire-gcs",[DV]:"fire-gcs-compat",[VV]:"fire-fst",[PV]:"fire-fst-compat",[OV]:"fire-vertex","fire-js":"fire-js",[MV]:"fire-js-all"};const Lf=new Map,jV=new Map,vy=new Map;function AT(r,e){try{r.container.addComponent(e)}catch(t){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ro(r){const e=r.name;if(vy.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,r);for(const t of Lf.values())AT(t,r);for(const t of jV.values())AT(t,r);return!0}function Wl(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function UV(r,e,t=kf){Wl(r,e).clearInstance(t)}function Yn(r){return r==null?!1:r.settings!==void 0}const BV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new oh("app","Firebase",BV);class zV{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const go=kV;function uS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:kf,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Qs.create("bad-app-name",{appName:String(a)});if(t||(t=eS()),!t)throw Qs.create("no-options");const l=Lf.get(a);if(l){if(Or(t,l.options)&&Or(i,l.config))return l;throw Qs.create("duplicate-app",{appName:a})}const c=new KD(a);for(const m of vy.values())c.addComponent(m);const d=new zV(t,i,c);return Lf.set(a,d),d}function p_(r=kf){const e=Lf.get(r);if(!e&&r===kf&&eS())return uS();if(!e)throw Qs.create("no-app",{appName:r});return e}function oi(r,e,t){let i=LV[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(c.join(" "));return}ro(new Xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const qV="firebase-heartbeat-database",FV=1,qc="firebase-heartbeat-store";let ey=null;function cS(){return ey||(ey=sV(qV,FV,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(qc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),ey}async function HV(r){try{const t=(await cS()).transaction(qc),i=await t.objectStore(qc).get(hS(r));return await t.done,i}catch(e){if(e instanceof pi)Hi.warn(e.message);else{const t=Qs.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(t.message)}}}async function ST(r,e){try{const i=(await cS()).transaction(qc,"readwrite");await i.objectStore(qc).put(e,hS(r)),await i.done}catch(t){if(t instanceof pi)Hi.warn(t.message);else{const i=Qs.create("idb-set",{originalErrorMessage:t?.message});Hi.warn(i.message)}}}function hS(r){return`${r.name}!${r.options.appId}`}const GV=1024,KV=30;class QV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new YV(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>KV){const a=XV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Hi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xT(),{heartbeatsToSend:t,unsentEntries:i}=$V(this._heartbeatsCache.heartbeats),a=Mf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Hi.warn(e),""}}}function xT(){return new Date().toISOString().substring(0,10)}function $V(r,e=GV){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),IT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),IT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class YV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aS()?MD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ST(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ST(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IT(r){return Mf(JSON.stringify({version:2,heartbeats:r})).length}function XV(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function JV(r){ro(new Xs("platform-logger",e=>new lV(e),"PRIVATE")),ro(new Xs("heartbeat",e=>new QV(e),"PRIVATE")),oi(_y,wT,r),oi(_y,wT,"esm2020"),oi("fire-js","")}JV("");var WV="firebase",ZV="12.7.0";oi(WV,ZV,"app");function dS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eO=dS,fS=new oh("auth","Firebase",dS());const jf=new f_("@firebase/auth");function tO(r,...e){jf.logLevel<=He.WARN&&jf.warn(`Auth (${go}): ${r}`,...e)}function _f(r,...e){jf.logLevel<=He.ERROR&&jf.error(`Auth (${go}): ${r}`,...e)}function Pr(r,...e){throw g_(r,...e)}function li(r,...e){return g_(r,...e)}function mS(r,e,t){const i={...eO(),[e]:t};return new oh("auth","Firebase",i).create(e,{appName:r.name})}function qi(r){return mS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g_(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return fS.create(r,...e)}function Se(r,e,...t){if(!r)throw g_(e,...t)}function Li(r){const e="INTERNAL ASSERTION FAILED: "+r;throw _f(e),new Error(e)}function Gi(r,e){r||Li(e)}function Ey(){return typeof self<"u"&&self.location?.href||""}function nO(){return RT()==="http:"||RT()==="https:"}function RT(){return typeof self<"u"&&self.location?.protocol||null}function rO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nO()||VD()||"connection"in navigator)?navigator.onLine:!0}function iO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class uh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gi(t>e,"Short delay should be less than long delay!"),this.isMobile=ND()||OD()}get(){return rO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function y_(r,e){Gi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class pS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const aO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oO=new uh(3e4,6e4);function aa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function oa(r,e,t,i,a={}){return gS(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=lh({key:r.config.apiKey,...c}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...l};return DD()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&sa(r.emulatorConfig.host)&&(g.credentials="include"),pS.fetch()(await yS(r,r.config.apiHost,t,d),g)})}async function gS(r,e,t){r._canInitEmulator=!1;const i={...sO,...e};try{const a=new uO(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw rf(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw rf(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw rf(r,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw mS(r,v,g);Pr(r,v)}}catch(a){if(a instanceof pi)throw a;Pr(r,"network-request-failed",{message:String(a)})}}async function ch(r,e,t,i,a={}){const l=await oa(r,e,t,i,a);return"mfaPendingCredential"in l&&Pr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function yS(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?y_(r.config,a):`${r.config.apiScheme}://${a}`;return aO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function lO(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(li(this.auth,"network-request-failed")),oO.get())})}}function rf(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=li(r,e,i);return a.customData._tokenResponse=t,a}function CT(r){return r!==void 0&&r.enterprise!==void 0}class cO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hO(r,e){return oa(r,"GET","/v2/recaptchaConfig",aa(r,e))}async function dO(r,e){return oa(r,"POST","/v1/accounts:delete",e)}async function Uf(r,e){return oa(r,"POST","/v1/accounts:lookup",e)}function Cc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fO(r,e=!1){const t=ut(r),i=await t.getIdToken(e),a=__(i);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Cc(ty(a.auth_time)),issuedAtTime:Cc(ty(a.iat)),expirationTime:Cc(ty(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ty(r){return Number(r)*1e3}function __(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const a=XA(t);return a?JSON.parse(a):(_f("Failed to decode base64 JWT payload"),null)}catch(a){return _f("Caught error parsing JWT payload as JSON",a?.toString()),null}}function NT(r){const e=__(r);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fc(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof pi&&mO(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function mO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class pO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class by{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bf(r){const e=r.auth,t=await r.getIdToken(),i=await Fc(r,Uf(e,{idToken:t}));Se(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?_S(a.providerUserInfo):[],c=yO(r.providerData,l),d=r.isAnonymous,m=!(r.email&&a.passwordHash)&&!c?.length,g=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,v)}async function gO(r){const e=ut(r);await Bf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yO(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function _S(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function _O(r,e){const t=await gS(r,{},async()=>{const i=lh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await yS(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return r.emulatorConfig&&sa(r.emulatorConfig.host)&&(m.credentials="include"),pS.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vO(r,e){return oa(r,"POST","/v2/accounts:revokeToken",aa(r,e))}class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=NT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await _O(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Al;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return Li("not implemented")}}function Os(r,e){Se(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Rr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new pO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new by(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fO(this,e)}reload(){return gO(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Bf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await Fc(this,dO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:x,providerData:P,stsTokenManager:L}=t;Se(E&&L,e,"internal-error");const j=Al.fromJSON(this.name,L);Se(typeof E=="string",e,"internal-error"),Os(i,e.name),Os(a,e.name),Se(typeof w=="boolean",e,"internal-error"),Se(typeof x=="boolean",e,"internal-error"),Os(l,e.name),Os(c,e.name),Os(d,e.name),Os(m,e.name),Os(g,e.name),Os(v,e.name);const W=new Rr({uid:E,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:v});return P&&Array.isArray(P)&&(W.providerData=P.map(ne=>({...ne}))),m&&(W._redirectEventId=m),W}static async _fromIdTokenResponse(e,t,i=!1){const a=new Al;a.updateFromServerResponse(t);const l=new Rr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Bf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?_S(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Al;d.updateFromIdToken(i);const m=new Rr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new by(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const DT=new Map;function ji(r){Gi(r instanceof Function,"Expected a class definition");let e=DT.get(r);return e?(Gi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,DT.set(r,e),e)}class vS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vS.type="NONE";const VT=vS;function vf(r,e,t){return`firebase:${r}:${e}:${t}`}class Sl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=vf(this.userKey,a.apiKey,l),this.fullPersistenceKey=vf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Uf(this.auth,{idToken:e}).catch(()=>{});return t?Rr._fromGetAccountInfoResponse(this.auth,t,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Sl(ji(VT),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ji(VT);const c=vf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let E;if(typeof v=="string"){const w=await Uf(e,{idToken:v}).catch(()=>{});if(!w)break;E=await Rr._fromGetAccountInfoResponse(e,w,v)}else E=Rr._fromJSON(e,v);g!==l&&(d=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Sl(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Sl(l,e,i))}}function OT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ES(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SS(e))return"Blackberry";if(xS(e))return"Webos";if(bS(e))return"Safari";if((e.includes("chrome/")||TS(e))&&!e.includes("edge/"))return"Chrome";if(AS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function ES(r=Wt()){return/firefox\//i.test(r)}function bS(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TS(r=Wt()){return/crios\//i.test(r)}function wS(r=Wt()){return/iemobile/i.test(r)}function AS(r=Wt()){return/android/i.test(r)}function SS(r=Wt()){return/blackberry/i.test(r)}function xS(r=Wt()){return/webos/i.test(r)}function v_(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EO(r=Wt()){return v_(r)&&!!window.navigator?.standalone}function bO(){return PD()&&document.documentMode===10}function IS(r=Wt()){return v_(r)||AS(r)||xS(r)||SS(r)||/windows phone/i.test(r)||wS(r)}function RS(r,e=[]){let t;switch(r){case"Browser":t=OT(Wt());break;case"Worker":t=`${OT(Wt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${go}/${i}`}class TO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function wO(r,e={}){return oa(r,"GET","/v2/passwordPolicy",aa(r,e))}const AO=6;class SO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??AO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class xO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PT(this),this.idTokenSubscription=new PT(this),this.beforeStateQueue=new TO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ji(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Uf(this,{idToken:e}),i=await Rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(qi(this));const t=e?ut(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wO(this),t=new SO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await vO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ji(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[ji(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&tO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yo(r){return ut(r)}class PT{constructor(e){this.auth=e,this.observer=null,this.addObserver=BD(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IO(r){mm=r}function CS(r){return mm.loadJS(r)}function RO(){return mm.recaptchaEnterpriseScript}function CO(){return mm.gapiScript}function NO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class DO{constructor(){this.enterprise=new VO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class VO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const OO="recaptcha-enterprise",NS="NO_RECAPTCHA";class PO{constructor(e){this.type=OO,this.auth=yo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{hO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new cO(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;CT(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(NS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&CT(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=RO();m.length!==0&&(m+=d),CS(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function MT(r,e,t,i=!1,a=!1){const l=new PO(r);let c;if(a)c=NS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ty(r,e,t,i,a){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await MT(r,e,t,t==="getOobCode");return i(r,l)}else return i(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await MT(r,e,t,t==="getOobCode");return i(r,c)}else return Promise.reject(l)})}function MO(r,e){const t=Wl(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Or(l,e??{}))return a;Pr(a,"already-initialized")}return t.initialize({options:e})}function kO(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ji);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function LO(r,e,t){const i=yo(r);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=DS(e),{host:c,port:d}=jO(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Or(g,i.config.emulator)&&Or(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,sa(c)?(fm(`${l}//${c}${m}`),d_("Auth",!0)):UO()}function DS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function jO(r){const e=DS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:kT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:kT(c)}}}function kT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function UO(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class E_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Li("not implemented")}_getIdTokenResponse(e){return Li("not implemented")}_linkToIdToken(e,t){return Li("not implemented")}_getReauthenticationResolver(e){return Li("not implemented")}}async function BO(r,e){return oa(r,"POST","/v1/accounts:signUp",e)}async function zO(r,e){return ch(r,"POST","/v1/accounts:signInWithPassword",aa(r,e))}async function qO(r,e){return ch(r,"POST","/v1/accounts:signInWithEmailLink",aa(r,e))}async function FO(r,e){return ch(r,"POST","/v1/accounts:signInWithEmailLink",aa(r,e))}class Hc extends E_{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Hc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Hc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ty(e,t,"signInWithPassword",zO);case"emailLink":return qO(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ty(e,i,"signUpPassword",BO);case"emailLink":return FO(e,{idToken:t,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xl(r,e){return ch(r,"POST","/v1/accounts:signInWithIdp",aa(r,e))}const HO="http://localhost";class io extends E_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new io(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return xl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,xl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xl(e,t)}buildRequest(){const e={requestUri:HO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lh(t)}return e}}function GO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KO(r){const e=Tc(wc(r)).link,t=e?Tc(wc(e)).deep_link_id:null,i=Tc(wc(r)).deep_link_id;return(i?Tc(wc(i)).link:null)||i||t||e||r}class b_{constructor(e){const t=Tc(wc(e)),i=t.apiKey??null,a=t.oobCode??null,l=GO(t.mode??null);Se(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=KO(e);try{return new b_(t)}catch{return null}}}class Zl{constructor(){this.providerId=Zl.PROVIDER_ID}static credential(e,t){return Hc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=b_.parseLink(t);return Se(i,"argument-error"),Hc._fromEmailAndCode(e,i.code,i.tenantId)}}Zl.PROVIDER_ID="password";Zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class VS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hh extends VS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ls extends hh{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ls.PROVIDER_ID="facebook.com";class js extends hh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return io._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return js.credential(t,i)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";class Us extends hh{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.GITHUB_SIGN_IN_METHOD="github.com";Us.PROVIDER_ID="github.com";class Bs extends hh{constructor(){super("twitter.com")}static credential(e,t){return io._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Bs.credential(t,i)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function QO(r,e){return ch(r,"POST","/v1/accounts:signUp",aa(r,e))}class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Rr._fromIdTokenResponse(e,i,a),c=LT(i);return new so({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=LT(i);return new so({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function LT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class zf extends pi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new zf(e,t,i,a)}}function OS(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(r,l,e,i):l})}async function $O(r,e,t=!1){const i=await Fc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return so._forOperation(r,"link",i)}async function YO(r,e,t=!1){const{auth:i}=r;if(Yn(i.app))return Promise.reject(qi(i));const a="reauthenticate";try{const l=await Fc(r,OS(i,a,e,r),t);Se(l.idToken,i,"internal-error");const c=__(l.idToken);Se(c,i,"internal-error");const{sub:d}=c;return Se(r.uid===d,i,"user-mismatch"),so._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Pr(i,"user-mismatch"),l}}async function PS(r,e,t=!1){if(Yn(r.app))return Promise.reject(qi(r));const i="signIn",a=await OS(r,i,e),l=await so._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}async function XO(r,e){return PS(yo(r),e)}async function MS(r){const e=yo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JO(r,e,t){if(Yn(r.app))return Promise.reject(qi(r));const i=yo(r),c=await Ty(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&MS(r),m}),d=await so._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function WO(r,e,t){return Yn(r.app)?Promise.reject(qi(r)):XO(ut(r),Zl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&MS(r),i})}function ZO(r,e,t,i){return ut(r).onIdTokenChanged(e,t,i)}function eP(r,e,t){return ut(r).beforeAuthStateChanged(e,t)}function tP(r,e,t,i){return ut(r).onAuthStateChanged(e,t,i)}function nP(r){return ut(r).signOut()}const qf="__sak";class kS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const rP=1e3,iP=10;class LS extends kS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);bO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,iP):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},rP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}LS.type="LOCAL";const sP=LS;class jS extends kS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jS.type="SESSION";const US=jS;function aP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new pm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await aP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pm.receivers=[];function T_(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class oP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=T_("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const w=E;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ui(){return window}function lP(r){ui().location.href=r}function BS(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function uP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cP(){return navigator?.serviceWorker?.controller||null}function hP(){return BS()?self:null}const zS="firebaseLocalStorageDb",dP=1,Ff="firebaseLocalStorage",qS="fbase_key";class dh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gm(r,e){return r.transaction([Ff],e?"readwrite":"readonly").objectStore(Ff)}function fP(){const r=indexedDB.deleteDatabase(zS);return new dh(r).toPromise()}function wy(){const r=indexedDB.open(zS,dP);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Ff,{keyPath:qS})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Ff)?e(i):(i.close(),await fP(),e(await wy()))})})}async function jT(r,e,t){const i=gm(r,!0).put({[qS]:e,value:t});return new dh(i).toPromise()}async function mP(r,e){const t=gm(r,!1).get(e),i=await new dh(t).toPromise();return i===void 0?null:i.value}function UT(r,e){const t=gm(r,!0).delete(e);return new dh(t).toPromise()}const pP=800,gP=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>gP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(hP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uP(),!this.activeServiceWorker)return;this.sender=new oP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wy();return await jT(e,qf,"1"),await UT(e,qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>jT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>mP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>UT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=gm(a,!1).getAll();return new dh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const yP=FS;new uh(3e4,6e4);function _P(r,e){return e?ji(e):(Se(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class w_ extends E_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vP(r){return PS(r.auth,new w_(r),r.bypassAuthState)}function EP(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),YO(t,new w_(r),r.bypassAuthState)}async function bP(r){const{auth:e,user:t}=r;return Se(t,e,"internal-error"),$O(t,new w_(r),r.bypassAuthState)}class HS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vP;case"linkViaPopup":case"linkViaRedirect":return bP;case"reauthViaPopup":case"reauthViaRedirect":return EP;default:Pr(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const TP=new uh(2e3,1e4);class wl extends HS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,wl.currentPopupAction&&wl.currentPopupAction.cancel(),wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=T_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TP.get())};e()}}wl.currentPopupAction=null;const wP="pendingRedirect",Ef=new Map;class AP extends HS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const i=await SP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SP(r,e){const t=RP(e),i=IP(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function xP(r,e){Ef.set(r._key(),e)}function IP(r){return ji(r._redirectPersistence)}function RP(r){return vf(wP,r.config.apiKey,r.name)}async function CP(r,e,t=!1){if(Yn(r.app))return Promise.reject(qi(r));const i=yo(r),a=_P(i,e),c=await new AP(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const NP=600*1e3;class DP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!GS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(li(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NP&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(e))}saveEventToCache(e){this.cachedEventUids.add(BT(e)),this.lastProcessedEventTime=Date.now()}}function BT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function GS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function VP(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GS(r);default:return!1}}async function OP(r,e={}){return oa(r,"GET","/v1/projects",e)}const PP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MP=/^https?/;async function kP(r){if(r.config.emulator)return;const{authorizedDomains:e}=await OP(r);for(const t of e)try{if(LP(t))return}catch{}Pr(r,"unauthorized-domain")}function LP(r){const e=Ey(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!MP.test(t))return!1;if(PP.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const jP=new uh(3e4,6e4);function zT(){const r=ui().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function UP(r){return new Promise((e,t)=>{function i(){zT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zT(),t(li(r,"network-request-failed"))},timeout:jP.get()})}if(ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ui().gapi?.load)i();else{const a=NO("iframefcb");return ui()[a]=()=>{gapi.load?i():t(li(r,"network-request-failed"))},CS(`${CO()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw bf=null,e})}let bf=null;function BP(r){return bf=bf||UP(r),bf}const zP=new uh(5e3,15e3),qP="__/auth/iframe",FP="emulator/auth/iframe",HP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KP(r){const e=r.config;Se(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?y_(e,FP):`https://${r.config.authDomain}/${qP}`,i={apiKey:e.apiKey,appName:r.name,v:go},a=GP.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${lh(i).slice(1)}`}async function QP(r){const e=await BP(r),t=ui().gapi;return Se(t,r,"internal-error"),e.open({where:document.body,url:KP(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=li(r,"network-request-failed"),d=ui().setTimeout(()=>{l(c)},zP.get());function m(){ui().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const $P={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YP=500,XP=600,JP="_blank",WP="http://localhost";class qT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZP(r,e,t,i=YP,a=XP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...$P,width:i.toString(),height:a.toString(),top:l,left:c},g=Wt().toLowerCase();t&&(d=TS(g)?JP:t),ES(g)&&(e=e||WP,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[x,P])=>`${w}${x}=${P},`,"");if(EO(g)&&d!=="_self")return eM(e||"",d),new qT(null);const E=window.open(e||"",d,v);Se(E,r,"popup-blocked");try{E.focus()}catch{}return new qT(E)}function eM(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const tM="__/auth/handler",nM="emulator/auth/handler",rM=encodeURIComponent("fac");async function FT(r,e,t,i,a,l){Se(r.config.authDomain,r,"auth-domain-config-required"),Se(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:go,eventId:a};if(e instanceof VS){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",UD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(e instanceof hh){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await r._getAppCheckToken(),g=m?`#${rM}=${encodeURIComponent(m)}`:"";return`${iM(r)}?${lh(d).slice(1)}${g}`}function iM({config:r}){return r.emulator?y_(r,nM):`https://${r.authDomain}/${tM}`}const ny="webStorageSupport";class sM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=US,this._completeRedirectFn=CP,this._overrideRedirectResult=xP}async _openPopup(e,t,i,a){Gi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await FT(e,t,i,Ey(),a);return ZP(e,l,T_())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await FT(e,t,i,Ey(),a);return lP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Gi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await QP(e),i=new DP(e);return t.register("authEvent",a=>(Se(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ny,{type:ny},a=>{const l=a?.[0]?.[ny];l!==void 0&&t(!!l),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IS()||bS()||v_()}}const aM=sM;var HT="@firebase/auth",GT="1.12.0";class oM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uM(r){ro(new Xs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(r)},g=new xO(i,a,l,m);return kO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ro(new Xs("auth-internal",e=>{const t=yo(e.getProvider("auth").getImmediate());return(i=>new oM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(HT,GT,lM(r)),oi(HT,GT,"esm2020")}const cM=300,hM=tS("authIdTokenMaxAge")||cM;let KT=null;const dM=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>hM)return;const a=t?.token;KT!==a&&(KT=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fM(r=p_()){const e=Wl(r,"auth");if(e.isInitialized())return e.getImmediate();const t=MO(r,{popupRedirectResolver:aM,persistence:[yP,sP,US]}),i=tS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=dM(l.toString());eP(t,c,()=>c(t.currentUser)),ZO(t,d=>c(d))}}const a=WA("auth");return a&&LO(t,`http://${a}`),t}function mM(){return document.getElementsByTagName("head")?.[0]??document}IO({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=li("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",mM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uM("Browser");var QT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $s,KS;(function(){var r;function e(R,I){function C(){}C.prototype=I.prototype,R.F=I.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(k,O,U){for(var N=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)N[nt-2]=arguments[nt];return I.prototype[O].apply(k,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,I,C){C||(C=0);const k=Array(16);if(typeof I=="string")for(var O=0;O<16;++O)k[O]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(O=0;O<16;++O)k[O]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=R.g[0],C=R.g[1],O=R.g[2];let U=R.g[3],N;N=I+(U^C&(O^U))+k[0]+3614090360&4294967295,I=C+(N<<7&4294967295|N>>>25),N=U+(O^I&(C^O))+k[1]+3905402710&4294967295,U=I+(N<<12&4294967295|N>>>20),N=O+(C^U&(I^C))+k[2]+606105819&4294967295,O=U+(N<<17&4294967295|N>>>15),N=C+(I^O&(U^I))+k[3]+3250441966&4294967295,C=O+(N<<22&4294967295|N>>>10),N=I+(U^C&(O^U))+k[4]+4118548399&4294967295,I=C+(N<<7&4294967295|N>>>25),N=U+(O^I&(C^O))+k[5]+1200080426&4294967295,U=I+(N<<12&4294967295|N>>>20),N=O+(C^U&(I^C))+k[6]+2821735955&4294967295,O=U+(N<<17&4294967295|N>>>15),N=C+(I^O&(U^I))+k[7]+4249261313&4294967295,C=O+(N<<22&4294967295|N>>>10),N=I+(U^C&(O^U))+k[8]+1770035416&4294967295,I=C+(N<<7&4294967295|N>>>25),N=U+(O^I&(C^O))+k[9]+2336552879&4294967295,U=I+(N<<12&4294967295|N>>>20),N=O+(C^U&(I^C))+k[10]+4294925233&4294967295,O=U+(N<<17&4294967295|N>>>15),N=C+(I^O&(U^I))+k[11]+2304563134&4294967295,C=O+(N<<22&4294967295|N>>>10),N=I+(U^C&(O^U))+k[12]+1804603682&4294967295,I=C+(N<<7&4294967295|N>>>25),N=U+(O^I&(C^O))+k[13]+4254626195&4294967295,U=I+(N<<12&4294967295|N>>>20),N=O+(C^U&(I^C))+k[14]+2792965006&4294967295,O=U+(N<<17&4294967295|N>>>15),N=C+(I^O&(U^I))+k[15]+1236535329&4294967295,C=O+(N<<22&4294967295|N>>>10),N=I+(O^U&(C^O))+k[1]+4129170786&4294967295,I=C+(N<<5&4294967295|N>>>27),N=U+(C^O&(I^C))+k[6]+3225465664&4294967295,U=I+(N<<9&4294967295|N>>>23),N=O+(I^C&(U^I))+k[11]+643717713&4294967295,O=U+(N<<14&4294967295|N>>>18),N=C+(U^I&(O^U))+k[0]+3921069994&4294967295,C=O+(N<<20&4294967295|N>>>12),N=I+(O^U&(C^O))+k[5]+3593408605&4294967295,I=C+(N<<5&4294967295|N>>>27),N=U+(C^O&(I^C))+k[10]+38016083&4294967295,U=I+(N<<9&4294967295|N>>>23),N=O+(I^C&(U^I))+k[15]+3634488961&4294967295,O=U+(N<<14&4294967295|N>>>18),N=C+(U^I&(O^U))+k[4]+3889429448&4294967295,C=O+(N<<20&4294967295|N>>>12),N=I+(O^U&(C^O))+k[9]+568446438&4294967295,I=C+(N<<5&4294967295|N>>>27),N=U+(C^O&(I^C))+k[14]+3275163606&4294967295,U=I+(N<<9&4294967295|N>>>23),N=O+(I^C&(U^I))+k[3]+4107603335&4294967295,O=U+(N<<14&4294967295|N>>>18),N=C+(U^I&(O^U))+k[8]+1163531501&4294967295,C=O+(N<<20&4294967295|N>>>12),N=I+(O^U&(C^O))+k[13]+2850285829&4294967295,I=C+(N<<5&4294967295|N>>>27),N=U+(C^O&(I^C))+k[2]+4243563512&4294967295,U=I+(N<<9&4294967295|N>>>23),N=O+(I^C&(U^I))+k[7]+1735328473&4294967295,O=U+(N<<14&4294967295|N>>>18),N=C+(U^I&(O^U))+k[12]+2368359562&4294967295,C=O+(N<<20&4294967295|N>>>12),N=I+(C^O^U)+k[5]+4294588738&4294967295,I=C+(N<<4&4294967295|N>>>28),N=U+(I^C^O)+k[8]+2272392833&4294967295,U=I+(N<<11&4294967295|N>>>21),N=O+(U^I^C)+k[11]+1839030562&4294967295,O=U+(N<<16&4294967295|N>>>16),N=C+(O^U^I)+k[14]+4259657740&4294967295,C=O+(N<<23&4294967295|N>>>9),N=I+(C^O^U)+k[1]+2763975236&4294967295,I=C+(N<<4&4294967295|N>>>28),N=U+(I^C^O)+k[4]+1272893353&4294967295,U=I+(N<<11&4294967295|N>>>21),N=O+(U^I^C)+k[7]+4139469664&4294967295,O=U+(N<<16&4294967295|N>>>16),N=C+(O^U^I)+k[10]+3200236656&4294967295,C=O+(N<<23&4294967295|N>>>9),N=I+(C^O^U)+k[13]+681279174&4294967295,I=C+(N<<4&4294967295|N>>>28),N=U+(I^C^O)+k[0]+3936430074&4294967295,U=I+(N<<11&4294967295|N>>>21),N=O+(U^I^C)+k[3]+3572445317&4294967295,O=U+(N<<16&4294967295|N>>>16),N=C+(O^U^I)+k[6]+76029189&4294967295,C=O+(N<<23&4294967295|N>>>9),N=I+(C^O^U)+k[9]+3654602809&4294967295,I=C+(N<<4&4294967295|N>>>28),N=U+(I^C^O)+k[12]+3873151461&4294967295,U=I+(N<<11&4294967295|N>>>21),N=O+(U^I^C)+k[15]+530742520&4294967295,O=U+(N<<16&4294967295|N>>>16),N=C+(O^U^I)+k[2]+3299628645&4294967295,C=O+(N<<23&4294967295|N>>>9),N=I+(O^(C|~U))+k[0]+4096336452&4294967295,I=C+(N<<6&4294967295|N>>>26),N=U+(C^(I|~O))+k[7]+1126891415&4294967295,U=I+(N<<10&4294967295|N>>>22),N=O+(I^(U|~C))+k[14]+2878612391&4294967295,O=U+(N<<15&4294967295|N>>>17),N=C+(U^(O|~I))+k[5]+4237533241&4294967295,C=O+(N<<21&4294967295|N>>>11),N=I+(O^(C|~U))+k[12]+1700485571&4294967295,I=C+(N<<6&4294967295|N>>>26),N=U+(C^(I|~O))+k[3]+2399980690&4294967295,U=I+(N<<10&4294967295|N>>>22),N=O+(I^(U|~C))+k[10]+4293915773&4294967295,O=U+(N<<15&4294967295|N>>>17),N=C+(U^(O|~I))+k[1]+2240044497&4294967295,C=O+(N<<21&4294967295|N>>>11),N=I+(O^(C|~U))+k[8]+1873313359&4294967295,I=C+(N<<6&4294967295|N>>>26),N=U+(C^(I|~O))+k[15]+4264355552&4294967295,U=I+(N<<10&4294967295|N>>>22),N=O+(I^(U|~C))+k[6]+2734768916&4294967295,O=U+(N<<15&4294967295|N>>>17),N=C+(U^(O|~I))+k[13]+1309151649&4294967295,C=O+(N<<21&4294967295|N>>>11),N=I+(O^(C|~U))+k[4]+4149444226&4294967295,I=C+(N<<6&4294967295|N>>>26),N=U+(C^(I|~O))+k[11]+3174756917&4294967295,U=I+(N<<10&4294967295|N>>>22),N=O+(I^(U|~C))+k[2]+718787259&4294967295,O=U+(N<<15&4294967295|N>>>17),N=C+(U^(O|~I))+k[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+U&4294967295}i.prototype.v=function(R,I){I===void 0&&(I=R.length);const C=I-this.blockSize,k=this.C;let O=this.h,U=0;for(;U<I;){if(O==0)for(;U<=C;)a(this,R,U),U+=this.blockSize;if(typeof R=="string"){for(;U<I;)if(k[O++]=R.charCodeAt(U++),O==this.blockSize){a(this,k),O=0;break}}else for(;U<I;)if(k[O++]=R[U++],O==this.blockSize){a(this,k),O=0;break}}this.h=O,this.o+=I},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)R[I++]=this.g[C]>>>k&255;return R};function l(R,I){var C=d;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=I(R)}function c(R,I){this.h=I;const C=[];let k=!0;for(let O=R.length-1;O>=0;O--){const U=R[O]|0;k&&U==I||(C[O]=U,k=!1)}this.g=C}var d={};function m(R){return-128<=R&&R<128?l(R,function(I){return new c([I|0],I<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return j(g(-R));const I=[];let C=1;for(let k=0;R>=C;k++)I[k]=R/C|0,C*=4294967296;return new c(I,0)}function v(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return j(v(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(I,8));let k=E;for(let U=0;U<R.length;U+=8){var O=Math.min(8,R.length-U);const N=parseInt(R.substring(U,U+O),I);O<8?(O=g(Math.pow(I,O)),k=k.j(O).add(g(N))):(k=k.j(C),k=k.add(g(N)))}return k}var E=m(0),w=m(1),x=m(16777216);r=c.prototype,r.m=function(){if(L(this))return-j(this).m();let R=0,I=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);R+=(k>=0?k:4294967296+k)*I,I*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(L(this))return"-"+j(this).toString(R);const I=g(Math.pow(R,6));var C=this;let k="";for(;;){const O=ue(C,I).g;C=W(C,O.j(I));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=O,P(C))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function L(R){return R.h==-1}r.l=function(R){return R=W(this,R),L(R)?-1:P(R)?0:1};function j(R){const I=R.g.length,C=[];for(let k=0;k<I;k++)C[k]=~R.g[k];return new c(C,~R.h).add(w)}r.abs=function(){return L(this)?j(this):this},r.add=function(R){const I=Math.max(this.g.length,R.g.length),C=[];let k=0;for(let O=0;O<=I;O++){let U=k+(this.i(O)&65535)+(R.i(O)&65535),N=(U>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);k=N>>>16,U&=65535,N&=65535,C[O]=N<<16|U}return new c(C,C[C.length-1]&-2147483648?-1:0)};function W(R,I){return R.add(j(I))}r.j=function(R){if(P(this)||P(R))return E;if(L(this))return L(R)?j(this).j(j(R)):j(j(this).j(R));if(L(R))return j(this.j(j(R)));if(this.l(x)<0&&R.l(x)<0)return g(this.m()*R.m());const I=this.g.length+R.g.length,C=[];for(var k=0;k<2*I;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<R.g.length;O++){const U=this.i(k)>>>16,N=this.i(k)&65535,nt=R.i(O)>>>16,le=R.i(O)&65535;C[2*k+2*O]+=N*le,ne(C,2*k+2*O),C[2*k+2*O+1]+=U*le,ne(C,2*k+2*O+1),C[2*k+2*O+1]+=N*nt,ne(C,2*k+2*O+1),C[2*k+2*O+2]+=U*nt,ne(C,2*k+2*O+2)}for(R=0;R<I;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=I;R<2*I;R++)C[R]=0;return new c(C,0)};function ne(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function Q(R,I){this.g=R,this.h=I}function ue(R,I){if(P(I))throw Error("division by zero");if(P(R))return new Q(E,E);if(L(R))return I=ue(j(R),I),new Q(j(I.g),j(I.h));if(L(I))return I=ue(R,j(I)),new Q(j(I.g),I.h);if(R.g.length>30){if(L(R)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var C=w,k=I;k.l(R)<=0;)C=pe(C),k=pe(k);var O=ee(C,1),U=ee(k,1);for(k=ee(k,2),C=ee(C,2);!P(k);){var N=U.add(k);N.l(R)<=0&&(O=O.add(C),U=N),k=ee(k,1),C=ee(C,1)}return I=W(R,O.j(I)),new Q(O,I)}for(O=E;R.l(I)>=0;){for(C=Math.max(1,Math.floor(R.m()/I.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=g(C),N=U.j(I);L(N)||N.l(R)>0;)C-=k,U=g(C),N=U.j(I);P(U)&&(U=w),O=O.add(U),R=W(R,N)}return new Q(O,R)}r.B=function(R){return ue(this,R).h},r.and=function(R){const I=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<I;k++)C[k]=this.i(k)&R.i(k);return new c(C,this.h&R.h)},r.or=function(R){const I=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<I;k++)C[k]=this.i(k)|R.i(k);return new c(C,this.h|R.h)},r.xor=function(R){const I=Math.max(this.g.length,R.g.length),C=[];for(let k=0;k<I;k++)C[k]=this.i(k)^R.i(k);return new c(C,this.h^R.h)};function pe(R){const I=R.g.length+1,C=[];for(let k=0;k<I;k++)C[k]=R.i(k)<<1|R.i(k-1)>>>31;return new c(C,R.h)}function ee(R,I){const C=I>>5;I%=32;const k=R.g.length-C,O=[];for(let U=0;U<k;U++)O[U]=I>0?R.i(U+C)>>>I|R.i(U+C+1)<<32-I:R.i(U+C);return new c(O,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,KS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,$s=c}).apply(typeof QT<"u"?QT:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QS,Ac,$S,Tf,Ay,YS,XS,JS;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var T=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var F=h[S];if(!(F in T))break e;T=T[F]}h=h[h.length-1],S=T[h],y=y(S),y!=S&&y!=null&&e(T,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var T=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&T.push([S,y[S]]);return T}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=m,g.apply(null,arguments)}function v(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(S,F,Y){for(var he=Array(arguments.length-2),De=2;De<arguments.length;De++)he[De-2]=arguments[De];return y.prototype[F].apply(S,he)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function x(h){const y=h.length;if(y>0){const T=Array(y);for(let S=0;S<y;S++)T[S]=h[S];return T}return[]}function P(h,y){for(let S=1;S<arguments.length;S++){const F=arguments[S];var T=typeof F;if(T=T!="object"?T:F?Array.isArray(F)?"array":T:"null",T=="array"||T=="object"&&typeof F.length=="number"){T=h.length||0;const Y=F.length||0;h.length=T+Y;for(let he=0;he<Y;he++)h[T+he]=F[he]}else h.push(F)}}class L{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function W(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,T){const S=Q.get();S.set(y,T),this.h?this.h.next=S:this.g=S,this.h=S}}var Q=new L(()=>new ue,h=>h.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,ee=!1,R=new ne,I=()=>{const h=Promise.resolve(void 0);pe=()=>{h.then(C)}};function C(){for(var h;h=W();){try{h.h.call(h.g)}catch(T){j(T)}var y=Q;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ee=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function nt(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(nt,O),nt.prototype.init=function(h,y){const T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&nt.Z.h.call(this)},nt.prototype.h=function(){nt.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),X=0;function fe(h,y,T,S,F){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!S,this.ha=F,this.key=++X,this.da=this.fa=!1}function Te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ze(h,y,T){for(const S in h)y.call(T,h[S],S,h)}function Je(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function V(h){const y={};for(const T in h)y[T]=h[T];return y}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(h,y){let T,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(T in S)h[T]=S[T];for(let Y=0;Y<se.length;Y++)T=se[Y],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function ye(h){this.src=h,this.g={},this.h=0}ye.prototype.add=function(h,y,T,S,F){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const he=Re(h,y,S,F);return he>-1?(y=h[he],T||(y.fa=!1)):(y=new fe(y,this.src,Y,!!S,F),y.fa=T,h.push(y)),y};function Ie(h,y){const T=y.type;if(T in h.g){var S=h.g[T],F=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(S,F,1),Y&&(Te(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Re(h,y,T,S){for(let F=0;F<h.length;++F){const Y=h[F];if(!Y.da&&Y.listener==y&&Y.capture==!!T&&Y.ha==S)return F}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Vt={};function gt(h,y,T,S,F){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)gt(h,y[Y],T,S,F);return null}return T=gn(T),h&&h[le]?h.J(y,T,d(S)?!!S.capture:!1,F):yi(h,y,T,!1,S,F)}function yi(h,y,T,S,F,Y){if(!y)throw Error("Invalid event type");const he=d(F)?!!F.capture:!!F;let De=We(h);if(De||(h[je]=De=new ye(h)),T=De.add(y,T,S,he,Y),T.proxy)return T;if(S=Zi(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)U||(F=he),F===void 0&&(F=!1),h.addEventListener(y.toString(),S,F);else if(h.attachEvent)h.attachEvent(Me(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Zi(){function h(T){return y.call(h.src,h.listener,T)}const y=Pe;return h}function fr(h,y,T,S,F){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)fr(h,y[Y],T,S,F);else S=d(S)?!!S.capture:!!S,T=gn(T),h&&h[le]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],T=Re(y,T,S,F),T>-1&&(Te(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=We(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Re(y,T,S,F)),(T=h>-1?y[h]:null)&&J(T))}function J(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[le])Ie(y.i,h);else{var T=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(T,S,h.capture):y.detachEvent?y.detachEvent(Me(T),S):y.addListener&&y.removeListener&&y.removeListener(S),(T=We(y))?(Ie(T,h),T.h==0&&(T.src=null,y[je]=null)):Te(h)}}}function Me(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function Pe(h,y){if(h.da)h=!0;else{y=new nt(y,this);const T=h.listener,S=h.ha||h.src;h.fa&&J(h),h=T.call(S,y)}return h}function We(h){return h=h[je],h instanceof ye?h:null}var yt="__closure_events_fn_"+(Math.random()*1e9>>>0);function gn(h){return typeof h=="function"?h:(h[yt]||(h[yt]=function(y){return h.handleEvent(y)}),h[yt])}function wt(){k.call(this),this.i=new ye(this),this.M=this,this.G=null}E(wt,k),wt.prototype[le]=!0,wt.prototype.removeEventListener=function(h,y,T,S){fr(this,h,y,T,S)};function At(h,y){var T,S=h.G;if(S)for(T=[];S;S=S.G)T.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var F=y;y=new O(S,h),me(y,F)}F=!0;let Y,he;if(T)for(he=T.length-1;he>=0;he--)Y=y.g=T[he],F=Mr(Y,S,!0,y)&&F;if(Y=y.g=h,F=Mr(Y,S,!0,y)&&F,F=Mr(Y,S,!1,y)&&F,T)for(he=0;he<T.length;he++)Y=y.g=T[he],F=Mr(Y,S,!1,y)&&F}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let S=0;S<T.length;S++)Te(T[S]);delete h.g[y],h.h--}}this.G=null},wt.prototype.J=function(h,y,T,S){return this.i.add(String(h),y,!1,T,S)},wt.prototype.K=function(h,y,T,S){return this.i.add(String(h),y,!0,T,S)};function Mr(h,y,T,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let F=!0;for(let Y=0;Y<y.length;++Y){const he=y[Y];if(he&&!he.da&&he.capture==T){const De=he.listener,kt=he.ha||he.src;he.fa&&Ie(h.i,he),F=De.call(kt,S)!==!1&&F}}return F&&!S.defaultPrevented}function Ih(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function es(h){h.g=Ih(()=>{h.g=null,h.i&&(h.i=!1,es(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Tn extends k{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:es(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(h){k.call(this),this.h=h,this.g={}}E(ga,k);var du=[];function fu(h){ze(h.g,function(y,T){this.g.hasOwnProperty(T)&&J(y)},h),h.g={}}ga.prototype.N=function(){ga.Z.N.call(this),fu(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ts=c.JSON.stringify,Hm=c.JSON.parse,Rh=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ch(){}function Nh(){}var mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){O.call(this,"d")}E(ln,O);function Wn(){O.call(this,"c")}E(Wn,O);var Mt={},Dh=null;function wo(){return Dh=Dh||new wt}Mt.Ia="serverreachability";function Vh(h){O.call(this,Mt.Ia,h)}E(Vh,O);function kr(h){const y=wo();At(y,new Vh(y))}Mt.STAT_EVENT="statevent";function ya(h,y){O.call(this,Mt.STAT_EVENT,h),this.stat=y}E(ya,O);function zt(h){const y=wo();At(y,new ya(y,h))}Mt.Ja="timingevent";function Lr(h,y){O.call(this,Mt.Ja,h),this.size=y}E(Lr,O);function jr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function pr(){this.g=!0}pr.prototype.ua=function(){this.g=!1};function Gm(h,y,T,S,F,Y){h.info(function(){if(h.g)if(Y){var he="",De=Y.split("&");for(let Ze=0;Ze<De.length;Ze++){var kt=De[Ze].split("=");if(kt.length>1){const St=kt[0];kt=kt[1];const nr=St.split("_");he=nr.length>=2&&nr[1]=="type"?he+(St+"="+kt+"&"):he+(St+"=redacted&")}}}else he=null;else he=Y;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+y+`
`+T+`
`+he})}function Oh(h,y,T,S,F,Y,he){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+y+`
`+T+`
`+Y+" "+he})}function Ur(h,y,T,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Km(h,T)+(S?" "+S:"")})}function _a(h,y){h.info(function(){return"TIMEOUT: "+y})}pr.prototype.info=function(){};function Km(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var T=Y[h];if(!(T.length<2)){var S=T[1];if(Array.isArray(S)&&!(S.length<1)){var F=S[0];if(F!="noop"&&F!="stop"&&F!="close")for(let he=1;he<S.length;he++)S[he]=""}}}}return ts(Y)}catch{return y}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pu;function Ea(){}E(Ea,Ch),Ea.prototype.g=function(){return new XMLHttpRequest},pu=new Ea;function _i(h){return encodeURIComponent(String(h))}function Ph(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function gr(h,y,T,S){this.j=h,this.i=y,this.l=T,this.S=S||1,this.V=new ga(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var qt={},tn={};function Br(h,y,T){h.M=1,h.A=ba(Ht(y)),h.u=T,h.R=!0,Ao(h,null)}function Ao(h,y){h.F=Date.now(),zr(h),h.B=Ht(h.A);var T=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Ro(T.i,"t",S),h.C=0,T=h.j.L,h.h=new yr,h.g=Yh(h.j,T?y:null,!h.u),h.P>0&&(h.O=new Tn(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,S=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(du[0]=F.toString()),F=du);for(let Y=0;Y<F.length;Y++){const he=gt(T,F[Y],S||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),kr(),Gm(h.i,h.v,h.B,h.l,h.S,h.u)}gr.prototype.ba=function(h){h=h.target;const y=this.O;y&&Er(h)==3?y.j():this.Y(h)},gr.prototype.Y=function(h){try{if(h==this.g)e:{const De=Er(this.g),kt=this.g.ya(),Ze=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||De!=4||kt==7||(kt==8||Ze<=0?kr(3):kr(2)),qr(this);var y=this.g.ca();this.X=y;var T=Qm(this);if(this.o=y==200,Oh(this.i,this.v,this.B,this.l,this.S,De,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,F=this.g;if((S=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var Y=S;break t}}Y=null}if(h=Y)Ur(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fr(this,h);else{this.o=!1,this.m=3,zt(12),Un(this),Zn(this);break e}}if(this.R){h=!0;let St;for(;!this.K&&this.C<T.length;)if(St=kh(this,T),St==tn){De==4&&(this.m=4,zt(14),h=!1),Ur(this.i,this.l,null,"[Incomplete Response]");break}else if(St==qt){this.m=4,zt(15),Ur(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ur(this.i,this.l,St,null),Fr(this,St);if(Mh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||T.length!=0||this.h.h||(this.m=1,zt(16),h=!1),this.o=this.o&&h,!h)Ur(this.i,this.l,T,"[Invalid Chunked Response]"),Un(this),Zn(this);else if(T.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Nu(he),he.P=!0,zt(11))}}else Ur(this.i,this.l,T,null),Fr(this,T);De==4&&Un(this),this.o&&!this.K&&(De==4?Gh(this.j,this):(this.o=!1,zr(this)))}else Ei(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Un(this),Zn(this)}}}catch{}};function Qm(h){if(!Mh(h))return h.g.la();const y=un(h.g);if(y==="")return"";let T="";const S=y.length,F=Er(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Un(h),Zn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<S;Y++)h.h.h=!0,T+=h.h.i.decode(y[Y],{stream:!(F&&Y==S-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function Mh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function kh(h,y){var T=h.C,S=y.indexOf(`
`,T);return S==-1?tn:(T=Number(y.substring(T,S)),isNaN(T)?qt:(S+=1,S+T>y.length?tn:(y=y.slice(S,S+T),h.C=S+T,y)))}gr.prototype.cancel=function(){this.K=!0,Un(this)};function zr(h){h.T=Date.now()+h.H,So(h,h.H)}function So(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=jr(g(h.aa,h),y)}function qr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}gr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(_a(this.i,this.B),this.M!=2&&(kr(),zt(17)),Un(this),this.m=2,Zn(this)):So(this,this.T-h)};function Zn(h){h.j.I==0||h.K||Gh(h.j,h)}function Un(h){qr(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,fu(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Fr(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Gr(T.h,h))){if(!h.L&&Gr(T.h,h)&&T.I==3){try{var S=T.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Oo(T),us(T);else break e;Ra(T),zt(18)}}else T.xa=F[1],0<T.xa-T.K&&F[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=jr(g(T.Va,T),6e3));Hr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Jr(T,11)}else if((h.L||T.g==h)&&Oo(T),!N(y))for(F=T.Ba.g.parse(y),y=0;y<F.length;y++){let Ze=F[y];const St=Ze[0];if(!(St<=T.K))if(T.K=St,Ze=Ze[1],T.I==2)if(Ze[0]=="c"){T.M=Ze[1],T.ba=Ze[2];const nr=Ze[3];nr!=null&&(T.ka=nr,T.j.info("VER="+T.ka));const Wr=Ze[4];Wr!=null&&(T.za=Wr,T.j.info("SVER="+T.za));const br=Ze[5];br!=null&&typeof br=="number"&&br>0&&(S=1.5*br,T.O=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const Tr=h.g;if(Tr){const Ca=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var Y=S.h;Y.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(_u(Y,Y.h),Y.h=null))}if(S.G){const Po=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(S.wa=Po,rt(S.J,S.G,Po))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),S=T;var he=h;if(S.na=$h(S,S.L?S.ba:null,S.W),he.L){vu(S.h,he);var De=he,kt=S.O;kt&&(De.H=kt),De.D&&(qr(De),zr(De)),S.g=he}else Fh(S);T.i.length>0&&Xr(T)}else Ze[0]!="stop"&&Ze[0]!="close"||Jr(T,7);else T.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Jr(T,7):Ru(T):Ze[0]!="noop"&&T.l&&T.l.qa(Ze),T.A=0)}}kr(4)}catch{}}var Ft=class{constructor(h,y){this.g=h,this.map=y}};function gu(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Hr(h){return h.h?1:h.g?h.g.size:0}function Gr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function _u(h,y){h.g?h.g.add(y):h.h=y}function vu(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}gu.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Eu(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return x(h.i)}var Lh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xo(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const S=h[T].indexOf("=");let F,Y=null;S>=0?(F=h[T].substring(0,S),Y=h[T].substring(S+1)):F=h[T],y(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Bn?(this.l=h.l,nn(this,h.j),this.o=h.o,this.g=h.g,ns(this,h.u),this.h=h.h,bu(this,zh(h.i)),this.m=h.m):h&&(y=String(h).match(Lh))?(this.l=!1,nn(this,y[1]||"",!0),this.o=Kr(y[2]||""),this.g=Kr(y[3]||"",!0),ns(this,y[4]),this.h=Kr(y[5]||"",!0),bu(this,y[6]||"",!0),this.m=Kr(y[7]||"")):(this.l=!1,this.i=new is(null,this.l))}Bn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ta(y,Io,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ta(y,Io,!0),"@"),h.push(_i(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Ta(T,T.charAt(0)=="/"?Tu:jh,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Ta(T,Uh)),h.join("")},Bn.prototype.resolve=function(h){const y=Ht(this);let T=!!h.j;T?nn(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var S=h.h;if(T)ns(y,h.u);else if(T=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var F=y.h.lastIndexOf("/");F!=-1&&(S=y.h.slice(0,F+1)+S)}if(F=S,F==".."||F==".")S="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){S=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let he=0;he<F.length;){const De=F[he++];De=="."?S&&he==F.length&&Y.push(""):De==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&he==F.length&&Y.push("")):(Y.push(De),S=!0)}S=Y.join("/")}else S=F}return T?y.h=S:T=h.i.toString()!=="",T?bu(y,zh(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Ht(h){return new Bn(h)}function nn(h,y,T){h.j=T?Kr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function ns(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function bu(h,y,T){y instanceof is?(h.i=y,Co(h.i,h.l)):(T||(y=Ta(y,rs)),h.i=new is(y,h.l))}function rt(h,y,T){h.i.set(y,T)}function ba(h){return rt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Kr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ta(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,Sn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Sn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Io=/[#\/\?@]/g,jh=/[#\?:]/g,Tu=/[#\?]/g,rs=/[#\?@]/g,Uh=/#/g;function is(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&xo(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}r=is.prototype,r.add=function(h,y){xn(this),this.i=null,h=ss(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function Bh(h,y){xn(h),y=ss(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function wu(h,y){return xn(h),y=ss(h,y),h.g.has(y)}r.forEach=function(h,y){xn(this),this.g.forEach(function(T,S){T.forEach(function(F){h.call(y,F,S,this)},this)},this)};function Au(h,y){xn(h);let T=[];if(typeof y=="string")wu(h,y)&&(T=T.concat(h.g.get(ss(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}r.set=function(h,y){return xn(this),this.i=null,h=ss(this,h),wu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=Au(this,h),h.length>0?String(h[0]):y):y};function Ro(h,y,T){Bh(h,y),T.length>0&&(h.i=null,h.g.set(ss(h,y),x(T)),h.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var T=y[S];const F=_i(T);T=Au(this,T);for(let Y=0;Y<T.length;Y++){let he=F;T[Y]!==""&&(he+="="+_i(T[Y])),h.push(he)}}return this.i=h.join("&")};function zh(h){const y=new is;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function ss(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Co(h,y){y&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(T,S){const F=S.toLowerCase();S!=F&&(Bh(this,S),Ro(this,F,T))},h)),h.j=y}function _r(h,y){const T=new pr;if(c.Image){const S=new Image;S.onload=v(er,T,"TestLoadImage: loaded",!0,y,S),S.onerror=v(er,T,"TestLoadImage: error",!1,y,S),S.onabort=v(er,T,"TestLoadImage: abort",!1,y,S),S.ontimeout=v(er,T,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Su(h,y){const T=new pr,S=new AbortController,F=setTimeout(()=>{S.abort(),er(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(F),Y.ok?er(T,"TestPingServer: ok",!0,y):er(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),er(T,"TestPingServer: error",!1,y)})}function er(h,y,T,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(T)}catch{}}function as(){this.g=new Rh}function Qr(h){this.i=h.Sb||null,this.h=h.ab||!1}E(Qr,Ch),Qr.prototype.g=function(){return new wa(this.i,this.h)};function wa(h,y){wt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(wa,wt),r=wa.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,vr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?os(this):vr(this),this.readyState==3&&No(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,os(this))},r.Na=function(h){this.g&&(this.response=h,os(this))},r.ga=function(){this.g&&os(this)};function os(h){h.readyState=4,h.l=null,h.j=null,h.B=null,vr(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function vr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function tr(h){let y="";return ze(h,function(T,S){y+=S,y+=":",y+=T,y+=`\r
`}),y}function Aa(h,y,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=tr(T),typeof h=="string"?T!=null&&_i(T):rt(h,y,T))}function ct(h){wt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ct,wt);var $r=/^https?$/i,xu=["POST","PUT"];r=ct.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pu.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Sa(this,Y);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)T.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())T.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(xu,y,void 0)>=0)||S||F||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of T)this.g.setRequestHeader(Y,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Sa(this,Y)}};function Sa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Iu(h),vi(h)}function Iu(h){h.A||(h.A=!0,At(h,"complete"),At(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,At(this,"complete"),At(this,"abort"),vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),ct.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?xa(this):this.Xa())},r.Xa=function(){xa(this)};function xa(h){if(h.h&&typeof l<"u"){if(h.v&&Er(h)==4)setTimeout(h.Ca.bind(h),0);else if(At(h,"readystatechange"),Er(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var S;if(S=Y===0){let he=String(h.D).match(Lh)[1]||null;!he&&c.self&&c.self.location&&(he=c.self.location.protocol.slice(0,-1)),S=!$r.test(he?he.toLowerCase():"")}T=S}if(T)At(h,"complete"),At(h,"success");else{h.o=6;try{var F=Er(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",Iu(h)}}finally{vi(h)}}}}function vi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||At(h,"ready");try{T.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Er(h){return h.g?h.g.readyState:0}r.ca=function(){try{return Er(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Hm(y)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ei(h){const y={};h=(h.g&&Er(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(N(h[S]))continue;var T=Ph(h[S]);const F=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Y=y[F]||[];y[F]=Y,Y.push(T)}Je(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yr(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function ls(h){this.za=0,this.i=[],this.j=new pr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yr("baseRetryDelayMs",5e3,h),this.Za=Yr("retryDelaySeedMs",1e4,h),this.Ta=Yr("forwardChannelMaxRetries",2,h),this.va=Yr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new gu(h&&h.concurrentRequestLimit),this.Ba=new as,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ls.prototype,r.ka=8,r.I=1,r.connect=function(h,y,T,S){zt(0),this.W=h,this.H=y||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.J=$h(this,null,this.W),Xr(this)};function Ru(h){if(Do(h),h.I==3){var y=h.V++,T=Ht(h.J);if(rt(T,"SID",h.M),rt(T,"RID",y),rt(T,"TYPE","terminate"),Ia(h,T),y=new gr(h,h.j,y),y.M=2,y.A=ba(Ht(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Yh(y.j,null),y.g.ea(y.A)),y.F=Date.now(),zr(y)}Qh(h)}function us(h){h.g&&(Nu(h),h.g.cancel(),h.g=null)}function Do(h){us(h),h.v&&(c.clearTimeout(h.v),h.v=null),Oo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Xr(h){if(!yu(h.h)&&!h.m){h.m=!0;var y=h.Ea;pe||I(),ee||(pe(),ee=!0),R.add(y,h),h.D=0}}function Vo(h,y){return Hr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=jr(g(h.Ea,h,y),Kh(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new gr(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=V(Y),me(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=qh(this,F,y),T=Ht(this.J),rt(T,"RID",h),rt(T,"CVER",22),this.G&&rt(T,"X-HTTP-Session-Id",this.G),Ia(this,T),Y&&(this.R?y="headers="+_i(tr(Y))+"&"+y:this.u&&Aa(T,this.u,Y)),_u(this.h,F),this.Ra&&rt(T,"TYPE","init"),this.S?(rt(T,"$req",y),rt(T,"SID","null"),F.U=!0,Br(F,T,null)):Br(F,T,y),this.I=2}}else this.I==3&&(h?Cu(this,h):this.i.length==0||yu(this.h)||Cu(this))};function Cu(h,y){var T;y?T=y.l:T=h.V++;const S=Ht(h.J);rt(S,"SID",h.M),rt(S,"RID",T),rt(S,"AID",h.K),Ia(h,S),h.u&&h.o&&Aa(S,h.u,h.o),T=new gr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=qh(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),_u(h.h,T),Br(T,S,y)}function Ia(h,y){h.H&&ze(h.H,function(T,S){rt(y,S,T)}),h.l&&ze({},function(T,S){rt(y,S,T)})}function qh(h,y,T){T=Math.min(h.i.length,T);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var F=h.i;let De=-1;for(;;){const kt=["count="+T];De==-1?T>0?(De=F[0].g,kt.push("ofs="+De)):De=0:kt.push("ofs="+De);let Ze=!0;for(let St=0;St<T;St++){var Y=F[St].g;const nr=F[St].map;if(Y-=De,Y<0)De=Math.max(0,F[St].g-100),Ze=!1;else try{Y="req"+Y+"_"||"";try{var he=nr instanceof Map?nr:Object.entries(nr);for(const[Wr,br]of he){let Tr=br;d(br)&&(Tr=ts(br)),kt.push(Y+Wr+"="+encodeURIComponent(Tr))}}catch(Wr){throw kt.push(Y+"type="+encodeURIComponent("_badmap")),Wr}}catch{S&&S(nr)}}if(Ze){he=kt.join("&");break e}}he=void 0}return h=h.i.splice(0,T),y.G=h,he}function Fh(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;pe||I(),ee||(pe(),ee=!0),R.add(y,h),h.A=0}}function Ra(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=jr(g(h.Da,h),Kh(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Hh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=jr(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),us(this),Hh(this))};function Nu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Hh(h){h.g=new gr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ht(h.na);rt(y,"RID","rpc"),rt(y,"SID",h.M),rt(y,"AID",h.K),rt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&rt(y,"TO",h.ia),rt(y,"TYPE","xmlhttp"),Ia(h,y),h.u&&h.o&&Aa(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=ba(Ht(y)),T.u=null,T.R=!0,Ao(T,h)}r.Va=function(){this.C!=null&&(this.C=null,us(this),Ra(this),zt(19))};function Oo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Gh(h,y){var T=null;if(h.g==y){Oo(h),Nu(h),h.g=null;var S=2}else if(Gr(h.h,y))T=y.G,vu(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var F=h.D;S=wo(),At(S,new Lr(S,T)),Xr(h)}else Fh(h);else if(F=y.m,F==3||F==0&&y.X>0||!(S==1&&Vo(h,y)||S==2&&Ra(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),F){case 1:Jr(h,5);break;case 4:Jr(h,10);break;case 3:Jr(h,6);break;default:Jr(h,2)}}}function Kh(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Jr(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),S=h.Ua;const F=!S;S=new Bn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||nn(S,"https"),ba(S),F?_r(S.toString(),T):Su(S.toString(),T)}else zt(2);h.I=0,h.l&&h.l.pa(y),Qh(h),Do(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Qh(h){if(h.I=0,h.ja=[],h.l){const y=Eu(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ja,y),P(h.ja,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.oa()}}function $h(h,y,T){var S=T instanceof Bn?Ht(T):new Bn(T);if(S.g!="")y&&(S.g=y+"."+S.g),ns(S,S.u);else{var F=c.location;S=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;const Y=new Bn(null);S&&nn(Y,S),y&&(Y.g=y),F&&ns(Y,F),T&&(Y.h=T),S=Y}return T=h.G,y=h.wa,T&&y&&rt(S,T,y),rt(S,"VER",h.ka),Ia(h,S),S}function Yh(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ct(new Qr({ab:T})):new ct(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xh(){}r=Xh.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function cs(){}cs.prototype.g=function(h,y){return new wn(h,y)};function wn(h,y){wt.call(this),this.g=new ls(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new bi(this)}E(wn,wt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Ru(this.g)},wn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=ts(h),h=T);y.i.push(new Ft(y.Ya++,h)),y.I==3&&Xr(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,wn.Z.N.call(this)};function Jh(h){ln.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const T in y){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Jh,ln);function Wh(){Wn.call(this),this.status=1}E(Wh,Wn);function bi(h){this.g=h}E(bi,Xh),bi.prototype.ra=function(){At(this.g,"a")},bi.prototype.qa=function(h){At(this.g,new Jh(h))},bi.prototype.pa=function(h){At(this.g,new Wh)},bi.prototype.oa=function(){At(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,JS=function(){return new cs},XS=function(){return wo()},YS=Mt,Ay={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,Tf=va,mu.COMPLETE="complete",$S=mu,Nh.EventType=mr,mr.OPEN="a",mr.CLOSE="b",mr.ERROR="c",mr.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Ac=Nh,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,QS=ct}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});const $T="@firebase/firestore",YT="4.9.3";class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let eu="12.7.0";const Js=new f_("@firebase/firestore");function _l(){return Js.logLevel}function pM(r){Js.setLogLevel(r)}function oe(r,...e){if(Js.logLevel<=He.DEBUG){const t=e.map(A_);Js.debug(`Firestore (${eu}): ${r}`,...t)}}function Ut(r,...e){if(Js.logLevel<=He.ERROR){const t=e.map(A_);Js.error(`Firestore (${eu}): ${r}`,...t)}}function Xn(r,...e){if(Js.logLevel<=He.WARN){const t=e.map(A_);Js.warn(`Firestore (${eu}): ${r}`,...t)}}function A_(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function ge(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,WS(r,i,t)}function WS(r,e,t){let i=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ut(i),new Error(i)}function ve(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||WS(e,a,i)}function gM(r,e){r||ge(57014,e)}function de(r,e){return r}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends pi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class on{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ZS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ex{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(an.UNAUTHENTICATED)))}shutdown(){}}class yM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _M{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ve(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new on;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new on,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new on)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ve(typeof i.accessToken=="string",31837,{l:i}),new ZS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class vM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new vM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ve(this.o===void 0,3512);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Sy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class TM{getToken(){return Promise.resolve(new Sy(""))}invalidateToken(){}start(e,t){}shutdown(){}}function wM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=wM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function xe(r,e){return r<e?-1:r>e?1:0}function xy(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return ry(a)===ry(l)?xe(a,l):ry(a)?1:-1}return xe(r.length,e.length)}const AM=55296,SM=57343;function ry(r){const e=r.charCodeAt(0);return e>=AM&&e<=SM}function Cl(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}function tx(r){return r+"\0"}const Iy="__name__";class ri{constructor(e,t,i){t===void 0?t=0:t>e.length&&ge(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ge(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ri.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ri?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ri.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return xe(e.length,t.length)}static compareSegments(e,t){const i=ri.isNumericId(e),a=ri.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ri.extractNumericId(e).compare(ri.extractNumericId(t)):xy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $s.fromString(e.substring(4,e.length-2))}}class ke extends ri{construct(e,t,i){return new ke(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new ke(t)}static emptyPath(){return new ke([])}}const xM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends ri{construct(e,t,i){return new Tt(e,t,i)}static isValidIdentifier(e){return xM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iy}static keyField(){return new Tt([Iy])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(t)}static emptyPath(){return new Tt([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ke.fromString(e))}static fromName(e){return new ce(ke.fromString(e).popFirst(5))}static empty(){return new ce(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ke(e.slice()))}}function S_(r,e,t){if(!t)throw new ie(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nx(r,e,t,i){if(e===!0&&i===!0)throw new ie(K.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function XT(r){if(!ce.isDocumentKey(r))throw new ie(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function JT(r){if(ce.isDocumentKey(r))throw new ie(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rx(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _m(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ge(12329,{type:typeof r})}function Le(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_m(r);throw new ie(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function ix(r,e){if(e<=0)throw new ie(K.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function Xt(r,e){const t={typeString:r};return e&&(t.value=e),t}function _o(r,e){if(!rx(r))throw new ie(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ie(K.INVALID_ARGUMENT,t);return!0}const WT=-62135596800,ZT=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ZT);return new tt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WT)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZT}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Xt("string",tt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new tt(0,0))}static max(){return new be(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;class Dl{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function Ry(r){return r.fields.find((e=>e.kind===2))}function Qa(r){return r.fields.filter((e=>e.kind!==2))}function IM(r,e){let t=xe(r.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let i=0;i<Math.min(r.fields.length,e.fields.length);++i)if(t=RM(r.fields[i],e.fields[i]),t!==0)return t;return xe(r.fields.length,e.fields.length)}Dl.UNKNOWN_ID=-1;class eo{constructor(e,t){this.fieldPath=e,this.kind=t}}function RM(r,e){const t=Tt.comparator(r.fieldPath,e.fieldPath);return t!==0?t:xe(r.kind,e.kind)}class Vl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vl(0,Jn.min())}}function sx(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=be.fromTimestamp(i===1e9?new tt(t+1,0):new tt(t,i));return new Jn(a,ce.empty(),e)}function ax(r){return new Jn(r.readTime,r.key,Nl)}class Jn{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Jn(be.min(),ce.empty(),Nl)}static max(){return new Jn(be.max(),ce.empty(),Nl)}}function x_(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(r.documentKey,e.documentKey),t!==0?t:xe(r.largestBatchId,e.largestBatchId))}const ox="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function la(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==ox)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new z(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof z?t:z.resolve(t)}catch(t){return z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):z.reject(t)}static resolve(e){return new z(((t,i)=>{t(e)}))}static reject(e){return new z(((t,i)=>{i(e)}))}static waitFor(e){return new z(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(m=>i(m)))})),c=!0,l===a&&t()}))}static or(e){let t=z.resolve(!1);for(const i of e)t=t.next((a=>a?z.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new z(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>a(v)))}}))}static doWhile(e,t){return new z(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}const $n="SimpleDb";class vm{static open(e,t,i,a){try{return new vm(t,e.transaction(a,i))}catch(l){throw new Nc(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new on,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Nc(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=I_(i.target.error);this.S.reject(new Nc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(oe($n,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new NM(t)}}class ci{static delete(e){return oe($n,"Removing database:",e),Ya(JA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!aS())return!1;if(ci.F())return!0;const e=Wt(),t=ci.M(e),i=0<t&&t<10,a=ux(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,ci.M(Wt())===12.2&&Ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(oe($n,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{i(new Nc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new ie(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new ie(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Nc(e,c))},a.onupgradeneeded=l=>{oe($n,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{oe($n,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=vm.open(this.db,e,l?"readonly":"readwrite",i),m=a(d).next((g=>(d.C(),g))).catch((g=>(d.abort(g),z.reject(g)))).toPromise();return m.catch((()=>{})),await d.D,m}catch(d){const m=d,g=m.name!=="FirebaseError"&&c<3;if(oe($n,"Transaction failed with error:",m.message,"Retrying:",g),this.close(),!g)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ux(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class CM{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ya(this.U.delete())}}class Nc extends ie{constructor(e,t){super(K.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ua(r){return r.name==="IndexedDbTransactionError"}class NM{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(oe($n,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(oe($n,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ya(i)}add(e){return oe($n,"ADD",this.store.name,e,e),Ya(this.store.add(e))}get(e){return Ya(this.store.get(e)).next((t=>(t===void 0&&(t=null),oe($n,"GET",this.store.name,e,t),t)))}delete(e){return oe($n,"DELETE",this.store.name,e),Ya(this.store.delete(e))}count(){return oe($n,"COUNT",this.store.name),Ya(this.store.count())}J(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new z(((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}}))}{const l=this.cursor(i),c=[];return this.H(l,((d,m)=>{c.push(m)})).next((()=>c))}}Y(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new z(((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){oe($n,"DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const a=this.cursor(i);return this.H(a,((l,c,d)=>d.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.H(a,t)}te(e){const t=this.cursor({});return new z(((i,a)=>{t.onerror=l=>{const c=I_(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():i()})):i()}}))}H(e,t){const i=[];return new z(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const m=new CM(d),g=t(d.primaryKey,d.value,m);if(g instanceof z){const v=g.catch((E=>(m.done(),z.reject(E))));i.push(v)}m.isDone?a():m.G===null?d.continue():d.continue(m.G)}})).next((()=>z.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ya(r){return new z(((e,t)=>{r.onsuccess=i=>{const a=i.target.result;e(a)},r.onerror=i=>{const a=I_(i.target.error);t(a)}}))}let ew=!1;function I_(r){const e=ci.M(Wt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const i=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ew||(ew=!0,setTimeout((()=>{throw i}),0)),i}}return r}const Dc="IndexBackfiller";class DM{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){oe(Dc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();oe(Dc,`Documents written: ${t}`)}catch(t){ua(t)?oe(Dc,"Ignoring IndexedDB error during index backfill: ",t):await la(t)}await this.re(6e4)}))}}class VM{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,l=!0;return z.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!i.has(c))return oe(Dc,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,i.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((d=>(oe(Dc,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,l)=>{const c=ax(l);x_(c,i)>0&&(i=c)})),new Jn(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class On{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}On.ce=-1;const Ys=-1;function fh(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function cx(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Hf="";function En(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=tw(e)),e=OM(r.get(t),e);return tw(e)}function OM(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case Hf:t+="";break;default:t+=l}}return t}function tw(r){return r+Hf+""}function si(r){const e=r.length;if(ve(e>=2,64408,{path:r}),e===2)return ve(r.charAt(0)===Hf&&r.charAt(1)==="",56145,{path:r}),ke.emptyPath();const t=e-2,i=[];let a="";for(let l=0;l<e;){const c=r.indexOf(Hf,l);switch((c<0||c>t)&&ge(50515,{path:r}),r.charAt(c+1)){case"":const d=r.substring(l,c);let m;a.length===0?m=d:(a+=d,m=a,a=""),i.push(m);break;case"":a+=r.substring(l,c),a+="\0";break;case"":a+=r.substring(l,c+1);break;default:ge(61167,{path:r})}l=c+2}return new ke(i)}const $a="remoteDocuments",mh="owner",cl="owner",Kc="mutationQueues",PM="userId",Ir="mutations",nw="batchId",Za="userMutationsIndex",rw=["userId","batchId"];function wf(r,e){return[r,En(e)]}function hx(r,e,t){return[r,En(e),t]}const MM={},Ol="documentMutations",Gf="remoteDocumentsV14",kM=["prefixPath","collectionGroup","readTime","documentId"],Af="documentKeyIndex",LM=["prefixPath","collectionGroup","documentId"],dx="collectionGroupIndex",jM=["collectionGroup","readTime","prefixPath","documentId"],Qc="remoteDocumentGlobal",Cy="remoteDocumentGlobalKey",Pl="targets",fx="queryTargetsIndex",UM=["canonicalId","targetId"],Ml="targetDocuments",BM=["targetId","path"],R_="documentTargetsIndex",zM=["path","targetId"],Kf="targetGlobalKey",to="targetGlobal",$c="collectionParents",qM=["collectionId","parent"],kl="clientMetadata",FM="clientId",Em="bundles",HM="bundleId",bm="namedQueries",GM="name",C_="indexConfiguration",KM="indexId",Ny="collectionGroupIndex",QM="collectionGroup",Vc="indexState",$M=["indexId","uid"],mx="sequenceNumberIndex",YM=["uid","sequenceNumber"],Oc="indexEntries",XM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],px="documentKeyIndex",JM=["indexId","uid","orderedDocumentKey"],Tm="documentOverlays",WM=["userId","collectionPath","documentId"],Dy="collectionPathOverlayIndex",ZM=["userId","collectionPath","largestBatchId"],gx="collectionGroupOverlayIndex",ek=["userId","collectionGroup","largestBatchId"],N_="globals",tk="name",yx=[Kc,Ir,Ol,$a,Pl,mh,to,Ml,kl,Qc,$c,Em,bm],nk=[...yx,Tm],_x=[Kc,Ir,Ol,Gf,Pl,mh,to,Ml,kl,Qc,$c,Em,bm,Tm],vx=_x,D_=[...vx,C_,Vc,Oc],rk=D_,Ex=[...D_,N_],ik=Ex;class Vy extends lx{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function en(r,e){const t=de(r);return ci.O(t.le,e)}function iw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ca(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function bx(r,e){const t=[];for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(e(r[i],i,r));return t}function Tx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class _t{constructor(e,t){this.comparator=e,this.root=t||mn.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??mn.RED,this.left=a??mn.EMPTY,this.right=l??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new mn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return mn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ge(27949);return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw ge(57766)}get value(){throw ge(16141)}get color(){throw ge(16727)}get left(){throw ge(29726)}get right(){throw ge(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sw(this.data.getIterator())}getIteratorFrom(e){return new sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hl(r){return r.hasNext()?r.getNext():void 0}class Pn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new lt(Tt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class wx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function sk(){return typeof atob<"u"}class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new wx("Invalid base64 string: "+l):l}})(e);return new Dt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const ak=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(r){if(ve(!!r,39018),typeof r=="string"){let e=0;const t=ak.exec(r);if(ve(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qi(r){return typeof r=="string"?Dt.fromBase64String(r):Dt.fromUint8Array(r)}const Ax="server_timestamp",Sx="__type__",xx="__previous_value__",Ix="__local_write_time__";function wm(r){return(r?.mapValue?.fields||{})[Sx]?.stringValue===Ax}function Am(r){const e=r.mapValue.fields[xx];return wm(e)?Am(e):e}function Yc(r){const e=Ki(r.mapValue.fields[Ix].timestampValue);return new tt(e.seconds,e.nanos)}class ok{constructor(e,t,i,a,l,c,d,m,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Xc="(default)";class Ws{constructor(e,t){this.projectId=e,this.database=t||Xc}static empty(){return new Ws("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(e){return e instanceof Ws&&e.projectId===this.projectId&&e.database===this.database}}const V_="__type__",Rx="__max__",Fs={mapValue:{fields:{__type__:{stringValue:Rx}}}},O_="__vector__",Ll="value",Sf={nullValue:"NULL_VALUE"};function Zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wm(r)?4:Cx(r)?9007199254740991:Sm(r)?10:11:ge(28295,{value:r})}function di(r,e){if(r===e)return!0;const t=Zs(r);if(t!==Zs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yc(r).isEqual(Yc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ki(a.timestampValue),d=Ki(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Qi(a.bytesValue).isEqual(Qi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=It(a.doubleValue),d=It(l.doubleValue);return c===d?Gc(c)===Gc(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Cl(r.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(iw(c)!==iw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!di(c[m],d[m])))return!1;return!0})(r,e);default:return ge(52216,{left:r})}}function Jc(r,e){return(r.values||[]).find((t=>di(t,e)))!==void 0}function ea(r,e){if(r===e)return 0;const t=Zs(r),i=Zs(e);if(t!==i)return xe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return xe(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=It(l.integerValue||l.doubleValue),m=It(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(r,e);case 3:return aw(r.timestampValue,e.timestampValue);case 4:return aw(Yc(r),Yc(e));case 5:return xy(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=Qi(l),m=Qi(c);return d.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const v=xe(d[g],m[g]);if(v!==0)return v}return xe(d.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=xe(It(l.latitude),It(c.latitude));return d!==0?d:xe(It(l.longitude),It(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return ow(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Ll]?.arrayValue,v=m[Ll]?.arrayValue,E=xe(g?.values?.length||0,v?.values?.length||0);return E!==0?E:ow(g,v)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Fs.mapValue&&c===Fs.mapValue)return 0;if(l===Fs.mapValue)return 1;if(c===Fs.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const w=xy(m[E],v[E]);if(w!==0)return w;const x=ea(d[m[E]],g[v[E]]);if(x!==0)return x}return xe(m.length,v.length)})(r.mapValue,e.mapValue);default:throw ge(23264,{he:t})}}function aw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xe(r,e);const t=Ki(r),i=Ki(e),a=xe(t.seconds,i.seconds);return a!==0?a:xe(t.nanos,i.nanos)}function ow(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=ea(t[a],i[a]);if(l)return l}return xe(t.length,i.length)}function jl(r){return Oy(r)}function Oy(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Ki(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Qi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ce.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Oy(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Oy(t.fields[c])}`;return a+"}"})(r.mapValue):ge(61005,{value:r})}function xf(r){switch(Zs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Am(r);return e?16+xf(e):16;case 5:return 2*r.stringValue.length;case 6:return Qi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+xf(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return ca(i.fields,((l,c)=>{a+=l.length+xf(c)})),a})(r.mapValue);default:throw ge(13486,{value:r})}}function ao(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Py(r){return!!r&&"integerValue"in r}function Wc(r){return!!r&&"arrayValue"in r}function lw(r){return!!r&&"nullValue"in r}function uw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function If(r){return!!r&&"mapValue"in r}function Sm(r){return(r?.mapValue?.fields||{})[V_]?.stringValue===O_}function Pc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ca(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Pc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pc(r.arrayValue.values[t]);return e}return{...r}}function Cx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Rx}const Nx={mapValue:{fields:{[V_]:{stringValue:O_},[Ll]:{arrayValue:{}}}}};function lk(r){return"nullValue"in r?Sf:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ao(Ws.empty(),ce.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?Sm(r)?Nx:{mapValue:{}}:ge(35942,{value:r})}function uk(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ao(Ws.empty(),ce.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?Nx:"mapValue"in r?Sm(r)?{mapValue:{}}:Fs:ge(61959,{value:r})}function cw(r,e){const t=ea(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function hw(r,e){const t=ea(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!If(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(t)}setAll(e){let t=Tt.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Pc(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());If(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];If(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){ca(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new pn(Pc(this.value))}}function Dx(r){const e=[];return ca(r.fields,((t,i)=>{const a=new Tt([t]);if(If(i)){const l=Dx(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Pn(e)}class bt{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new bt(e,0,be.min(),be.min(),be.min(),pn.empty(),0)}static newFoundDocument(e,t,i,a){return new bt(e,1,t,be.min(),i,a,0)}static newNoDocument(e,t){return new bt(e,2,t,be.min(),be.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new bt(e,3,t,be.min(),be.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ta{constructor(e,t){this.position=e,this.inclusive=t}}function dw(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=ce.comparator(ce.fromName(c.referenceValue),t.key):i=ea(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function fw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!di(r.position[t],e.position[t]))return!1;return!0}class Zc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ck(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Vx{}class Ge extends Vx{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new hk(e,t,i):t==="array-contains"?new mk(e,i):t==="in"?new jx(e,i):t==="not-in"?new pk(e,i):t==="array-contains-any"?new gk(e,i):new Ge(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new dk(e,i):new fk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ea(t,this.value)):t!==null&&Zs(this.value)===Zs(t)&&this.matchesComparison(ea(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class at extends Vx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new at(e,t)}matches(e){return Ul(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ul(r){return r.op==="and"}function My(r){return r.op==="or"}function P_(r){return Ox(r)&&Ul(r)}function Ox(r){for(const e of r.filters)if(e instanceof at)return!1;return!0}function ky(r){if(r instanceof Ge)return r.field.canonicalString()+r.op.toString()+jl(r.value);if(P_(r))return r.filters.map((e=>ky(e))).join(",");{const e=r.filters.map((t=>ky(t))).join(",");return`${r.op}(${e})`}}function Px(r,e){return r instanceof Ge?(function(i,a){return a instanceof Ge&&i.op===a.op&&i.field.isEqual(a.field)&&di(i.value,a.value)})(r,e):r instanceof at?(function(i,a){return a instanceof at&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&Px(c,a.filters[d])),!0):!1})(r,e):void ge(19439)}function Mx(r,e){const t=r.filters.concat(e);return at.create(t,r.op)}function kx(r){return r instanceof Ge?(function(t){return`${t.field.canonicalString()} ${t.op} ${jl(t.value)}`})(r):r instanceof at?(function(t){return t.op.toString()+" {"+t.getFilters().map(kx).join(" ,")+"}"})(r):"Filter"}class hk extends Ge{constructor(e,t,i){super(e,t,i),this.key=ce.fromName(i.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class dk extends Ge{constructor(e,t){super(e,"in",t),this.keys=Lx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fk extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=Lx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Lx(r,e){return(e.arrayValue?.values||[]).map((t=>ce.fromName(t.referenceValue)))}class mk extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wc(t)&&Jc(t.arrayValue,this.value)}}class jx extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Jc(this.value.arrayValue,t)}}class pk extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Jc(this.value.arrayValue,t)}}class gk extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Jc(this.value.arrayValue,i)))}}class yk{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Ly(r,e=null,t=[],i=[],a=null,l=null,c=null){return new yk(r,e,t,i,a,l,c)}function oo(r){const e=de(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>ky(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>jl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>jl(i))).join(",")),e.Te=t}return e.Te}function ph(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ck(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Px(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!fw(r.startAt,e.startAt)&&fw(r.endAt,e.endAt)}function Qf(r){return ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function $f(r,e){return r.filters.filter((t=>t instanceof Ge&&t.field.isEqual(e)))}function mw(r,e,t){let i=Sf,a=!0;for(const l of $f(r,e)){let c=Sf,d=!0;switch(l.op){case"<":case"<=":c=lk(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=Sf}cw({value:i,inclusive:a},{value:c,inclusive:d})<0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];cw({value:i,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}function pw(r,e,t){let i=Fs,a=!0;for(const l of $f(r,e)){let c=Fs,d=!0;switch(l.op){case">=":case">":c=uk(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=Fs}hw({value:i,inclusive:a},{value:c,inclusive:d})>0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];hw({value:i,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}class Yi{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ux(r,e,t,i,a,l,c,d){return new Yi(r,e,t,i,a,l,c,d)}function tu(r){return new Yi(r)}function gw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function M_(r){return r.collectionGroup!==null}function Il(r){const e=de(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new lt(Tt.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Zc(l,i))})),t.has(Tt.keyField().canonicalString())||e.Ie.push(new Zc(Tt.keyField(),i))}return e.Ie}function bn(r){const e=de(r);return e.Ee||(e.Ee=zx(e,Il(r))),e.Ee}function Bx(r){const e=de(r);return e.de||(e.de=zx(e,r.explicitOrderBy)),e.de}function zx(r,e){if(r.limitType==="F")return Ly(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Zc(a.field,l)}));const t=r.endAt?new ta(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new ta(r.startAt.position,r.startAt.inclusive):null;return Ly(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function jy(r,e){const t=r.filters.concat([e]);return new Yi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Yf(r,e,t){return new Yi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function gh(r,e){return ph(bn(r),bn(e))&&r.limitType===e.limitType}function qx(r){return`${oo(bn(r))}|lt:${r.limitType}`}function vl(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>kx(a))).join(", ")}]`),fh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>jl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>jl(a))).join(",")),`Target(${i})`})(bn(r))}; limitType=${r.limitType})`}function yh(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ce.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Il(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const g=dw(c,d,m);return c.inclusive?g<=0:g<0})(i.startAt,Il(i),a)||i.endAt&&!(function(c,d,m){const g=dw(c,d,m);return c.inclusive?g>=0:g>0})(i.endAt,Il(i),a))})(r,e)}function Fx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Hx(r){return(e,t)=>{let i=!1;for(const a of Il(r)){const l=_k(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function _k(r,e,t){const i=r.field.isKeyField()?ce.comparator(e.key,t.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?ea(m,g):ge(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return ge(19790,{direction:r.dir})}}class Xi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return Tx(this.inner)}size(){return this.innerSize}}const vk=new _t(ce.comparator);function Mn(){return vk}const Gx=new _t(ce.comparator);function Sc(...r){let e=Gx;for(const t of r)e=e.insert(t.key,t);return e}function Kx(r){let e=Gx;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ai(){return Mc()}function Qx(){return Mc()}function Mc(){return new Xi((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Ek=new _t(ce.comparator),bk=new lt(ce.comparator);function Ne(...r){let e=bk;for(const t of r)e=e.add(t);return e}const Tk=new lt(xe);function k_(){return Tk}function L_(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function $x(r){return{integerValue:""+r}}function Yx(r,e){return cx(e)?$x(e):L_(r,e)}class xm{constructor(){this._=void 0}}function wk(r,e,t){return r instanceof Bl?(function(a,l){const c={fields:{[Sx]:{stringValue:Ax},[Ix]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&wm(l)&&(l=Am(l)),l&&(c.fields[xx]=l),{mapValue:c}})(t,e):r instanceof lo?Jx(r,e):r instanceof uo?Wx(r,e):(function(a,l){const c=Xx(a,l),d=yw(c)+yw(a.Ae);return Py(c)&&Py(a.Ae)?$x(d):L_(a.serializer,d)})(r,e)}function Ak(r,e,t){return r instanceof lo?Jx(r,e):r instanceof uo?Wx(r,e):t}function Xx(r,e){return r instanceof zl?(function(i){return Py(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Bl extends xm{}class lo extends xm{constructor(e){super(),this.elements=e}}function Jx(r,e){const t=Zx(e);for(const i of r.elements)t.some((a=>di(a,i)))||t.push(i);return{arrayValue:{values:t}}}class uo extends xm{constructor(e){super(),this.elements=e}}function Wx(r,e){let t=Zx(e);for(const i of r.elements)t=t.filter((a=>!di(a,i)));return{arrayValue:{values:t}}}class zl extends xm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function yw(r){return It(r.integerValue||r.doubleValue)}function Zx(r){return Wc(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _h{constructor(e,t){this.field=e,this.transform=t}}function Sk(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof lo&&a instanceof lo||i instanceof uo&&a instanceof uo?Cl(i.elements,a.elements,di):i instanceof zl&&a instanceof zl?di(i.Ae,a.Ae):i instanceof Bl&&a instanceof Bl})(r.transform,e.transform)}class xk{constructor(e,t){this.version=e,this.transformResults=t}}class Rt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Im{}function e1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ru(r.key,Rt.none()):new nu(r.key,r.data,Rt.none());{const t=r.data,i=pn.empty();let a=new lt(Tt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Ji(r.key,i,new Pn(a.toArray()),Rt.none())}}function Ik(r,e,t){r instanceof nu?(function(a,l,c){const d=a.value.clone(),m=vw(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Ji?(function(a,l,c){if(!Rf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=vw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(t1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function kc(r,e,t,i){return r instanceof nu?(function(l,c,d,m){if(!Rf(l.precondition,c))return d;const g=l.value.clone(),v=Ew(l.fieldTransforms,m,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,i):r instanceof Ji?(function(l,c,d,m){if(!Rf(l.precondition,c))return d;const g=Ew(l.fieldTransforms,m,c),v=c.data;return v.setAll(t1(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(r,e,t,i):(function(l,c,d){return Rf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function Rk(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=Xx(i.transform,a||null);l!=null&&(t===null&&(t=pn.empty()),t.set(i.field,l))}return t||null}function _w(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Cl(i,a,((l,c)=>Sk(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends Im{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ji extends Im{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function t1(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function vw(r,e,t){const i=new Map;ve(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,Ak(c,d,t[a]))}return i}function Ew(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,wk(l,c,e))}return i}class ru extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j_ extends Im{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class U_{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Ik(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=kc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=kc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Qx();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=e1(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(be.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ne())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((t,i)=>_w(t,i)))&&Cl(this.baseMutations,e.baseMutations,((t,i)=>_w(t,i)))}}class B_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){ve(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return Ek})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new B_(e,t,i,a)}}class z_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class n1{constructor(e,t,i){this.alias=e,this.aggregateType=t,this.fieldPath=i}}class Ck{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yt,Qe;function r1(r){switch(r){case K.OK:return ge(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ge(15467,{code:r})}}function i1(r){if(r===void 0)return Ut("GRPC error has no .code"),K.UNKNOWN;switch(r){case Yt.OK:return K.OK;case Yt.CANCELLED:return K.CANCELLED;case Yt.UNKNOWN:return K.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return K.INTERNAL;case Yt.UNAVAILABLE:return K.UNAVAILABLE;case Yt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Yt.NOT_FOUND:return K.NOT_FOUND;case Yt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Yt.ABORTED:return K.ABORTED;case Yt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Yt.DATA_LOSS:return K.DATA_LOSS;default:return ge(39323,{code:r})}}(Qe=Yt||(Yt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";let Uy=null;function s1(){return new TextEncoder}const Nk=new $s([4294967295,4294967295],0);function bw(r){const e=s1().encode(r),t=new KS;return t.update(e),new Uint8Array(t.digest())}function Tw(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $s([t,i],0),new $s([a,l],0)]}class q_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new xc(`Invalid padding: ${t}`);if(i<0)throw new xc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new xc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=$s.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply($s.fromNumber(i)));return a.compare(Nk)===1&&(a=new $s([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=bw(e),[i,a]=Tw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new q_(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=bw(e),[i,a]=Tw(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new vh(be.min(),a,new _t(xe),Mn(),Ne())}}class Eh{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Eh(i,t,Ne(),Ne(),Ne())}}class Cf{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class a1{constructor(e,t){this.targetId=e,this.Ce=t}}class o1{constructor(e,t,i=Dt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class ww{constructor(){this.ve=0,this.Fe=Aw(),this.Me=Dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),i=Ne();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:ge(38017,{changeType:l})}})),new Eh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Aw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Dk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mn(),this.Je=of(),this.He=of(),this.Ye=new _t(xe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ge(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Qf(l))if(i===0){const c=new ce(l.path);this.et(t,c,bt.newNoDocument(c,be.min()))}else ve(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}Uy?.lt((function(v,E,w,x,P){const L={localCacheCount:v,existenceFilterCount:E.count,databaseId:w.database,projectId:w.projectId},j=E.unchangedNames;return j&&(L.bloomFilter={applied:P===0,hashCount:j?.hashCount??0,bitmapLength:j?.bits?.bitmap?.length??0,padding:j?.bits?.padding??0,mightContain:W=>x?.mightContain(W)??!1}),L})(c,e.Ce,this.Ge.ht(),d,m))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Qi(i).toUint8Array()}catch(m){if(m instanceof wx)return Xn("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new q_(c,a,l)}catch(m){return Xn(m instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Qf(d.target)){const m=new ce(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,bt.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Ne();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new vh(e,t,this.Ye,this.je,i);return this.je=Mn(),this.Je=of(),this.He=of(),this.Ye=new _t(xe),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new ww,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new lt(xe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new lt(xe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ww),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function of(){return new _t(ce.comparator)}function Aw(){return new _t(ce.comparator)}const Vk={asc:"ASCENDING",desc:"DESCENDING"},Ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pk={and:"AND",or:"OR"};class Mk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function By(r,e){return r.useProto3Json||fh(e)?e:{value:e}}function ql(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kk(r,e){return ql(r,e.toTimestamp())}function Bt(r){return ve(!!r,49232),be.fromTimestamp((function(t){const i=Ki(t);return new tt(i.seconds,i.nanos)})(r))}function F_(r,e){return zy(r,e).canonicalString()}function zy(r,e){const t=(function(a){return new ke(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function u1(r){const e=ke.fromString(r);return ve(_1(e),10190,{key:e.toString()}),e}function eh(r,e){return F_(r.databaseId,e.path)}function hi(r,e){const t=u1(e);if(t.get(1)!==r.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ce(d1(t))}function c1(r,e){return F_(r.databaseId,e)}function h1(r){const e=u1(r);return e.length===4?ke.emptyPath():d1(e)}function qy(r){return new ke(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function d1(r){return ve(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Sw(r,e,t){return{name:eh(r,e),fields:t.value.mapValue.fields}}function Rm(r,e,t){const i=hi(r,e.name),a=Bt(e.updateTime),l=e.createTime?Bt(e.createTime):be.min(),c=new pn({mapValue:{fields:e.fields}}),d=bt.newFoundDocument(i,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Lk(r,e){return"found"in e?(function(i,a){ve(!!a.found,43571),a.found.name,a.found.updateTime;const l=hi(i,a.found.name),c=Bt(a.found.updateTime),d=a.found.createTime?Bt(a.found.createTime):be.min(),m=new pn({mapValue:{fields:a.found.fields}});return bt.newFoundDocument(l,c,d,m)})(r,e):"missing"in e?(function(i,a){ve(!!a.missing,3894),ve(!!a.readTime,22933);const l=hi(i,a.missing),c=Bt(a.readTime);return bt.newNoDocument(l,c)})(r,e):ge(7234,{result:e})}function jk(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ge(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(ve(v===void 0||typeof v=="string",58123),Dt.fromBase64String(v||"")):(ve(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Dt.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?K.UNKNOWN:i1(g.code);return new ie(v,g.message||"")})(c);t=new o1(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=hi(r,i.document.name),l=Bt(i.document.updateTime),c=i.document.createTime?Bt(i.document.createTime):be.min(),d=new pn({mapValue:{fields:i.document.fields}}),m=bt.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Cf(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=hi(r,i.document),l=i.readTime?Bt(i.readTime):be.min(),c=bt.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Cf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=hi(r,i.document),l=i.removedTargetIds||[];t=new Cf([],l,a,null)}else{if(!("filter"in e))return ge(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Ck(a,l),d=i.targetId;t=new a1(d,c)}}return t}function th(r,e){let t;if(e instanceof nu)t={update:Sw(r,e.key,e.value)};else if(e instanceof ru)t={delete:eh(r,e.key)};else if(e instanceof Ji)t={update:Sw(r,e.key,e.data),updateMask:Hk(e.fieldMask)};else{if(!(e instanceof j_))return ge(16599,{Vt:e.type});t={verify:eh(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Bl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof lo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zl)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw ge(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:kk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ge(27497)})(r,e.precondition)),t}function Fy(r,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?Rt.updateTime(Bt(l.updateTime)):l.exists!==void 0?Rt.exists(l.exists):Rt.none()})(e.currentDocument):Rt.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let m=null;if("setToServerValue"in d)ve(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new Bl;else if("appendMissingElements"in d){const v=d.appendMissingElements.values||[];m=new lo(v)}else if("removeAllFromArray"in d){const v=d.removeAllFromArray.values||[];m=new uo(v)}else"increment"in d?m=new zl(c,d.increment):ge(16584,{proto:d});const g=Tt.fromServerFormat(d.fieldPath);return new _h(g,m)})(r,a))):[];if(e.update){e.update.name;const a=hi(r,e.update.name),l=new pn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(m){const g=m.fieldPaths||[];return new Pn(g.map((v=>Tt.fromServerFormat(v))))})(e.updateMask);return new Ji(a,l,c,t,i)}return new nu(a,l,t,i)}if(e.delete){const a=hi(r,e.delete);return new ru(a,t)}if(e.verify){const a=hi(r,e.verify);return new j_(a,t)}return ge(1463,{proto:e})}function Uk(r,e){return r&&r.length>0?(ve(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?Bt(a.updateTime):Bt(l);return c.isEqual(be.min())&&(c=Bt(l)),new xk(c,a.transformResults||[])})(t,e)))):[]}function f1(r,e){return{documents:[c1(r,e.path)]}}function Cm(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=c1(r,a);const l=(function(g){if(g.length!==0)return y1(at.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(w){return{field:zs(w.field),direction:zk(w.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=By(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function m1(r,e,t,i){const{ft:a,parent:l}=Cm(r,e),c={},d=[];let m=0;return t.forEach((g=>{const v=i?g.alias:"aggregate_"+m++;c[v]=g.alias,g.aggregateType==="count"?d.push({alias:v,count:{}}):g.aggregateType==="avg"?d.push({alias:v,avg:{field:zs(g.fieldPath)}}):g.aggregateType==="sum"&&d.push({alias:v,sum:{field:zs(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:d,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function p1(r){let e=h1(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){ve(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(E){const w=g1(E);return w instanceof at&&P_(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((w=>(function(P){return new Zc(El(P.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let w;return w=typeof E=="object"?E.value:E,fh(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(E){const w=!!E.before,x=E.values||[];return new ta(x,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const w=!E.before,x=E.values||[];return new ta(x,w)})(t.endAt)),Ux(e,a,c,l,d,"F",m,g)}function Bk(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function g1(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=El(t.unaryFilter.field);return Ge.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=El(t.unaryFilter.field);return Ge.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=El(t.unaryFilter.field);return Ge.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=El(t.unaryFilter.field);return Ge.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ge(61313);default:return ge(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ge.create(El(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ge(58110);default:return ge(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return at.create(t.compositeFilter.filters.map((i=>g1(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ge(1026)}})(t.compositeFilter.op))})(r):ge(30097,{filter:r})}function zk(r){return Vk[r]}function qk(r){return Ok[r]}function Fk(r){return Pk[r]}function zs(r){return{fieldPath:r.canonicalString()}}function El(r){return Tt.fromServerFormat(r.fieldPath)}function y1(r){return r instanceof Ge?(function(t){if(t.op==="=="){if(uw(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NAN"}};if(lw(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(uw(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NOT_NAN"}};if(lw(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(t.field),op:qk(t.op),value:t.value}}})(r):r instanceof at?(function(t){const i=t.getFilters().map((a=>y1(a)));return i.length===1?i[0]:{compositeFilter:{op:Fk(t.op),filters:i}}})(r):ge(54877,{filter:r})}function Hk(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function _1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ui{constructor(e,t,i,a,l=be.min(),c=be.min(),d=Dt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class v1{constructor(e){this.yt=e}}function Gk(r,e){let t;if(e.document)t=Rm(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ce.fromSegments(e.noDocument.path),a=ho(e.noDocument.readTime);t=bt.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ge(56709);{const i=ce.fromSegments(e.unknownDocument.path),a=ho(e.unknownDocument.version);t=bt.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const l=new tt(a[0],a[1]);return be.fromTimestamp(l)})(e.readTime)),t}function xw(r,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Xf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(l,c){return{name:eh(l,c.key),fields:c.data.value.mapValue.fields,updateTime:ql(l,c.version.toTimestamp()),createTime:ql(l,c.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:co(e.version)};else{if(!e.isUnknownDocument())return ge(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:co(e.version)}}return i}function Xf(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function co(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ho(r){const e=new tt(r.seconds,r.nanoseconds);return be.fromTimestamp(e)}function Xa(r,e){const t=(e.baseMutations||[]).map((l=>Fy(r.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const i=e.mutations.map((l=>Fy(r.yt,l))),a=tt.fromMillis(e.localWriteTimeMs);return new U_(e.batchId,a,t,i)}function Ic(r){const e=ho(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?ho(r.lastLimboFreeSnapshotVersion):be.min();let i;return i=(function(l){return l.documents!==void 0})(r.query)?(function(l){const c=l.documents.length;return ve(c===1,1966,{count:c}),bn(tu(h1(l.documents[0])))})(r.query):(function(l){return bn(p1(l))})(r.query),new Ui(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Dt.fromBase64String(r.resumeToken))}function E1(r,e){const t=co(e.snapshotVersion),i=co(e.lastLimboFreeSnapshotVersion);let a;a=Qf(e.target)?f1(r.yt,e.target):Cm(r.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:oo(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function Nm(r){const e=p1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yf(e,e.limit,"L"):e}function iy(r,e){return new z_(e.largestBatchId,Fy(r.yt,e.overlayMutation))}function Iw(r,e){const t=e.path.lastSegment();return[r,En(e.path.popLast()),t]}function Rw(r,e,t,i){return{indexId:r,uid:e,sequenceNumber:t,readTime:co(i.readTime),documentKey:En(i.documentKey.path),largestBatchId:i.largestBatchId}}class Kk{getBundleMetadata(e,t){return Cw(e).get(t).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:ho(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(e,t){return Cw(e).put((function(a){return{bundleId:a.id,createTime:co(Bt(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return Nw(e).get(t).next((i=>{if(i)return(function(l){return{name:l.name,query:Nm(l.bundledQuery),readTime:ho(l.readTime)}})(i)}))}saveNamedQuery(e,t){return Nw(e).put((function(a){return{name:a.name,readTime:co(Bt(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function Cw(r){return en(r,Em)}function Nw(r){return en(r,bm)}class Dm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new Dm(e,i)}getOverlay(e,t){return gc(e).get(Iw(this.userId,t)).next((i=>i?iy(this.serializer,i):null))}getOverlays(e,t){const i=ai();return z.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((l,c)=>{const d=new z_(t,c);a.push(this.St(e,d))})),z.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((c=>a.add(En(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(gc(e).Z(Dy,d))})),z.waitFor(l)}getOverlaysForCollection(e,t,i){const a=ai(),l=En(t),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return gc(e).J(Dy,c).next((d=>{for(const m of d){const g=iy(this.serializer,m);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const l=ai();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gc(e).ee({index:gx,range:d},((m,g,v)=>{const E=iy(this.serializer,g);l.size()<a||E.largestBatchId===c?(l.set(E.getKey(),E),c=E.largestBatchId):v.done()})).next((()=>l))}St(e,t){return gc(e).put((function(a,l,c){const[d,m,g]=Iw(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:th(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function gc(r){return en(r,Tm)}class Qk{bt(e){return en(e,N_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const i=t?.value;return i?Dt.fromUint8Array(i):Dt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Ja{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(It(e.integerValue));else if("doubleValue"in e){const i=It(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),Gc(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Ki(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Qi(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?Cx(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Sm(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ge(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const a=Ll,l=i[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(It(l)),this.Ot(a,t),this.Ct(i[a],t)}Qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ce.fromName(e).path.forEach((i=>{this.Ft(t,60),this.Ut(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ja.Kt=new Ja;const dl=255;function $k(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function Dw(r){const e=64-(function(i){let a=0;for(let l=0;l<8;++l){const c=$k(255&i[l]);if(a+=c,c!==8)break}return a})(r);return Math.ceil(e/8)}class Yk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Ht()}Yt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),i=Dw(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=Dw(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(dl),this.sn(255)}_n(){this.an(dl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===dl?(this.sn(dl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===dl?(this.an(dl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class Xk{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Jk{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class yc{constructor(){this.cn=new Yk,this.ln=new Xk(this.cn),this.hn=new Jk(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Wa{constructor(e,t,i,a){this.Tn=e,this.In=t,this.En=i,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.dn,0),t!==e?i.set([0],this.dn.length):++i[i.length-1],new Wa(this.Tn,this.In,this.En,i)}Rn(e,t,i){return{indexId:this.Tn,uid:e,arrayValue:Nf(this.En),directionalValue:Nf(this.dn),orderedDocumentKey:Nf(t),documentKey:i.path.toArray()}}Vn(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ps(r,e){let t=r.Tn-e.Tn;return t!==0?t:(t=Vw(r.En,e.En),t!==0?t:(t=Vw(r.dn,e.dn),t!==0?t:ce.comparator(r.In,e.In)))}function Vw(r,e){for(let t=0;t<r.length&&t<e.length;++t){const i=r[t]-e[t];if(i!==0)return i}return r.length-e.length}function Nf(r){return sS()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(r):r}function Ow(r){return typeof r!="string"?r:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(r)}class Pw{constructor(e){this.mn=new lt(((t,i)=>Tt.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const i=t;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(e){if(ve(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Ry(e);if(t!==void 0&&!this.wn(t))return!1;const i=Qa(e);let a=new Set,l=0,c=0;for(;l<i.length&&this.wn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=i[l];if(!this.Sn(d,m)||!this.bn(this.fn[c++],m))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new lt(Tt.comparator);const t=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new eo(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new eo(i.field,0))}for(const i of this.fn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new eo(i.field,i.dir==="asc"?0:1)));return new Dl(Dl.UNKNOWN_ID,this.collectionId,t,Vl.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function b1(r){if(ve(r instanceof Ge||r instanceof at,20012),r instanceof Ge){if(r instanceof jx){const t=r.value.arrayValue?.values?.map((i=>Ge.create(r.field,"==",i)))||[];return at.create(t,"or")}return r}const e=r.filters.map((t=>b1(t)));return at.create(e,r.op)}function Wk(r){if(r.getFilters().length===0)return[];const e=Ky(b1(r));return ve(T1(e),7391),Hy(e)||Gy(e)?[e]:e.getFilters()}function Hy(r){return r instanceof Ge}function Gy(r){return r instanceof at&&P_(r)}function T1(r){return Hy(r)||Gy(r)||(function(t){if(t instanceof at&&My(t)){for(const i of t.getFilters())if(!Hy(i)&&!Gy(i))return!1;return!0}return!1})(r)}function Ky(r){if(ve(r instanceof Ge||r instanceof at,34018),r instanceof Ge)return r;if(r.filters.length===1)return Ky(r.filters[0]);const e=r.filters.map((i=>Ky(i)));let t=at.create(e,r.op);return t=Jf(t),T1(t)?t:(ve(t instanceof at,64498),ve(Ul(t),40251),ve(t.filters.length>1,57927),t.filters.reduce(((i,a)=>H_(i,a))))}function H_(r,e){let t;return ve(r instanceof Ge||r instanceof at,38388),ve(e instanceof Ge||e instanceof at,25473),t=r instanceof Ge?e instanceof Ge?(function(a,l){return at.create([a,l],"and")})(r,e):Mw(r,e):e instanceof Ge?Mw(e,r):(function(a,l){if(ve(a.filters.length>0&&l.filters.length>0,48005),Ul(a)&&Ul(l))return Mx(a,l.getFilters());const c=My(a)?a:l,d=My(a)?l:a,m=c.filters.map((g=>H_(g,d)));return at.create(m,"or")})(r,e),Jf(t)}function Mw(r,e){if(Ul(e))return Mx(e,r.getFilters());{const t=e.filters.map((i=>H_(r,i)));return at.create(t,"or")}}function Jf(r){if(ve(r instanceof Ge||r instanceof at,11850),r instanceof Ge)return r;const e=r.getFilters();if(e.length===1)return Jf(e[0]);if(Ox(r))return r;const t=e.map((a=>Jf(a))),i=[];return t.forEach((a=>{a instanceof Ge?i.push(a):a instanceof at&&(a.op===r.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:at.create(i,r.op)}class Zk{constructor(){this.Cn=new G_}addToCollectionParentIndex(e,t){return this.Cn.add(t),z.resolve()}getCollectionParents(e,t){return z.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return z.resolve()}deleteFieldIndex(e,t){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,t){return z.resolve()}getDocumentsMatchingTarget(e,t){return z.resolve(null)}getIndexType(e,t){return z.resolve(0)}getFieldIndexes(e,t){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,t){return z.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,t){return z.resolve(Jn.min())}updateCollectionGroup(e,t,i){return z.resolve()}updateIndexEntries(e,t){return z.resolve()}}class G_{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new lt(ke.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new lt(ke.comparator)).toArray()}}const kw="IndexedDbIndexManager",lf=new Uint8Array(0);class e4{constructor(e,t){this.databaseId=t,this.vn=new G_,this.Fn=new Xi((i=>oo(i)),((i,a)=>ph(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const l={collectionId:i,parent:En(a)};return Lw(e).put(l)}return z.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[tx(t),""],!1,!0);return Lw(e).J(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;i.push(si(c.parent))}return i}))}addFieldIndex(e,t){const i=_c(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(t);delete a.indexId;const l=i.add(a);if(t.indexState){const c=ml(e);return l.next((d=>{c.put(Rw(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const i=_c(e),a=ml(e),l=fl(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=_c(e),i=fl(e),a=ml(e);return t.Z().next((()=>i.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return z.forEach(this.Mn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const l=new Pw(i).Dn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const i=fl(e);let a=!0;const l=new Map;return z.forEach(this.Mn(t),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),l.set(c,d)})))).next((()=>{if(a){let c=Ne();const d=[];return z.forEach(l,((m,g)=>{oe(kw,`Using index ${(function(Q){return`id=${Q.indexId}|cg=${Q.collectionGroup}|f=${Q.fields.map((ue=>`${ue.fieldPath}:${ue.kind}`)).join(",")}`})(m)} to execute ${oo(t)}`);const v=(function(Q,ue){const pe=Ry(ue);if(pe===void 0)return null;for(const ee of $f(Q,pe.fieldPath))switch(ee.op){case"array-contains-any":return ee.value.arrayValue.values||[];case"array-contains":return[ee.value]}return null})(g,m),E=(function(Q,ue){const pe=new Map;for(const ee of Qa(ue))for(const R of $f(Q,ee.fieldPath))switch(R.op){case"==":case"in":pe.set(ee.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return pe.set(ee.fieldPath.canonicalString(),R.value),Array.from(pe.values())}return null})(g,m),w=(function(Q,ue){const pe=[];let ee=!0;for(const R of Qa(ue)){const I=R.kind===0?mw(Q,R.fieldPath,Q.startAt):pw(Q,R.fieldPath,Q.startAt);pe.push(I.value),ee&&(ee=I.inclusive)}return new ta(pe,ee)})(g,m),x=(function(Q,ue){const pe=[];let ee=!0;for(const R of Qa(ue)){const I=R.kind===0?pw(Q,R.fieldPath,Q.endAt):mw(Q,R.fieldPath,Q.endAt);pe.push(I.value),ee&&(ee=I.inclusive)}return new ta(pe,ee)})(g,m),P=this.On(m,g,w),L=this.On(m,g,x),j=this.Nn(m,g,E),W=this.Bn(m.indexId,v,P,w.inclusive,L,x.inclusive,j);return z.forEach(W,(ne=>i.Y(ne,t.limit).next((Q=>{Q.forEach((ue=>{const pe=ce.fromSegments(ue.documentKey);c.has(pe)||(c=c.add(pe),d.push(pe))}))}))))})).next((()=>d))}return z.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=Wk(at.create(e.filters,"and")).map((i=>Ly(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,i,a,l,c,d){const m=(t!=null?t.length:1)*Math.max(i.length,l.length),g=m/(t!=null?t.length:1),v=[];for(let E=0;E<m;++E){const w=t?this.Ln(t[E/g]):lf,x=this.kn(e,w,i[E%g],a),P=this.qn(e,w,l[E%g],c),L=d.map((j=>this.kn(e,w,j,!0)));v.push(...this.createRange(x,P,L))}return v}kn(e,t,i,a){const l=new Wa(e,ce.empty(),t,i);return a?l:l.An()}qn(e,t,i,a){const l=new Wa(e,ce.empty(),t,i);return a?l.An():l}xn(e,t){const i=new Pw(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const d of l)i.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let i=2;const a=this.Mn(t);return z.forEach(a,(l=>this.xn(e,l).next((c=>{c?i!==0&&c.fields.length<(function(m){let g=new lt(Tt.comparator),v=!1;for(const E of m.filters)for(const w of E.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?v=!0:g=g.add(w.field));for(const E of m.orderBy)E.field.isKeyField()||(g=g.add(E.field));return g.size+(v?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&i===2?1:i))}Qn(e,t){const i=new yc;for(const a of Qa(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=i.Pn(a.kind);Ja.Kt.Dt(l,c)}return i.un()}Ln(e){const t=new yc;return Ja.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const i=new yc;return Ja.Kt.Dt(ao(this.databaseId,t),i.Pn((function(l){const c=Qa(l);return c.length===0?0:c[c.length-1].kind})(e))),i.un()}Nn(e,t,i){if(i===null)return[];let a=[];a.push(new yc);let l=0;for(const c of Qa(e)){const d=i[l++];for(const m of a)if(this.Un(t,c.fieldPath)&&Wc(d))a=this.Kn(a,c,d);else{const g=m.Pn(c.kind);Ja.Kt.Dt(d,g)}}return this.Wn(a)}On(e,t,i){return this.Nn(e,t,i.position)}Wn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Kn(e,t,i){const a=[...e],l=[];for(const c of i.arrayValue.values||[])for(const d of a){const m=new yc;m.seed(d.un()),Ja.Kt.Dt(c,m.Pn(t.kind)),l.push(m)}return l}Un(e,t){return!!e.filters.find((i=>i instanceof Ge&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=_c(e),a=ml(e);return(t?i.J(Ny,IDBKeyRange.bound(t,t)):i.J()).next((l=>{const c=[];return z.forEach(l,(d=>a.get([d.indexId,this.uid]).next((m=>{c.push((function(v,E){const w=E?new Vl(E.sequenceNumber,new Jn(ho(E.readTime),new ce(si(E.documentKey)),E.largestBatchId)):Vl.empty(),x=v.fields.map((([P,L])=>new eo(Tt.fromServerFormat(P),L)));return new Dl(v.indexId,v.collectionGroup,x,w)})(d,m))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:xe(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=_c(e),l=ml(e);return this.Gn(e).next((c=>a.J(Ny,IDBKeyRange.bound(t,t)).next((d=>z.forEach(d,(m=>l.put(Rw(m.indexId,this.uid,c,i))))))))}updateIndexEntries(e,t){const i=new Map;return z.forEach(t,((a,l)=>{const c=i.get(a.collectionGroup);return(c?z.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(i.set(a.collectionGroup,d),z.forEach(d,(m=>this.zn(e,a,m).next((g=>{const v=this.jn(l,m);return g.isEqual(v)?z.resolve():this.Jn(e,l,m,g,v)})))))))}))}Hn(e,t,i,a){return fl(e).put(a.Rn(this.uid,this.$n(i,t.key),t.key))}Yn(e,t,i,a){return fl(e).delete(a.Vn(this.uid,this.$n(i,t.key),t.key))}zn(e,t,i){const a=fl(e);let l=new lt(Ps);return a.ee({index:px,range:IDBKeyRange.only([i.indexId,this.uid,Nf(this.$n(i,t))])},((c,d)=>{l=l.add(new Wa(i.indexId,t,Ow(d.arrayValue),Ow(d.directionalValue)))})).next((()=>l))}jn(e,t){let i=new lt(Ps);const a=this.Qn(t,e);if(a==null)return i;const l=Ry(t);if(l!=null){const c=e.data.field(l.fieldPath);if(Wc(c))for(const d of c.arrayValue.values||[])i=i.add(new Wa(t.indexId,e.key,this.Ln(d),a))}else i=i.add(new Wa(t.indexId,e.key,lf,a));return i}Jn(e,t,i,a,l){oe(kw,"Updating index entries for document '%s'",t.key);const c=[];return(function(m,g,v,E,w){const x=m.getIterator(),P=g.getIterator();let L=hl(x),j=hl(P);for(;L||j;){let W=!1,ne=!1;if(L&&j){const Q=v(L,j);Q<0?ne=!0:Q>0&&(W=!0)}else L!=null?ne=!0:W=!0;W?(E(j),j=hl(P)):ne?(w(L),L=hl(x)):(L=hl(x),j=hl(P))}})(a,l,Ps,(d=>{c.push(this.Hn(e,t,i,d))}),(d=>{c.push(this.Yn(e,t,i,d))})),z.waitFor(c)}Gn(e){let t=1;return ml(e).ee({index:mx,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((c,d)=>Ps(c,d))).filter(((c,d,m)=>!d||Ps(c,m[d-1])!==0));const a=[];a.push(e);for(const c of i){const d=Ps(c,e),m=Ps(c,t);if(d===0)a[0]=e.An();else if(d>0&&m<0)a.push(c),a.push(c.An());else if(m>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,lf,ce.empty()),m=a[c+1].Vn(this.uid,lf,ce.empty());l.push(IDBKeyRange.bound(d,m))}return l}Zn(e,t){return Ps(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jw)}getMinOffset(e,t){return z.mapArray(this.Mn(t),(i=>this.xn(e,i).next((a=>a||ge(44426))))).next(jw)}}function Lw(r){return en(r,$c)}function fl(r){return en(r,Oc)}function _c(r){return en(r,C_)}function ml(r){return en(r,Vc)}function jw(r){ve(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<r.length;i++){const a=r[i].indexState.offset;x_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Jn(e.readTime,e.documentKey,t)}const Uw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},w1=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function A1(r,e,t){const i=r.store(Ir),a=r.store(Ol),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const m=i.ee({range:c},((v,E,w)=>(d++,w.delete())));l.push(m.next((()=>{ve(d===1,47070,{batchId:t.batchId})})));const g=[];for(const v of t.mutations){const E=hx(e,v.key.path,t.batchId);l.push(a.delete(E)),g.push(v.key)}return z.waitFor(l).next((()=>g))}function Wf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw ge(14731);e=r.noDocument}return JSON.stringify(e).length}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(w1,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Vm{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Xn={}}static wt(e,t,i,a){ve(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Vm(l,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ms(e).ee({index:Za,range:i},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const l=bl(e),c=Ms(e);return c.add({}).next((d=>{ve(typeof d=="number",49019);const m=new U_(d,t,i,a),g=(function(x,P,L){const j=L.baseMutations.map((ne=>th(x.yt,ne))),W=L.mutations.map((ne=>th(x.yt,ne)));return{userId:P,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:j,mutations:W}})(this.serializer,this.userId,m),v=[];let E=new lt(((w,x)=>xe(w.canonicalString(),x.canonicalString())));for(const w of a){const x=hx(this.userId,w.key.path,d);E=E.add(w.key.path.popLast()),v.push(c.put(g)),v.push(l.put(x,MM))}return E.forEach((w=>{v.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[d]=m.keys()})),z.waitFor(v).next((()=>m))}))}lookupMutationBatch(e,t){return Ms(e).get(t).next((i=>i?(ve(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),Xa(this.serializer,i)):null))}er(e,t){return this.Xn[t]?z.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Ms(e).ee({index:Za,range:a},((c,d,m)=>{d.userId===this.userId&&(ve(d.batchId>=i,47524,{tr:i}),l=Xa(this.serializer,d)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Ys;return Ms(e).ee({index:Za,range:t,reverse:!0},((a,l,c)=>{i=l.batchId,c.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ys],[this.userId,Number.POSITIVE_INFINITY]);return Ms(e).J(Za,t).next((i=>i.map((a=>Xa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=wf(this.userId,t.path),a=IDBKeyRange.lowerBound(i),l=[];return bl(e).ee({range:a},((c,d,m)=>{const[g,v,E]=c,w=si(v);if(g===this.userId&&t.path.isEqual(w))return Ms(e).get(E).next((x=>{if(!x)throw ge(61480,{nr:c,batchId:E});ve(x.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:x.userId,batchId:E}),l.push(Xa(this.serializer,x))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new lt(xe);const a=[];return t.forEach((l=>{const c=wf(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=bl(e).ee({range:d},((g,v,E)=>{const[w,x,P]=g,L=si(x);w===this.userId&&l.path.isEqual(L)?i=i.add(P):E.done()}));a.push(m)})),z.waitFor(a).next((()=>this.rr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,l=wf(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new lt(xe);return bl(e).ee({range:c},((m,g,v)=>{const[E,w,x]=m,P=si(w);E===this.userId&&i.isPrefixOf(P)?P.length===a&&(d=d.add(x)):v.done()})).next((()=>this.rr(e,d)))}rr(e,t){const i=[],a=[];return t.forEach((l=>{a.push(Ms(e).get(l).next((c=>{if(c===null)throw ge(35274,{batchId:l});ve(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(Xa(this.serializer,c))})))})),z.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return A1(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),z.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return z.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return bl(e).ee({range:i},((l,c,d)=>{if(l[0]===this.userId){const m=si(l[1]);a.push(m)}else d.done()})).next((()=>{ve(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return S1(e,this.userId,t)}_r(e){return x1(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ys,lastStreamToken:""}))}}function S1(r,e,t){const i=wf(e,t.path),a=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return bl(r).ee({range:l,X:!0},((d,m,g)=>{const[v,E,w]=d;v===e&&E===a&&(c=!0),g.done()})).next((()=>c))}function Ms(r){return en(r,Ir)}function bl(r){return en(r,Ol)}function x1(r){return en(r,Kc)}class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}class t4{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const i=new fo(t.highestTargetId);return t.highestTargetId=i.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>be.fromTimestamp(new tt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((i=>(i.targetCount+=1,this.Tr(t,i),this.hr(e,i))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>pl(e).delete(t.targetId))).next((()=>this.lr(e))).next((i=>(ve(i.targetCount>0,8065),i.targetCount-=1,this.hr(e,i))))}removeTargets(e,t,i){let a=0;const l=[];return pl(e).ee(((c,d)=>{const m=Ic(d);m.sequenceNumber<=t&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(e,m)))})).next((()=>z.waitFor(l))).next((()=>a))}forEachTarget(e,t){return pl(e).ee(((i,a)=>{const l=Ic(a);t(l)}))}lr(e){return Bw(e).get(Kf).next((t=>(ve(t!==null,2888),t)))}hr(e,t){return Bw(e).put(Kf,t)}Pr(e,t){return pl(e).put(E1(this.serializer,t))}Tr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const i=oo(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return pl(e).ee({range:a,index:fx},((c,d,m)=>{const g=Ic(d);ph(t,g.target)&&(l=g,m.done())})).next((()=>l))}addMatchingKeys(e,t,i){const a=[],l=qs(e);return t.forEach((c=>{const d=En(c.path);a.push(l.put({targetId:i,path:d})),a.push(this.referenceDelegate.addReference(e,i,c))})),z.waitFor(a)}removeMatchingKeys(e,t,i){const a=qs(e);return z.forEach(t,(l=>{const c=En(l.path);return z.waitFor([a.delete([i,c]),this.referenceDelegate.removeReference(e,i,l)])}))}removeMatchingKeysForTargetId(e,t){const i=qs(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=qs(e);let l=Ne();return a.ee({range:i,X:!0},((c,d,m)=>{const g=si(c[1]),v=new ce(g);l=l.add(v)})).next((()=>l))}containsKey(e,t){const i=En(t.path),a=IDBKeyRange.bound([i],[tx(i)],!1,!0);let l=0;return qs(e).ee({index:R_,X:!0,range:a},(([c,d],m,g)=>{c!==0&&(l++,g.done())})).next((()=>l>0))}At(e,t){return pl(e).get(t).next((i=>i?Ic(i):null))}}function pl(r){return en(r,Pl)}function Bw(r){return en(r,to)}function qs(r){return en(r,Ml)}const zw="LruGarbageCollector",I1=1048576;function qw([r,e],[t,i]){const a=xe(r,t);return a===0?xe(e,i):a}class n4{constructor(e){this.Ir=e,this.buffer=new lt(qw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();qw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class R1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(zw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?oe(zw,"Ignoring IndexedDB error during garbage collection: ",t):await la(t)}await this.Vr(3e5)}))}}class r4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return z.resolve(On.ce);const i=new n4(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Uw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,d,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(g=Date.now(),_l()<=He.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function C1(r,e){return new r4(r,e)}class i4{constructor(e,t){this.db=e,this.garbageCollector=C1(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((i,a)=>t(a)))}addReference(e,t,i){return uf(e,i)}removeReference(e,t,i){return uf(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return uf(e,t)}br(e,t){return(function(a,l){let c=!1;return x1(a).te((d=>S1(a,d,l).next((m=>(m&&(c=!0),z.resolve(!m)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(e,((c,d)=>{if(d<=t){const m=this.br(e,c).next((g=>{if(!g)return l++,i.getEntry(e,c).next((()=>(i.removeEntry(c,be.min()),qs(e).delete((function(E){return[0,En(E.path)]})(c)))))}));a.push(m)}})).next((()=>z.waitFor(a))).next((()=>i.apply(e))).next((()=>l))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return uf(e,t)}Sr(e,t){const i=qs(e);let a,l=On.ce;return i.ee({index:R_},(([c,d],{path:m,sequenceNumber:g})=>{c===0?(l!==On.ce&&t(new ce(si(a)),l),l=g,a=m):l=On.ce})).next((()=>{l!==On.ce&&t(new ce(si(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function uf(r,e){return qs(r).put((function(i,a){return{targetId:0,path:En(i.path),sequenceNumber:a}})(e,r.currentSequenceNumber))}class N1{constructor(){this.changes=new Xi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class s4{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ga(e).put(i)}removeEntry(e,t,i){return Ga(e).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Xf(c),d[d.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.Dr(e,i))))}getEntry(e,t){let i=bt.newInvalidDocument(t);return Ga(e).ee({index:Af,range:IDBKeyRange.only(vc(t))},((a,l)=>{i=this.Cr(t,l)})).next((()=>i))}vr(e,t){let i={size:0,document:bt.newInvalidDocument(t)};return Ga(e).ee({index:Af,range:IDBKeyRange.only(vc(t))},((a,l)=>{i={document:this.Cr(t,l),size:Wf(l)}})).next((()=>i))}getEntries(e,t){let i=Mn();return this.Fr(e,t,((a,l)=>{const c=this.Cr(a,l);i=i.insert(a,c)})).next((()=>i))}Mr(e,t){let i=Mn(),a=new _t(ce.comparator);return this.Fr(e,t,((l,c)=>{const d=this.Cr(l,c);i=i.insert(l,d),a=a.insert(l,Wf(c))})).next((()=>({documents:i,Or:a})))}Fr(e,t,i){if(t.isEmpty())return z.resolve();let a=new lt(Gw);t.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(vc(a.first()),vc(a.last())),c=a.getIterator();let d=c.getNext();return Ga(e).ee({index:Af,range:l},((m,g,v)=>{const E=ce.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&Gw(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,g),d=c.hasNext()?c.getNext():null),d?v.j(vc(d)):v.done()})).next((()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),Xf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ga(e).J(IDBKeyRange.bound(d,m,!0)).next((g=>{l?.incrementDocumentReadCount(g.length);let v=Mn();for(const E of g){const w=this.Cr(ce.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);w.isFoundDocument()&&(yh(t,w)||a.has(w.key))&&(v=v.insert(w.key,w))}return v}))}getAllFromCollectionGroup(e,t,i,a){let l=Mn();const c=Hw(t,i),d=Hw(t,Jn.max());return Ga(e).ee({index:dx,range:IDBKeyRange.bound(c,d,!0)},((m,g,v)=>{const E=this.Cr(ce.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(E.key,E),l.size===a&&v.done()})).next((()=>l))}newChangeBuffer(e){return new a4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return Fw(e).get(Cy).next((t=>(ve(!!t,20021),t)))}Dr(e,t){return Fw(e).put(Cy,t)}Cr(e,t){if(t){const i=Gk(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(be.min())))return i}return bt.newInvalidDocument(e)}}function D1(r){return new s4(r)}class a4 extends N1{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Xi((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new lt(((l,c)=>xe(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Br.get(l);if(t.push(this.Nr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const m=xw(this.Nr.serializer,c);a=a.add(l.path.popLast());const g=Wf(m);i+=g-d.size,t.push(this.Nr.addEntry(e,l,m))}else if(i-=d.size,this.trackRemovals){const m=xw(this.Nr.serializer,c.convertToNoDocument(be.min()));t.push(this.Nr.addEntry(e,l,m))}})),a.forEach((l=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Nr.updateMetadata(e,i)),z.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((i=>(this.Br.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:i,Or:a})=>(a.forEach(((l,c)=>{this.Br.set(l,{size:c,readTime:i.get(l).readTime})})),i)))}}function Fw(r){return en(r,Qc)}function Ga(r){return en(r,Gf)}function vc(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hw(r,e){const t=e.documentKey.path.toArray();return[r,Xf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gw(r,e){const t=r.path.toArray(),i=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(a=xe(t[l],i[l]),a)return a;return a=xe(t.length,i.length),a||(a=xe(t[t.length-2],i[i.length-2]),a||xe(t[t.length-1],i[i.length-1]))}class o4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class V1{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&kc(i.mutation,a,Pn.empty(),tt.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ne()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ne()){const a=ai();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Sc();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=ai();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ne())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=Mn();const c=Mc(),d=(function(){return Mc()})();return t.forEach(((m,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Ji)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),kc(v.mutation,g,v.mutation.getFieldMask(),tt.now())):c.set(g.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new o4(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Mc();let a=new _t(((c,d)=>c-d)),l=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let v=i.get(m)||Pn.empty();v=d.applyToLocalView(g,v),i.set(m,v);const E=(a.get(d.batchId)||Ne()).add(m);a=a.insert(d.batchId,E)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,v=m.value,E=Qx();v.forEach((w=>{if(!l.has(w)){const x=e1(t.get(w),i.get(w));x!==null&&E.set(w,x),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return z.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):M_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):z.resolve(ai());let d=Nl,m=l;return c.next((g=>z.forEach(g,((v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(v)?z.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ne()))).next((v=>({batchId:d,changes:Kx(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next((i=>{let a=Sc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Sc();return this.indexManager.getCollectionParents(e,l).next((d=>z.forEach(d,(m=>{const g=(function(E,w){return new Yi(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((v=>{v.forEach(((E,w)=>{c=c.insert(E,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,bt.newInvalidDocument(v)))}));let d=Sc();return c.forEach(((m,g)=>{const v=l.get(m);v!==void 0&&kc(v.mutation,g,Pn.empty(),tt.now()),yh(t,g)&&(d=d.insert(m,g))})),d}))}}class l4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return z.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Bt(a.createTime)}})(t)),z.resolve()}getNamedQuery(e,t){return z.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:Nm(a.bundledQuery),readTime:Bt(a.readTime)}})(t)),z.resolve()}}class u4{constructor(){this.overlays=new _t(ce.comparator),this.qr=new Map}getOverlay(e,t){return z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ai();return z.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),z.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),z.resolve()}getOverlaysForCollection(e,t,i){const a=ai(),l=t.length+1,c=new ce(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return z.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new _t(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=ai(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ai(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=a)););return z.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new z_(t,i));let l=this.qr.get(t);l===void 0&&(l=Ne(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class c4{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,z.resolve()}}class K_{constructor(){this.Qr=new lt(sn.$r),this.Ur=new lt(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new sn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new sn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ce(new ke([])),i=new sn(t,e),a=new sn(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ce(new ke([])),i=new sn(t,e),a=new sn(t,e+1);let l=Ne();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new sn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class sn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ce.comparator(e.key,t.key)||xe(e.Yr,t.Yr)}static Kr(e,t){return xe(e.Yr,t.Yr)||ce.comparator(e.key,t.key)}}class h4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new lt(sn.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new U_(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new sn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return z.resolve(c)}lookupMutationBatch(e,t){return z.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Ys:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new sn(t,0),a=new sn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new lt(xe);return t.forEach((a=>{const l=new sn(a,0),c=new sn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),z.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ce.isDocumentKey(l)||(l=l.child(""));const c=new sn(new ce(l),0);let d=new lt(xe);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),z.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ve(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return z.forEach(t.mutations,(a=>{const l=new sn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new sn(t,0),a=this.Zr.firstAfterOrEqual(i);return z.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class d4{constructor(e){this.ri=e,this.docs=(function(){return new _t(ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return z.resolve(i?i.document.mutableCopy():bt.newInvalidDocument(t))}getEntries(e,t){let i=Mn();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():bt.newInvalidDocument(a))})),z.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Mn();const c=t.path,d=new ce(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||x_(ax(v),i)<=0||(a.has(v.key)||yh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return z.resolve(l)}getAllFromCollectionGroup(e,t,i,a){ge(9500)}ii(e,t){return z.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new f4(this)}getSize(e){return z.resolve(this.size)}}class f4 extends N1{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),z.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class m4{constructor(e){this.persistence=e,this.si=new Xi((t=>oo(t)),ph),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new K_,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),z.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new fo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,z.resolve()}updateTargetData(e,t){return this.Pr(t),z.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),z.waitFor(l).next((()=>a))}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return z.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),z.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),z.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),z.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return z.resolve(i)}containsKey(e,t){return z.resolve(this._i.containsKey(t))}}class Q_{constructor(e,t){this.ui={},this.overlays={},this.ci=new On(0),this.li=!1,this.li=!0,this.hi=new c4,this.referenceDelegate=e(this),this.Pi=new m4(this),this.indexManager=new Zk,this.remoteDocumentCache=(function(a){return new d4(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new v1(t),this.Ii=new l4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new u4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new h4(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const a=new p4(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return z.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class p4 extends lx{constructor(e){super(),this.currentSequenceNumber=e}}class Om{constructor(e){this.persistence=e,this.Ri=new K_,this.Vi=null}static mi(e){return new Om(e)}get fi(){if(this.Vi)return this.Vi;throw ge(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),z.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),z.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),z.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,(i=>{const a=ce.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,be.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return z.or([()=>z.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Zf{constructor(e,t){this.persistence=e,this.pi=new Xi((i=>En(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=C1(this,t)}static mi(e,t){return new Zf(e,t)}Ei(){}di(e){return z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return z.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?z.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,be.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),z.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),z.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xf(e.data.value)),t}br(e,t,i){return z.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return z.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class g4{constructor(e){this.serializer=e}k(e,t,i,a){const l=new vm("createOrUpgrade",t);i<1&&a>=1&&((function(m){m.createObjectStore(mh)})(e),(function(m){m.createObjectStore(Kc,{keyPath:PM}),m.createObjectStore(Ir,{keyPath:nw,autoIncrement:!0}).createIndex(Za,rw,{unique:!0}),m.createObjectStore(Ol)})(e),Kw(e),(function(m){m.createObjectStore($a)})(e));let c=z.resolve();return i<3&&a>=3&&(i!==0&&((function(m){m.deleteObjectStore(Ml),m.deleteObjectStore(Pl),m.deleteObjectStore(to)})(e),Kw(e)),c=c.next((()=>(function(m){const g=m.store(to),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return g.put(Kf,v)})(l)))),i<4&&a>=4&&(i!==0&&(c=c.next((()=>(function(m,g){return g.store(Ir).J().next((E=>{m.deleteObjectStore(Ir),m.createObjectStore(Ir,{keyPath:nw,autoIncrement:!0}).createIndex(Za,rw,{unique:!0});const w=g.store(Ir),x=E.map((P=>w.put(P)));return z.waitFor(x)}))})(e,l)))),c=c.next((()=>{(function(m){m.createObjectStore(kl,{keyPath:FM})})(e)}))),i<5&&a>=5&&(c=c.next((()=>this.yi(l)))),i<6&&a>=6&&(c=c.next((()=>((function(m){m.createObjectStore(Qc)})(e),this.wi(l))))),i<7&&a>=7&&(c=c.next((()=>this.Si(l)))),i<8&&a>=8&&(c=c.next((()=>this.bi(e,l)))),i<9&&a>=9&&(c=c.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(c=c.next((()=>this.Di(l)))),i<11&&a>=11&&(c=c.next((()=>{(function(m){m.createObjectStore(Em,{keyPath:HM})})(e),(function(m){m.createObjectStore(bm,{keyPath:GM})})(e)}))),i<12&&a>=12&&(c=c.next((()=>{(function(m){const g=m.createObjectStore(Tm,{keyPath:WM});g.createIndex(Dy,ZM,{unique:!1}),g.createIndex(gx,ek,{unique:!1})})(e)}))),i<13&&a>=13&&(c=c.next((()=>(function(m){const g=m.createObjectStore(Gf,{keyPath:kM});g.createIndex(Af,LM),g.createIndex(dx,jM)})(e))).next((()=>this.Ci(e,l))).next((()=>e.deleteObjectStore($a)))),i<14&&a>=14&&(c=c.next((()=>this.Fi(e,l)))),i<15&&a>=15&&(c=c.next((()=>(function(m){m.createObjectStore(C_,{keyPath:KM,autoIncrement:!0}).createIndex(Ny,QM,{unique:!1}),m.createObjectStore(Vc,{keyPath:$M}).createIndex(mx,YM,{unique:!1}),m.createObjectStore(Oc,{keyPath:XM}).createIndex(px,JM,{unique:!1})})(e)))),i<16&&a>=16&&(c=c.next((()=>{t.objectStore(Vc).clear()})).next((()=>{t.objectStore(Oc).clear()}))),i<17&&a>=17&&(c=c.next((()=>{(function(m){m.createObjectStore(N_,{keyPath:tk})})(e)}))),i<18&&a>=18&&sS()&&(c=c.next((()=>{t.objectStore(Vc).clear()})).next((()=>{t.objectStore(Oc).clear()}))),c}wi(e){let t=0;return e.store($a).ee(((i,a)=>{t+=Wf(a)})).next((()=>{const i={byteSize:t};return e.store(Qc).put(Cy,i)}))}yi(e){const t=e.store(Kc),i=e.store(Ir);return t.J().next((a=>z.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,Ys],[l.userId,l.lastAcknowledgedBatchId]);return i.J(Za,c).next((d=>z.forEach(d,(m=>{ve(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const g=Xa(this.serializer,m);return A1(e,l.userId,g).next((()=>{}))}))))}))))}Si(e){const t=e.store(Ml),i=e.store($a);return e.store(to).get(Kf).next((a=>{const l=[];return i.ee(((c,d)=>{const m=new ke(c),g=(function(E){return[0,En(E)]})(m);l.push(t.get(g).next((v=>v?z.resolve():(E=>t.put({targetId:0,path:En(E),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>z.waitFor(l)))}))}bi(e,t){e.createObjectStore($c,{keyPath:qM});const i=t.store($c),a=new G_,l=c=>{if(a.add(c)){const d=c.lastSegment(),m=c.popLast();return i.put({collectionId:d,parent:En(m)})}};return t.store($a).ee({X:!0},((c,d)=>{const m=new ke(c);return l(m.popLast())})).next((()=>t.store(Ol).ee({X:!0},(([c,d,m],g)=>{const v=si(d);return l(v.popLast())}))))}Di(e){const t=e.store(Pl);return t.ee(((i,a)=>{const l=Ic(a),c=E1(this.serializer,l);return t.put(c)}))}Ci(e,t){const i=t.store($a),a=[];return i.ee(((l,c)=>{const d=t.store(Gf),m=(function(E){return E.document?new ce(ke.fromString(E.document.name).popFirst(5)):E.noDocument?ce.fromSegments(E.noDocument.path):E.unknownDocument?ce.fromSegments(E.unknownDocument.path):ge(36783)})(c).path.toArray(),g={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(g))})).next((()=>z.waitFor(a)))}Fi(e,t){const i=t.store(Ir),a=D1(this.serializer),l=new Q_(Om.mi,this.serializer.yt);return i.J().next((c=>{const d=new Map;return c.forEach((m=>{let g=d.get(m.userId)??Ne();Xa(this.serializer,m).keys().forEach((v=>g=g.add(v))),d.set(m.userId,g)})),z.forEach(d,((m,g)=>{const v=new an(g),E=Dm.wt(this.serializer,v),w=l.getIndexManager(v),x=Vm.wt(v,this.serializer,w,l.referenceDelegate);return new V1(a,x,E,w).recalculateAndSaveOverlaysForDocumentKeys(new Vy(t,On.ce),m).next()}))}))}}function Kw(r){r.createObjectStore(Ml,{keyPath:BM}).createIndex(R_,zM,{unique:!0}),r.createObjectStore(Pl,{keyPath:"targetId"}).createIndex(fx,UM,{unique:!0}),r.createObjectStore(to)}const ks="IndexedDbPersistence",sy=18e5,ay=5e3,oy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",O1="main";class $_{constructor(e,t,i,a,l,c,d,m,g,v,E=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Mi=l,this.window=c,this.document=d,this.xi=g,this.Oi=v,this.Ni=E,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!$_.v())throw new ie(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new i4(this,a),this.$i=t+O1,this.serializer=new v1(m),this.Ui=new ci(this.$i,this.Ni,new g4(this.serializer)),this.hi=new Qk,this.Pi=new t4(this.referenceDelegate,this.serializer),this.remoteDocumentCache=D1(this.serializer),this.Ii=new Kk,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,v===!1&&Ut(ks,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(K.FAILED_PRECONDITION,oy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new On(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>cf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ua(e))return oe(ks,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oe(ks,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Ec(e).get(cl).next((t=>z.resolve(this.es(t))))}ts(e){return cf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,sy)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=en(t,kl);return i.J().next((a=>{const l=this.ss(a,sy),c=a.filter((d=>l.indexOf(d)===-1));return z.forEach(c,(d=>i.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?z.resolve(!0):Ec(e).get(cl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ay)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ie(K.FAILED_PRECONDITION,oy);return!1}}return!(!this.networkEnabled||!this.inForeground)||cf(e).J().next((i=>this.ss(i,ay).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&oe(ks,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[mh,kl],(e=>{const t=new Vy(e,On.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((i=>this.rs(i.updateTimeMs,t)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>cf(e).J().next((t=>this.ss(t,sy).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Vm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new e4(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Dm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,i){oe(ks,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?ik:m===17?Ex:m===16?rk:m===15?D_:m===14?vx:m===13?_x:m===12?nk:m===11?yx:void ge(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,l,(d=>(c=new Vy(d,this.ci?this.ci.next():On.ce),t==="readwrite-primary"?this.Hi(c).next((m=>!!m||this.Yi(c))).next((m=>{if(!m)throw Ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ie(K.FAILED_PRECONDITION,ox);return i(c)})).next((m=>this.Xi(c).next((()=>m)))):this.Is(c).next((()=>i(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return Ec(e).get(cl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ay)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(K.FAILED_PRECONDITION,oy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ec(e).put(cl,t)}static v(){return ci.v()}Zi(e){const t=Ec(e);return t.get(cl).next((i=>this.es(i)?(oe(ks,"Releasing primary lease."),t.delete(cl)):z.resolve()))}rs(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(Ut(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;iS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return oe(ks,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Ut(ks,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Ut("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ec(r){return en(r,mh)}function cf(r){return en(r,kl)}function Y_(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class X_{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Ne(),a=Ne();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new X_(e,t.fromCache,i,a)}}class y4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class P1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iS()?8:ux(Wt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new y4;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(_l()<=He.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(_l()<=He.DEBUG&&oe("QueryEngine","Query:",vl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(_l()<=He.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(t))):z.resolve())}ys(e,t){if(gw(t))return z.resolve(null);let i=bn(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Yf(t,null,"F"),i=bn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ne(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(t,d);return this.Cs(t,g,c,m.readTime)?this.ys(e,Yf(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,i,a){return gw(t)||a.isEqual(be.min())?z.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?z.resolve(null):(_l()<=He.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vl(t)),this.vs(e,c,t,sx(a,Nl)).next((d=>d)))}))}Ds(e,t){let i=new lt(Hx(e));return t.forEach(((a,l)=>{yh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return _l()<=He.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",vl(t)),this.ps.getDocumentsMatchingQuery(e,t,Jn.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const J_="LocalStore",_4=3e8;class v4{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new _t(xe),this.xs=new Xi((l=>oo(l)),ph),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function M1(r,e,t,i){return new v4(r,e,t,i)}async function k1(r,e){const t=de(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Ne();for(const g of a){c.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function E4(r,e){const t=de(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,v){const E=g.batch,w=E.keys();let x=z.resolve();return w.forEach((P=>{x=x.next((()=>v.getEntry(m,P))).next((L=>{const j=g.docVersions.get(P);ve(j!==null,48541),L.version.compareTo(j)<0&&(E.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),v.addEntry(L)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(m,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ne();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function L1(r){const e=de(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function b4(r,e){const t=de(r),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((v,E)=>{const w=a.get(E);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,E))));let x=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?x=x.withResumeToken(Dt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,i)),a=a.insert(E,x),(function(L,j,W){return L.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=_4?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(w,x,v)&&d.push(t.Pi.updateTargetData(l,x))}));let m=Mn(),g=Ne();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(j1(l,c,e.documentUpdates).next((v=>{m=v.ks,g=v.qs}))),!i.isEqual(be.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return z.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function j1(r,e,t){let i=Ne(),a=Ne();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=Mn();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(be.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):oe(J_,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function T4(r,e){const t=de(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ys),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Fl(r,e){const t=de(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,z.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new Ui(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Hl(r,e,t){const i=de(r),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ua(c))throw c;oe(J_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function em(r,e,t){const i=de(r);let a=be.min(),l=Ne();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,v){const E=de(m),w=E.xs.get(v);return w!==void 0?z.resolve(E.Ms.get(w)):E.Pi.getTargetData(g,v)})(i,c,bn(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:be.min(),t?l:Ne()))).next((d=>(z1(i,Fx(e),d),{documents:d,Qs:l})))))}function U1(r,e){const t=de(r),i=de(t.Pi),a=t.Ms.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(l=>i.At(l,e).next((c=>c?c.target:null))))}function B1(r,e){const t=de(r),i=t.Os.get(e)||be.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.Ns.getAllFromCollectionGroup(a,e,sx(i,Nl),Number.MAX_SAFE_INTEGER))).then((a=>(z1(t,e,a),a)))}function z1(r,e,t){let i=r.Os.get(e)||be.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}async function w4(r,e,t,i){const a=de(r);let l=Ne(),c=Mn();for(const g of t){const v=e.$s(g.metadata.name);g.document&&(l=l.add(v));const E=e.Us(g);E.setReadTime(e.Ks(g.metadata.readTime)),c=c.insert(v,E)}const d=a.Ns.newChangeBuffer({trackRemovals:!0}),m=await Fl(a,(function(v){return bn(tu(ke.fromString(`__bundle__/docs/${v}`)))})(i));return a.persistence.runTransaction("Apply bundle documents","readwrite",(g=>j1(g,d,c).next((v=>(d.apply(g),v))).next((v=>a.Pi.removeMatchingKeysForTargetId(g,m.targetId).next((()=>a.Pi.addMatchingKeys(g,l,m.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(g,v.ks,v.qs))).next((()=>v.ks))))))}async function A4(r,e,t=Ne()){const i=await Fl(r,bn(Nm(e.bundledQuery))),a=de(r);return a.persistence.runTransaction("Save named query","readwrite",(l=>{const c=Bt(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return a.Ii.saveNamedQuery(l,e);const d=i.withResumeToken(Dt.EMPTY_BYTE_STRING,c);return a.Ms=a.Ms.insert(d.targetId,d),a.Pi.updateTargetData(l,d).next((()=>a.Pi.removeMatchingKeysForTargetId(l,i.targetId))).next((()=>a.Pi.addMatchingKeys(l,t,i.targetId))).next((()=>a.Ii.saveNamedQuery(l,e)))}))}const q1="firestore_clients";function Qw(r,e){return`${q1}_${r}_${e}`}const F1="firestore_mutations";function $w(r,e,t){let i=`${F1}_${r}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const H1="firestore_targets";function ly(r,e){return`${H1}_${r}_${e}`}const ii="SharedClientState";class tm{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Ws(e,t,i){const a=JSON.parse(i);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new ie(a.error.code,a.error.message))),c?new tm(e,t,a.state,l):(Ut(ii,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Lc{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ws(e,t){const i=JSON.parse(t);let a,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new ie(i.error.code,i.error.message))),l?new Lc(e,i.state,a):(Ut(ii,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const i=JSON.parse(t);let a=typeof i=="object"&&i.activeTargetIds instanceof Array,l=k_();for(let c=0;a&&c<i.activeTargetIds.length;++c)a=cx(i.activeTargetIds[c]),l=l.add(i.activeTargetIds[c]);return a?new nm(e,l):(Ut(ii,`Failed to parse client data for instance '${e}': ${t}`),null)}}class W_{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new W_(t.clientId,t.onlineState):(Ut(ii,`Failed to parse online state: ${e}`),null)}}class Qy{constructor(){this.activeTargetIds=k_()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uy{constructor(e,t,i,a,l){this.window=e,this.Mi=t,this.persistenceKey=i,this.Js=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new _t(xe),this.started=!1,this.Xs=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.eo=Qw(this.persistenceKey,this.Js),this.no=(function(m){return`firestore_sequence_number_${m}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Qy),this.ro=new RegExp(`^${q1}_${c}_([^_]*)$`),this.io=new RegExp(`^${F1}_${c}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${H1}_${c}_(\\d+)$`),this.oo=(function(m){return`firestore_online_state_${m}`})(this.persistenceKey),this._o=(function(m){return`firestore_bundle_loaded_v2_${m}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const i of e){if(i===this.Js)continue;const a=this.getItem(Qw(this.persistenceKey,i));if(a){const l=nm.Ws(i,a);l&&(this.Zs=this.Zs.insert(l.clientId,l))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const i=this.uo(t);i&&this.co(i)}for(const i of this.Xs)this.Ys(i);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,i){this.ho(e,t,i),this.Po(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(ly(this.persistenceKey,e));if(a){const l=Lc.Ws(e,a);l&&(i=l.state)}}return t&&this.To.zs(e),this.ao(),i}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ly(this.persistenceKey,e))}updateQueryState(e,t,i){this.Io(e,t,i)}handleUserChange(e,t,i){t.forEach((a=>{this.Po(a)})),this.currentUser=e,i.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return oe(ii,"READ",e,t),t}setItem(e,t){oe(ii,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){oe(ii,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(oe(ii,"EVENT",t.key,t.newValue),t.key===this.eo)return void Ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const i=this.Ro(t.key);return this.Vo(i,null)}{const i=this.mo(t.key,t.newValue);if(i)return this.Vo(i.clientId,i)}}else if(this.io.test(t.key)){if(t.newValue!==null){const i=this.fo(t.key,t.newValue);if(i)return this.po(i)}}else if(this.so.test(t.key)){if(t.newValue!==null){const i=this.yo(t.key,t.newValue);if(i)return this.wo(i)}}else if(t.key===this.oo){if(t.newValue!==null){const i=this.uo(t.newValue);if(i)return this.co(i)}}else if(t.key===this.no){const i=(function(l){let c=On.ce;if(l!=null)try{const d=JSON.parse(l);ve(typeof d=="number",30636,{So:l}),c=d}catch(d){Ut(ii,"Failed to read sequence number from WebStorage",d)}return c})(t.newValue);i!==On.ce&&this.sequenceNumberHandler(i)}else if(t.key===this._o){const i=this.bo(t.newValue);await Promise.all(i.map((a=>this.syncEngine.Do(a))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,i){const a=new tm(this.currentUser,e,t,i),l=$w(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Gs())}Po(e){const t=$w(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,i){const a=ly(this.persistenceKey,e),l=new Lc(e,t,i);this.setItem(a,l.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const i=this.Ro(e);return nm.Ws(i,t)}fo(e,t){const i=this.io.exec(e),a=Number(i[1]),l=i[2]!==void 0?i[2]:null;return tm.Ws(new an(l),a,t)}yo(e,t){const i=this.so.exec(e),a=Number(i[1]);return Lc.Ws(a,t)}uo(e){return W_.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);oe(ii,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const i=t?this.Zs.insert(e,t):this.Zs.remove(e),a=this.lo(this.Zs),l=this.lo(i),c=[],d=[];return l.forEach((m=>{a.has(m)||c.push(m)})),a.forEach((m=>{l.has(m)||d.push(m)})),this.syncEngine.Fo(c,d).then((()=>{this.Zs=i}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=k_();return e.forEach(((i,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class G1{constructor(){this.Mo=new Qy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Qy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class S4{Oo(e){}shutdown(){}}const Yw="ConnectivityMonitor";class Xw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Yw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hf=null;function $y(){return hf===null?hf=(function(){return 268435456+Math.round(2147483648*Math.random())})():hf++,"0x"+hf.toString(16)}const cy="RestConnection",x4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Xc?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=$y(),d=this.zo(e,t.toUriEncodedString());oe(cy,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),v=sa(g);return this.Jo(e,d,m,i,v).then((E=>(oe(cy,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Xn(cy,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=x4[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class R4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const _n="WebChannelConnection";class C4 extends I4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=$y();return new Promise(((d,m)=>{const g=new QS;g.setWithCredentials(!0),g.listenOnce($S.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Tf.NO_ERROR:const E=g.getResponseJson();oe(_n,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case Tf.TIMEOUT:oe(_n,`RPC '${e}' ${c} timed out`),m(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const w=g.getStatus();if(oe(_n,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x?.error;if(P&&P.status&&P.message){const L=(function(W){const ne=W.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ne)>=0?ne:K.UNKNOWN})(P.status);m(new ie(L,P.message))}else m(new ie(K.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ie(K.UNAVAILABLE,"Connection failed."));break;default:ge(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe(_n,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);oe(_n,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const a=$y(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=JS(),d=XS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const v=l.join("");oe(_n,`Creating RPC '${e}' stream ${a}: ${v}`,m);const E=c.createWebChannel(v,m);this.I_(E);let w=!1,x=!1;const P=new R4({Yo:j=>{x?oe(_n,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(w||(oe(_n,`Opening RPC '${e}' stream ${a} transport.`),E.open(),w=!0),oe(_n,`RPC '${e}' stream ${a} sending:`,j),E.send(j))},Zo:()=>E.close()}),L=(j,W,ne)=>{j.listen(W,(Q=>{try{ne(Q)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return L(E,Ac.EventType.OPEN,(()=>{x||(oe(_n,`RPC '${e}' stream ${a} transport opened.`),P.o_())})),L(E,Ac.EventType.CLOSE,(()=>{x||(x=!0,oe(_n,`RPC '${e}' stream ${a} transport closed`),P.a_(),this.E_(E))})),L(E,Ac.EventType.ERROR,(j=>{x||(x=!0,Xn(_n,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),P.a_(new ie(K.UNAVAILABLE,"The operation could not be completed")))})),L(E,Ac.EventType.MESSAGE,(j=>{if(!x){const W=j.data[0];ve(!!W,16349);const ne=W,Q=ne?.error||ne[0]?.error;if(Q){oe(_n,`RPC '${e}' stream ${a} received error:`,Q);const ue=Q.status;let pe=(function(I){const C=Yt[I];if(C!==void 0)return i1(C)})(ue),ee=Q.message;pe===void 0&&(pe=K.INTERNAL,ee="Unknown error status: "+ue+" with message "+Q.message),x=!0,P.a_(new ie(pe,ee)),E.close()}else oe(_n,`RPC '${e}' stream ${a} received:`,W),P.u_(W)}})),L(d,YS.STAT_EVENT,(j=>{j.stat===Ay.PROXY?oe(_n,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Ay.NOPROXY&&oe(_n,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function K1(){return typeof window<"u"?window:null}function Df(){return typeof document<"u"?document:null}function vo(r){return new Mk(r,!0)}class Z_{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Jw="PersistentStream";class Q1{constructor(e,t,i,a,l,c,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Ut(t.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ie(K.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Jw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(oe(Jw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N4 extends Q1{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=jk(this.serializer,e),i=(function(l){if(!("targetChange"in l))return be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?Bt(c.readTime):be.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=qy(this.serializer),t.addTarget=(function(l,c){let d;const m=c.target;if(d=Qf(m)?{documents:f1(l,m)}:{query:Cm(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=l1(l,c.resumeToken);const g=By(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(be.min())>0){d.readTime=ql(l,c.snapshotVersion.toTimestamp());const g=By(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=Bk(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=qy(this.serializer),t.removeTarget=e,this.q_(t)}}class D4 extends Q1{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Uk(e.writeResults,e.commitTime),i=Bt(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=qy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>th(this.serializer,i)))};this.q_(t)}}class V4{}class O4 extends V4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,zy(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ie(K.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,zy(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie(K.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class P4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ut(t),this.aa=!1):oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const mo="RemoteStore";class M4{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{ha(this)&&(oe(mo,"Restarting streams for network reachability change."),await(async function(m){const g=de(m);g.Ea.add(4),await iu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await bh(g)})(this))}))})),this.Ra=new P4(i,a)}}async function bh(r){if(ha(r))for(const e of r.da)await e(!0)}async function iu(r){for(const e of r.da)await e(!1)}function Pm(r,e){const t=de(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),nv(t)?tv(t):au(t).O_()&&ev(t,e))}function Gl(r,e){const t=de(r),i=au(t);t.Ia.delete(e),i.O_()&&$1(t,e),t.Ia.size===0&&(i.O_()?i.L_():ha(t)&&t.Ra.set("Unknown"))}function ev(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(r).Y_(e)}function $1(r,e){r.Va.Ue(e),au(r).Z_(e)}function tv(r){r.Va=new Dk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),au(r).start(),r.Ra.ua()}function nv(r){return ha(r)&&!au(r).x_()&&r.Ia.size>0}function ha(r){return de(r).Ea.size===0}function Y1(r){r.Va=void 0}async function k4(r){r.Ra.set("Online")}async function L4(r){r.Ia.forEach(((e,t)=>{ev(r,e)}))}async function j4(r,e){Y1(r),nv(r)?(r.Ra.ha(e),tv(r)):r.Ra.set("Unknown")}async function U4(r,e,t){if(r.Ra.set("Online"),e instanceof o1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(r,e)}catch(i){oe(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await rm(r,i)}else if(e instanceof Cf?r.Va.Ze(e):e instanceof a1?r.Va.st(e):r.Va.tt(e),!t.isEqual(be.min()))try{const i=await L1(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(Dt.EMPTY_BYTE_STRING,v.snapshotVersion)),$1(l,m);const E=new Ui(v.target,m,g,v.sequenceNumber);ev(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){oe(mo,"Failed to raise snapshot:",i),await rm(r,i)}}async function rm(r,e,t){if(!ua(e))throw e;r.Ea.add(1),await iu(r),r.Ra.set("Offline"),t||(t=()=>L1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(mo,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await bh(r)}))}function X1(r,e){return e().catch((t=>rm(r,t,e)))}async function su(r){const e=de(r),t=na(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ys;for(;B4(e);)try{const a=await T4(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,z4(e,a)}catch(a){await rm(e,a)}J1(e)&&W1(e)}function B4(r){return ha(r)&&r.Ta.length<10}function z4(r,e){r.Ta.push(e);const t=na(r);t.O_()&&t.X_&&t.ea(e.mutations)}function J1(r){return ha(r)&&!na(r).x_()&&r.Ta.length>0}function W1(r){na(r).start()}async function q4(r){na(r).ra()}async function F4(r){const e=na(r);for(const t of r.Ta)e.ea(t.mutations)}async function H4(r,e,t){const i=r.Ta.shift(),a=B_.from(i,e,t);await X1(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await su(r)}async function G4(r,e){e&&na(r).X_&&await(async function(i,a){if((function(c){return r1(c)&&c!==K.ABORTED})(a.code)){const l=i.Ta.shift();na(i).B_(),await X1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await su(i)}})(r,e),J1(r)&&W1(r)}async function Ww(r,e){const t=de(r);t.asyncQueue.verifyOperationInProgress(),oe(mo,"RemoteStore received new credentials");const i=ha(t);t.Ea.add(3),await iu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bh(t)}async function Yy(r,e){const t=de(r);e?(t.Ea.delete(2),await bh(t)):e||(t.Ea.add(2),await iu(t),t.Ra.set("Unknown"))}function au(r){return r.ma||(r.ma=(function(t,i,a){const l=de(t);return l.sa(),new N4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:k4.bind(null,r),t_:L4.bind(null,r),r_:j4.bind(null,r),H_:U4.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),nv(r)?tv(r):r.Ra.set("Unknown")):(await r.ma.stop(),Y1(r))}))),r.ma}function na(r){return r.fa||(r.fa=(function(t,i,a){const l=de(t);return l.sa(),new D4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:q4.bind(null,r),r_:G4.bind(null,r),ta:F4.bind(null,r),na:H4.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await su(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(mo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new on,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new rv(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(r,e){if(Ut("AsyncQueue",`${e}: ${r}`),ua(r))return new ie(K.UNAVAILABLE,`${e}: ${r}`);throw r}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ce.comparator(t.key,i.key):(t,i)=>ce.comparator(t.key,i.key),this.keyedMap=Sc(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new no;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Zw{constructor(){this.ga=new _t(ce.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ge(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class po{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new po(e,t,no.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class K4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Q4{constructor(){this.queries=eA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=de(t),l=a.queries;a.queries=eA(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(i)}))})(this,new ie(K.ABORTED,"Firestore shutting down"))}}function eA(){return new Xi((r=>qx(r)),gh)}async function iv(r,e){const t=de(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new K4,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=ou(c,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&av(t)}async function sv(r,e){const t=de(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function $4(r,e){const t=de(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&av(t)}function Y4(r,e,t){const i=de(r),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function av(r){r.Ca.forEach((e=>{e.next()}))}var Xy,tA;(tA=Xy||(Xy={})).Ma="default",tA.Cache="cache";class ov{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new po(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xy.Cache}}class Z1{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}class nA{constructor(e){this.serializer=e}$s(e){return hi(this.serializer,e)}Us(e){return e.metadata.exists?Rm(this.serializer,e.document,!1):bt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Bt(e)}}class lv{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=eI(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const i=ke.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,i=new nA(this.serializer);for(const a of e)if(a.metadata.queries){const l=i.$s(a.metadata.name);for(const c of a.metadata.queries){const d=(t.get(c)||Ne()).add(l);t.set(c,d)}}return t}async ja(e){const t=await w4(e,new nA(this.serializer),this.Wa,this.Ua.id),i=this.za(this.documents);for(const a of this.Ka)await A4(e,a,i.get(a.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function eI(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class tI{constructor(e){this.key=e}}class nI{constructor(e){this.key=e}}class rI{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=Hx(e),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Zw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,E)=>{const w=a.get(v),x=yh(this.query,E)?E:null,P=!!w&&this.mutatedKeys.has(w.key),L=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let j=!1;w&&x?w.data.isEqual(x.data)?P!==L&&(i.track({type:3,doc:x}),j=!0):this.su(w,x)||(i.track({type:2,doc:x}),j=!0,(m&&this.eu(x,m)>0||g&&this.eu(x,g)<0)&&(d=!0)):!w&&x?(i.track({type:0,doc:x}),j=!0):w&&!x&&(i.track({type:1,doc:w}),j=!0,(m||g)&&(d=!0)),j&&(x?(c=c.add(x),l=L?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,E)=>(function(x,P){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge(20277,{Rt:j})}};return L(x)-L(P)})(v.type,E.type)||this.eu(v.doc,E.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new po(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new nI(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new tI(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const da="SyncEngine";class X4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class J4{constructor(e){this.key=e,this.hu=!1}}class W4{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Xi((d=>qx(d)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new _t(ce.comparator),this.Au=new Map,this.Ru=new K_,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z4(r,e,t=!0){const i=Mm(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await iI(i,e,t,!0),a}async function e6(r,e){const t=Mm(r);await iI(t,e,!0,!1)}async function iI(r,e,t,i){const a=await Fl(r.localStore,bn(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await uv(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&Pm(r.remoteStore,a),d}async function uv(r,e,t,i,a){r.pu=(E,w,x)=>(async function(L,j,W,ne){let Q=j.view.ru(W);Q.Cs&&(Q=await em(L.localStore,j.query,!1).then((({documents:R})=>j.view.ru(R,Q))));const ue=ne&&ne.targetChanges.get(j.targetId),pe=ne&&ne.targetMismatches.get(j.targetId)!=null,ee=j.view.applyChanges(Q,L.isPrimaryClient,ue,pe);return Jy(L,j.targetId,ee.au),ee.snapshot})(r,E,w,x);const l=await em(r.localStore,e,!0),c=new rI(e,l.Qs),d=c.ru(l.documents),m=Eh.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,m);Jy(r,t,g.au);const v=new X4(e,t,c);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function t6(r,e,t){const i=de(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!gh(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Hl(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Gl(i.remoteStore,a.targetId),Kl(i,a.targetId)})).catch(la)):(Kl(i,a.targetId),await Hl(i.localStore,a.targetId,!0))}async function n6(r,e){const t=de(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Gl(t.remoteStore,i.targetId))}async function r6(r,e,t){const i=fv(r);try{const a=await(function(c,d){const m=de(c),g=tt.now(),v=d.reduce(((x,P)=>x.add(P.key)),Ne());let E,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let P=Mn(),L=Ne();return m.Ns.getEntries(x,v).next((j=>{P=j,P.forEach(((W,ne)=>{ne.isValidDocument()||(L=L.add(W))}))})).next((()=>m.localDocuments.getOverlayedDocuments(x,P))).next((j=>{E=j;const W=[];for(const ne of d){const Q=Rk(ne,E.get(ne.key).overlayedDocument);Q!=null&&W.push(new Ji(ne.key,Q,Dx(Q.value.mapValue),Rt.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,W,d)})).next((j=>{w=j;const W=j.applyToLocalDocumentSet(E,L);return m.documentOverlayCache.saveOverlays(x,j.batchId,W)}))})).then((()=>({batchId:w.batchId,changes:Kx(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(xe)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,t),await Wi(i,a.changes),await su(i.remoteStore)}catch(a){const l=ou(a,"Failed to persist write");t.reject(l)}}async function sI(r,e){const t=de(r);try{const i=await b4(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(ve(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ve(c.hu,14607):a.removedDocuments.size>0&&(ve(c.hu,42227),c.hu=!1))})),await Wi(t,i,e)}catch(i){await la(i)}}function rA(r,e,t){const i=de(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=de(c);m.onlineState=d;let g=!1;m.queries.forEach(((v,E)=>{for(const w of E.Sa)w.va(d)&&(g=!0)})),g&&av(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function i6(r,e,t){const i=de(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new _t(ce.comparator);c=c.insert(l,bt.newNoDocument(l,be.min()));const d=Ne().add(l),m=new vh(be.min(),new Map,new _t(xe),c,d);await sI(i,m),i.du=i.du.remove(l),i.Au.delete(e),dv(i)}else await Hl(i.localStore,e,!1).then((()=>Kl(i,e,t))).catch(la)}async function s6(r,e){const t=de(r),i=e.batch.batchId;try{const a=await E4(t.localStore,e);hv(t,i,null),cv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Wi(t,a)}catch(a){await la(a)}}async function a6(r,e,t){const i=de(r);try{const a=await(function(c,d){const m=de(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return m.mutationQueue.lookupMutationBatch(g,d).next((E=>(ve(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(g,E)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>m.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);hv(i,e,t),cv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Wi(i,a)}catch(a){await la(a)}}async function o6(r,e){const t=de(r);ha(t.remoteStore)||oe(da,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await(function(c){const d=de(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m)))})(t.localStore);if(i===Ys)return void e.resolve();const a=t.mu.get(i)||[];a.push(e),t.mu.set(i,a)}catch(i){const a=ou(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function cv(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function hv(r,e,t){const i=de(r);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Kl(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||aI(r,i)}))}function aI(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Gl(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),dv(r))}function Jy(r,e,t){for(const i of t)i instanceof tI?(r.Ru.addReference(i.key,e),l6(r,i)):i instanceof nI?(oe(da,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||aI(r,i.key)):ge(19791,{wu:i})}function l6(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(oe(da,"New document in limbo: "+t),r.Eu.add(i),dv(r))}function dv(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ce(ke.fromString(e)),i=r.fu.next();r.Au.set(i,new J4(t)),r.du=r.du.insert(t,i),Pm(r.remoteStore,new Ui(bn(tu(t.path)),i,"TargetPurposeLimboResolution",On.ce))}}async function Wi(r,e,t){const i=de(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(g){a.push(g);const v=X_.As(m.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,g){const v=de(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>z.forEach(g,(w=>z.forEach(w.Es,(x=>v.persistence.referenceDelegate.addReference(E,w.targetId,x))).next((()=>z.forEach(w.ds,(x=>v.persistence.referenceDelegate.removeReference(E,w.targetId,x)))))))))}catch(E){if(!ua(E))throw E;oe(J_,"Failed to update sequence numbers: "+E)}for(const E of g){const w=E.targetId;if(!E.fromCache){const x=v.Ms.get(w),P=x.snapshotVersion,L=x.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(w,L)}}})(i.localStore,l))}async function u6(r,e){const t=de(r);if(!t.currentUser.isEqual(e)){oe(da,"User change. New user:",e.toKey());const i=await k1(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ie(K.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wi(t,i.Ls)}}function c6(r,e){const t=de(r),i=t.Au.get(e);if(i&&i.hu)return Ne().add(i.key);{let a=Ne();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}async function h6(r,e){const t=de(r),i=await em(t.localStore,e.query,!0),a=e.view.cu(i);return t.isPrimaryClient&&Jy(t,e.targetId,a.au),a}async function d6(r,e){const t=de(r);return B1(t.localStore,e).then((i=>Wi(t,i)))}async function f6(r,e,t,i){const a=de(r),l=await(function(d,m){const g=de(d),v=de(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",(E=>v.er(E,m).next((w=>w?g.localDocuments.getDocuments(E,w):z.resolve(null)))))})(a.localStore,e);l!==null?(t==="pending"?await su(a.remoteStore):t==="acknowledged"||t==="rejected"?(hv(a,e,i||null),cv(a,e),(function(d,m){de(de(d).mutationQueue).ir(m)})(a.localStore,e)):ge(6720,"Unknown batchState",{Su:t}),await Wi(a,l)):oe(da,"Cannot apply mutation batch with id: "+e)}async function m6(r,e){const t=de(r);if(Mm(t),fv(t),e===!0&&t.gu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),a=await iA(t,i.toArray());t.gu=!0,await Yy(t.remoteStore,!0);for(const l of a)Pm(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const i=[];let a=Promise.resolve();t.Iu.forEach(((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):a=a.then((()=>(Kl(t,c),Hl(t.localStore,c,!0)))),Gl(t.remoteStore,c)})),await a,await iA(t,i),(function(c){const d=de(c);d.Au.forEach(((m,g)=>{Gl(d.remoteStore,g)})),d.Ru.Jr(),d.Au=new Map,d.du=new _t(ce.comparator)})(t),t.gu=!1,await Yy(t.remoteStore,!1)}}async function iA(r,e,t){const i=de(r),a=[],l=[];for(const c of e){let d;const m=i.Iu.get(c);if(m&&m.length!==0){d=await Fl(i.localStore,bn(m[0]));for(const g of m){const v=i.Tu.get(g),E=await h6(i,v);E.snapshot&&l.push(E.snapshot)}}else{const g=await U1(i.localStore,c);d=await Fl(i.localStore,g),await uv(i,oI(g),c,!1,d.resumeToken)}a.push(d)}return i.Pu.H_(l),a}function oI(r){return Ux(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function p6(r){return(function(t){return de(de(t).persistence).Ts()})(de(r).localStore)}async function g6(r,e,t,i){const a=de(r);if(a.gu)return void oe(da,"Ignoring unexpected query state notification.");const l=a.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await B1(a.localStore,Fx(l[0])),d=vh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Dt.EMPTY_BYTE_STRING);await Wi(a,c,d);break}case"rejected":await Hl(a.localStore,e,!0),Kl(a,e,i);break;default:ge(64155,t)}}async function y6(r,e,t){const i=Mm(r);if(i.gu){for(const a of e){if(i.Iu.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){oe(da,"Adding an already active target "+a);continue}const l=await U1(i.localStore,a),c=await Fl(i.localStore,l);await uv(i,oI(l),c.targetId,!1,c.resumeToken),Pm(i.remoteStore,c)}for(const a of t)i.Iu.has(a)&&await Hl(i.localStore,a,!1).then((()=>{Gl(i.remoteStore,a),Kl(i,a)})).catch(la)}}function Mm(r){const e=de(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=sI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i6.bind(null,e),e.Pu.H_=$4.bind(null,e.eventManager),e.Pu.yu=Y4.bind(null,e.eventManager),e}function fv(r){const e=de(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a6.bind(null,e),e}function _6(r,e,t){const i=de(r);(async function(l,c,d){try{const m=await c.getMetadata();if(await(function(x,P){const L=de(x),j=Bt(P.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",(W=>L.Ii.getBundleMetadata(W,P.id))).then((W=>!!W&&W.createTime.compareTo(j)>=0))})(l.localStore,m))return await c.close(),d._completeWith((function(x){return{taskState:"Success",documentsLoaded:x.totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}})(m)),Promise.resolve(new Set);d._updateProgress(eI(m));const g=new lv(m,c.serializer);let v=await c.bu();for(;v;){const w=await g.Ga(v);w&&d._updateProgress(w),v=await c.bu()}const E=await g.ja(l.localStore);return await Wi(l,E.Ha,void 0),await(function(x,P){const L=de(x);return L.persistence.runTransaction("Save bundle","readwrite",(j=>L.Ii.saveBundleMetadata(j,P)))})(l.localStore,m),d._completeWith(E.progress),Promise.resolve(E.Ja)}catch(m){return Xn(da,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(i,e,t).then((a=>{i.sharedClientState.notifyBundleLoaded(a)}))}class Ql{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vo(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return M1(this.persistence,new P1,e.initialUser,this.serializer)}Cu(e){return new Q_(Om.mi,this.serializer)}Du(e){return new G1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ql.provider={build:()=>new Ql};class mv extends Ql{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ve(this.persistence.referenceDelegate instanceof Zf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new R1(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new Q_((i=>Zf.mi(i,t)),this.serializer)}}class pv extends Ql{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await fv(this.xu.syncEngine),await su(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return M1(this.persistence,new P1,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new R1(i,e.asyncQueue,t)}Mu(e,t){const i=new VM(t,this.persistence);return new DM(e.asyncQueue,i)}Cu(e){const t=Y_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new $_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,K1(),Df(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new G1}}class lI extends pv{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof uy&&(this.sharedClientState.syncEngine={Co:f6.bind(null,t),vo:g6.bind(null,t),Fo:y6.bind(null,t),Ts:p6.bind(null,t),Do:d6.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async i=>{await m6(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(e){const t=K1();if(!uy.v(t))throw new ie(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Y_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uy(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ra{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=u6.bind(null,this.syncEngine),await Yy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Q4})()}createDatastore(e){const t=vo(e.databaseInfo.databaseId),i=(function(l){return new C4(l)})(e.databaseInfo);return(function(l,c,d,m){return new O4(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new M4(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>rA(this.syncEngine,t,0)),(function(){return Xw.v()?new Xw:new S4})())}createSyncEngine(e,t){return(function(a,l,c,d,m,g,v){const E=new W4(a,l,c,d,m,g);return v&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=de(t);oe(mo,"RemoteStore shutting down."),i.Ea.add(5),await iu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ra.provider={build:()=>new ra};function sA(r,e=10240){let t=0;return{async read(){if(t<r.byteLength){const i={value:r.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class km{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ut("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class v6{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new on,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((i=>{i&&i.$a()?this.metadata.resolve(i.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.Qa)}`))}),(i=>this.metadata.reject(i)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),i=Number(t);isNaN(i)&&this.Qu(`length string (${t}) is not valid number`);const a=await this.$u(i);return new Z1(JSON.parse(a),e.length+i)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class E6{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let i=this.bu();if(!i||!i.$a())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(i?.Qa)}`);this.metadata=i;do i=this.bu(),i!==null&&this.elements.push(i);while(i!==null)}getMetadata(){return this.metadata}Wu(){return this.elements}bu(){if(this.cursor===this.bundleData.length)return null;const e=this.qu(),t=this.$u(e);return new Z1(JSON.parse(t),e)}$u(e){if(this.cursor+e>this.bundleData.length)throw new ie(K.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}qu(){const e=this.cursor;let t=this.cursor;for(;t<this.bundleData.length;){if(this.bundleData[t]==="{"){if(t===e)throw new Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw new Error("Reached the end of bundle when more is expected.")}}class b6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ie(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,l){const c=de(a),d={documents:l.map((E=>eh(c.serializer,E)))},m=await c.Ho("BatchGetDocuments",c.serializer.databaseId,ke.emptyPath(),d,l.length),g=new Map;m.forEach((E=>{const w=Lk(c.serializer,E);g.set(w.key.toString(),w)}));const v=[];return l.forEach((E=>{const w=g.get(E.toString());ve(!!w,55234,{key:E}),v.push(w)})),v})(this.datastore,e);return t.forEach((i=>this.recordVersion(i))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ru(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,i)=>{const a=ce.fromPath(i);this.mutations.push(new j_(a,this.precondition(a)))})),await(async function(i,a){const l=de(i),c={writes:a.map((d=>th(l.serializer,d)))};await l.Go("Commit",l.serializer.databaseId,ke.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ge(50498,{Gu:e.constructor.name});t=be.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ie(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(be.min())?Rt.exists(!1):Rt.updateTime(t):Rt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(be.min()))throw new ie(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rt.updateTime(t)}return Rt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class T6{constructor(e,t,i,a,l){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new Z_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new b6(this.datastore),t=this.Hu(e);t&&t.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((a=>{this.Yu(a)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(e){try{const t=this.updateFunction(e);return!fh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!r1(t)}return!1}}const ia="FirestoreClient";class w6{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=an.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{oe(ia,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(oe(ia,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new on;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ou(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function hy(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ia,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await k1(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function aA(r,e){r.asyncQueue.verifyOperationInProgress();const t=await gv(r);oe(ia,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Ww(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>Ww(e.remoteStore,a))),r._onlineComponents=e}async function gv(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ia,"Using user provided OfflineComponentProvider");try{await hy(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Xn("Error using user provided cache. Falling back to memory cache: "+t),await hy(r,new Ql)}}else oe(ia,"Using default OfflineComponentProvider"),await hy(r,new mv(void 0));return r._offlineComponents}async function Lm(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ia,"Using user provided OnlineComponentProvider"),await aA(r,r._uninitializedComponentsProvider._online)):(oe(ia,"Using default OnlineComponentProvider"),await aA(r,new ra))),r._onlineComponents}function uI(r){return gv(r).then((e=>e.persistence))}function lu(r){return gv(r).then((e=>e.localStore))}function cI(r){return Lm(r).then((e=>e.remoteStore))}function yv(r){return Lm(r).then((e=>e.syncEngine))}function hI(r){return Lm(r).then((e=>e.datastore))}async function $l(r){const e=await Lm(r),t=e.eventManager;return t.onListen=Z4.bind(null,e.syncEngine),t.onUnlisten=t6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=e6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=n6.bind(null,e.syncEngine),t}function A6(r){return r.asyncQueue.enqueue((async()=>{const e=await uI(r),t=await cI(r);return e.setNetworkEnabled(!0),(function(a){const l=de(a);return l.Ea.delete(0),bh(l)})(t)}))}function S6(r){return r.asyncQueue.enqueue((async()=>{const e=await uI(r),t=await cI(r);return e.setNetworkEnabled(!1),(async function(a){const l=de(a);l.Ea.add(0),await iu(l),l.Ra.set("Offline")})(t)}))}function x6(r,e){const t=new on;return r.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await(function(g,v){const E=de(g);return E.persistence.runTransaction("read document","readonly",(w=>E.localDocuments.getDocument(w,v)))})(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new ie(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=ou(d,`Failed to get document '${l} from cache`);c.reject(m)}})(await lu(r),e,t))),t.promise}function dI(r,e,t={}){const i=new on;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new km({next:w=>{v.Nu(),c.enqueueAndForget((()=>sv(l,E)));const x=w.docs.has(d);!x&&w.fromCache?g.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&m&&m.source==="server"?g.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new ov(tu(d.path),v,{includeMetadataChanges:!0,qa:!0});return iv(l,E)})(await $l(r),r.asyncQueue,e,t,i))),i.promise}function I6(r,e){const t=new on;return r.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await em(a,l,!0),m=new rI(l,d.Qs),g=m.ru(d.documents),v=m.applyChanges(g,!1);c.resolve(v.snapshot)}catch(d){const m=ou(d,`Failed to execute query '${l} against cache`);c.reject(m)}})(await lu(r),e,t))),t.promise}function fI(r,e,t={}){const i=new on;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const v=new km({next:w=>{v.Nu(),c.enqueueAndForget((()=>sv(l,E))),w.fromCache&&m.source==="server"?g.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new ov(d,v,{includeMetadataChanges:!0,qa:!0});return iv(l,E)})(await $l(r),r.asyncQueue,e,t,i))),i.promise}function R6(r,e,t){const i=new on;return r.asyncQueue.enqueueAndForget((async()=>{try{const a=await hI(r);i.resolve((async function(c,d,m){const g=de(c),{request:v,gt:E,parent:w}=m1(g.serializer,Bx(d),m);g.connection.$o||delete v.parent;const x=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,w,v,1)).filter((L=>!!L.result));ve(x.length===1,64727);const P=x[0].result?.aggregateFields;return Object.keys(P).reduce(((L,j)=>(L[E[j]]=P[j],L)),{})})(a,e,t))}catch(a){i.reject(a)}})),i.promise}function C6(r,e){const t=new km(e);return r.asyncQueue.enqueueAndForget((async()=>(function(a,l){de(a).Ca.add(l),l.next()})(await $l(r),t))),()=>{t.Nu(),r.asyncQueue.enqueueAndForget((async()=>(function(a,l){de(a).Ca.delete(l)})(await $l(r),t)))}}function N6(r,e,t,i){const a=(function(c,d){let m;return m=typeof c=="string"?s1().encode(c):c,(function(v,E){return new v6(v,E)})((function(v,E){if(v instanceof Uint8Array)return sA(v,E);if(v instanceof ArrayBuffer)return sA(new Uint8Array(v),E);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(m),d)})(t,vo(e));r.asyncQueue.enqueueAndForget((async()=>{_6(await yv(r),a,i)}))}function D6(r,e){return r.asyncQueue.enqueue((async()=>(function(i,a){const l=de(i);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Ii.getNamedQuery(c,a)))})(await lu(r),e)))}function mI(r,e){return(function(i,a){return new E6(i,a)})(r,e)}function V6(r,e){return r.asyncQueue.enqueue((async()=>(async function(i,a){const l=de(i),c=l.indexManager,d=[];return l.persistence.runTransaction("Configure indexes","readwrite",(m=>c.getFieldIndexes(m).next((g=>(function(E,w,x,P,L){E=[...E],w=[...w],E.sort(x),w.sort(x);const j=E.length,W=w.length;let ne=0,Q=0;for(;ne<W&&Q<j;){const ue=x(E[Q],w[ne]);ue<0?L(E[Q++]):ue>0?P(w[ne++]):(ne++,Q++)}for(;ne<W;)P(w[ne++]);for(;Q<j;)L(E[Q++])})(g,a,IM,(v=>{d.push(c.addFieldIndex(m,v))}),(v=>{d.push(c.deleteFieldIndex(m,v))})))).next((()=>z.waitFor(d)))))})(await lu(r),e)))}function O6(r,e){return r.asyncQueue.enqueue((async()=>(function(i,a){de(i).Fs.Vs=a})(await lu(r),e)))}function P6(r){return r.asyncQueue.enqueue((async()=>(function(t){const i=de(t),a=i.indexManager;return i.persistence.runTransaction("Delete All Indexes","readwrite",(l=>a.deleteAllFieldIndexes(l)))})(await lu(r))))}function pI(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const oA=new Map;const gI="firestore.googleapis.com",lA=!0;class uA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gI,this.ssl=lA}else this.host=e.host,this.ssl=e.ssl??lA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=w1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I1)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(K.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new ex;switch(i.type){case"firstParty":return new EM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=oA.get(t);i&&(oe("ComponentProvider","Removing Datastore"),oA.delete(t),i.terminate())})(this),Promise.resolve()}}function yI(r,e,t,i={}){r=Le(r,Th);const a=sa(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(fm(`https://${d}`),d_("Firestore",!0)),l.host!==gI&&l.host!==d&&Xn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Or(m,c)&&(r._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=an.MOCK_USER;else{g=nS(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(E)}r._authCredentials=new yM(new ZS(g,v))}}class Zt{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zt(this.firestore,e,this._query)}}class ot{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(_o(t,ot._jsonSchema))return new ot(e,i||null,new ce(ke.fromString(t.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:Xt("string",ot._jsonSchemaVersion),referencePath:Xt("string")};class Nr extends Zt{constructor(e,t,i){super(e,t,tu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new ce(e))}withConverter(e){return new Nr(this.firestore,e,this._path)}}function Vf(r,e,...t){if(r=ut(r),S_("collection","path",e),r instanceof Th){const i=ke.fromString(e,...t);return JT(i),new Nr(r,null,i)}{if(!(r instanceof ot||r instanceof Nr))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ke.fromString(e,...t));return JT(i),new Nr(r.firestore,null,i)}}function M6(r,e){if(r=Le(r,Th),S_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(K.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zt(r,null,(function(i){return new Yi(ke.emptyPath(),i)})(e))}function jc(r,e,...t){if(r=ut(r),arguments.length===1&&(e=ym.newId()),S_("doc","path",e),r instanceof Th){const i=ke.fromString(e,...t);return XT(i),new ot(r,null,new ce(i))}{if(!(r instanceof ot||r instanceof Nr))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ke.fromString(e,...t));return XT(i),new ot(r.firestore,r instanceof Nr?r.converter:null,new ce(i))}}function k6(r,e){return r=ut(r),e=ut(e),(r instanceof ot||r instanceof Nr)&&(e instanceof ot||e instanceof Nr)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function _v(r,e){return r=ut(r),e=ut(e),r instanceof Zt&&e instanceof Zt&&r.firestore===e.firestore&&gh(r._query,e._query)&&r.converter===e.converter}const cA="AsyncQueue";class hA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z_(this,"async_queue_retry"),this._c=()=>{const i=Df();i&&oe(cA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Df();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Df();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new on;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ua(e))throw e;oe(cA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ut("INTERNAL UNHANDLED ERROR: ",dA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=rv.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&ge(47125,{Pc:dA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function dA(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Rl(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(r,["next","error","complete"])}class _I{constructor(){this._progressObserver={},this._taskCompletionResolver=new on,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const L6=-1;class mt extends Th{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new hA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hA(e),this._firestoreClient=void 0,await e}}}function j6(r,e,t){t||(t=Xc);const i=Wl(r,"firestore");if(i.isInitialized(t)){const a=i.getImmediate({identifier:t}),l=i.getOptions(t);if(Or(l,e))return a;throw new ie(K.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ie(K.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<I1)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&sa(e.host)&&fm(e.host),i.initialize({options:e,instanceIdentifier:t})}function vI(r,e){const t=typeof r=="object"?r:p_(),i=typeof r=="string"?r:e||Xc,a=Wl(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=ZA("firestore");l&&yI(a,...l)}return a}function Ct(r){if(r._terminated)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||EI(r),r._firestoreClient}function EI(r){const e=r._freezeSettings(),t=(function(a,l,c,d){return new ok(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,pI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new w6(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}function U6(r,e){Xn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings();return bI(r,ra.provider,{build:i=>new pv(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function B6(r){Xn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=r._freezeSettings();bI(r,ra.provider,{build:t=>new lI(t,e.cacheSizeBytes)})}function bI(r,e,t){if((r=Le(r,mt))._firestoreClient||r._terminated)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new ie(K.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},EI(r)}function z6(r){if(r._initialized&&!r._terminated)throw new ie(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new on;return r._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(i){if(!ci.v())return Promise.resolve();const a=i+O1;await ci.delete(a)})(Y_(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function q6(r){return(function(t){const i=new on;return t.asyncQueue.enqueueAndForget((async()=>o6(await yv(t),i))),i.promise})(Ct(r=Le(r,mt)))}function F6(r){return A6(Ct(r=Le(r,mt)))}function H6(r){return S6(Ct(r=Le(r,mt)))}function G6(r){return UV(r.app,"firestore",r._databaseId.database),r._delete()}function Wy(r,e){const t=Ct(r=Le(r,mt)),i=new _I;return N6(t,r._databaseId,e,i),i}function TI(r,e){return D6(Ct(r=Le(r,mt)),e).then((t=>t?new Zt(r,null,t.query):null))}class Yl{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class wI{constructor(e,t,i){this._userDataWriter=t,this._data=i,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Dt.fromBase64String(e))}catch(t){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vn(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Xt("string",Vn._jsonSchemaVersion),bytes:Xt("string")};class fa{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function K6(){return new fa(Iy)}class ma{constructor(e){this._methodName=e}}class Dr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(_o(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:Xt("string",Dr._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};class hr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new hr(e.vectorValues);throw new ie(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:Xt("string",hr._jsonSchemaVersion),vectorValues:Xt("object")};const Q6=/^__.*__$/;class $6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}class AI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SI(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge(40011,{Ac:r})}}class jm{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return im(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SI(this.Ac)&&Q6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Y6{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||vo(e)}Cc(e,t,i,a=!1){return new jm({Ac:e,methodName:t,Dc:i,path:Tt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eo(r){const e=r._freezeSettings(),t=vo(r._databaseId);return new Y6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Um(r,e,t,i,a,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);Sv("Data must be an object, but it was:",c,i);const d=RI(i,c);let m,g;if(l.merge)m=new Pn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const E of l.mergeFields){const w=nh(e,E,t);if(!c.contains(w))throw new ie(K.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);NI(v,w)||v.push(w)}m=new Pn(v),g=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=c.fieldTransforms;return new $6(new pn(d),m,g)}class wh extends ma{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wh}}function xI(r,e,t){return new jm({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vv extends ma{_toFieldTransform(e){return new _h(e.path,new Bl)}isEqual(e){return e instanceof vv}}class Ev extends ma{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=xI(this,e,!0),i=this.vc.map((l=>bo(l,t))),a=new lo(i);return new _h(e.path,a)}isEqual(e){return e instanceof Ev&&Or(this.vc,e.vc)}}class bv extends ma{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=xI(this,e,!0),i=this.vc.map((l=>bo(l,t))),a=new uo(i);return new _h(e.path,a)}isEqual(e){return e instanceof bv&&Or(this.vc,e.vc)}}class Tv extends ma{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new zl(e.serializer,Yx(e.serializer,this.Fc));return new _h(e.path,t)}isEqual(e){return e instanceof Tv&&this.Fc===e.Fc}}function wv(r,e,t,i){const a=r.Cc(1,e,t);Sv("Data must be an object, but it was:",a,i);const l=[],c=pn.empty();ca(i,((m,g)=>{const v=Bm(e,m,t);g=ut(g);const E=a.yc(v);if(g instanceof wh)l.push(v);else{const w=bo(g,E);w!=null&&(l.push(v),c.set(v,w))}}));const d=new Pn(l);return new AI(c,d,a.fieldTransforms)}function Av(r,e,t,i,a,l){const c=r.Cc(1,e,t),d=[nh(e,i,t)],m=[a];if(l.length%2!=0)throw new ie(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(nh(e,l[w])),m.push(l[w+1]);const g=[],v=pn.empty();for(let w=d.length-1;w>=0;--w)if(!NI(g,d[w])){const x=d[w];let P=m[w];P=ut(P);const L=c.yc(x);if(P instanceof wh)g.push(x);else{const j=bo(P,L);j!=null&&(g.push(x),v.set(x,j))}}const E=new Pn(g);return new AI(v,E,c.fieldTransforms)}function II(r,e,t,i=!1){return bo(t,r.Cc(i?4:3,e))}function bo(r,e){if(CI(r=ut(r)))return Sv("Unsupported field value:",e,r),RI(r,e);if(r instanceof ma)return(function(i,a){if(!SI(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=bo(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Yx(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=tt.fromDate(i);return{timestampValue:ql(a.serializer,l)}}if(i instanceof tt){const l=new tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ql(a.serializer,l)}}if(i instanceof Dr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vn)return{bytesValue:l1(a.serializer,i._byteString)};if(i instanceof ot){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:F_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof hr)return(function(c,d){return{mapValue:{fields:{[V_]:{stringValue:O_},[Ll]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return L_(d.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${_m(i)}`)})(r,e)}function RI(r,e){const t={};return Tx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(r,((i,a)=>{const l=bo(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function CI(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof tt||r instanceof Dr||r instanceof Vn||r instanceof ot||r instanceof ma||r instanceof hr)}function Sv(r,e,t){if(!CI(t)||!rx(t)){const i=_m(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function nh(r,e,t){if((e=ut(e))instanceof fa)return e._internalPath;if(typeof e=="string")return Bm(r,e);throw im("Field path arguments must be of type string or ",r,!1,void 0,t)}const X6=new RegExp("[~\\*/\\[\\]]");function Bm(r,e,t){if(e.search(X6)>=0)throw im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new fa(...e.split("."))._internalPath}catch{throw im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function im(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ie(K.INVALID_ARGUMENT,d+r+m)}function NI(r,e){return r.some((t=>t.isEqual(e)))}class rh{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new J6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class J6 extends rh{data(){return super.data()}}function zm(r,e){return typeof e=="string"?Bm(r,e):e instanceof fa?e._internalPath:e._delegate._internalPath}function DI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xv{}class uu extends xv{}function Zy(r,e,...t){let i=[];e instanceof xv&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof To)).length,d=l.filter((m=>m instanceof cu)).length;if(c>1||c>0&&d>0)throw new ie(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class cu extends uu{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new cu(e,t,i)}_apply(e){const t=this._parse(e);return MI(e._query,t),new Zt(e.firestore,e.converter,jy(e._query,t))}_parse(e){const t=Eo(e.firestore);return(function(l,c,d,m,g,v,E){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ie(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){mA(E,v);const P=[];for(const L of E)P.push(fA(m,l,L));w={arrayValue:{values:P}}}else w=fA(m,l,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||mA(E,v),w=II(d,c,E,v==="in"||v==="not-in");return Ge.create(g,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function VI(r,e,t){const i=e,a=zm("where",r);return cu._create(a,i,t)}class To extends xv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new To(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:at.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)MI(c,m),c=jy(c,m)})(e._query,t),new Zt(e.firestore,e.converter,jy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W6(...r){return r.forEach((e=>kI("or",e))),To._create("or",r)}function Z6(...r){return r.forEach((e=>kI("and",e))),To._create("and",r)}class qm extends uu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qm(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zc(l,c)})(e._query,this._field,this._direction);return new Zt(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Yi(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function OI(r,e="asc"){const t=e,i=zm("orderBy",r);return qm._create(i,t)}class Ah extends uu{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Ah(e,t,i)}_apply(e){return new Zt(e.firestore,e.converter,Yf(e._query,this._limit,this._limitType))}}function eL(r){return ix("limit",r),Ah._create("limit",r,"F")}function tL(r){return ix("limitToLast",r),Ah._create("limitToLast",r,"L")}class Sh extends uu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Sh(e,t,i)}_apply(e){const t=PI(e,this.type,this._docOrFields,this._inclusive);return new Zt(e.firestore,e.converter,(function(a,l){return new Yi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(e._query,t))}}function nL(...r){return Sh._create("startAt",r,!0)}function rL(...r){return Sh._create("startAfter",r,!1)}class xh extends uu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new xh(e,t,i)}_apply(e){const t=PI(e,this.type,this._docOrFields,this._inclusive);return new Zt(e.firestore,e.converter,(function(a,l){return new Yi(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)})(e._query,t))}}function iL(...r){return xh._create("endBefore",r,!1)}function sL(...r){return xh._create("endAt",r,!0)}function PI(r,e,t,i){if(t[0]=ut(t[0]),t[0]instanceof rh)return(function(l,c,d,m,g){if(!m)throw new ie(K.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const v=[];for(const E of Il(l))if(E.field.isKeyField())v.push(ao(c,m.key));else{const w=m.data.field(E.field);if(wm(w))throw new ie(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const x=E.field.canonicalString();throw new ie(K.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}v.push(w)}return new ta(v,g)})(r._query,r.firestore._databaseId,e,t[0]._document,i);{const a=Eo(r.firestore);return(function(c,d,m,g,v,E){const w=c.explicitOrderBy;if(v.length>w.length)throw new ie(K.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let P=0;P<v.length;P++){const L=v[P];if(w[P].field.isKeyField()){if(typeof L!="string")throw new ie(K.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof L}`);if(!M_(c)&&L.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${L}' contains a slash.`);const j=c.path.child(ke.fromString(L));if(!ce.isDocumentKey(j))throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const W=new ce(j);x.push(ao(d,W))}else{const j=II(m,g,L);x.push(j)}}return new ta(x,E)})(r._query,r.firestore._databaseId,a,e,t,i)}}function fA(r,e,t){if(typeof(t=ut(t))=="string"){if(t==="")throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M_(e)&&t.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ke.fromString(t));if(!ce.isDocumentKey(i))throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ao(r,new ce(i))}if(t instanceof ot)return ao(r,t._key);throw new ie(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_m(t)}.`)}function mA(r,e){if(!Array.isArray(r)||r.length===0)throw new ie(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MI(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function kI(r,e){if(!(e instanceof cu||e instanceof To))throw new ie(K.INVALID_ARGUMENT,`Function ${r}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Iv{convertValue(e,t="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ca(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Ll].arrayValue?.values?.map((i=>It(i.doubleValue)));return new hr(t)}convertGeoPoint(e){return new Dr(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Am(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const t=Ki(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ke.fromString(e);ve(_1(i),9688,{name:e});const a=new Ws(i.get(1),i.get(3)),l=new ce(i.popFirst(5));return a.isEqual(t)||Ut(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Fm(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Rv extends Iv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,t)}}function aL(r){return new Yl("sum",nh("sum",r))}function oL(r){return new Yl("avg",nh("average",r))}function LI(){return new Yl("count")}function lL(r,e){return r instanceof Yl&&e instanceof Yl&&r.aggregateType===e.aggregateType&&r._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function uL(r,e){return _v(r.query,e.query)&&Or(r.data(),e.data())}const jI="NOT SUPPORTED";class Bi{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kn extends rh{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(zm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=kn._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}function cL(r,e,t){if(_o(e,kn._jsonSchema)){if(e.bundle===jI)throw new ie(K.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const i=vo(r._databaseId),a=mI(e.bundle,i),l=a.Wu(),c=new lv(a.getMetadata(),i);for(const v of l)c.Ga(v);const d=c.documents;if(d.length!==1)throw new ie(K.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${d.length} documents.`);const m=Rm(i,d[0].document),g=new ce(ke.fromString(e.bundleName));return new kn(r,new Rv(r),g,m,new Bi(!1,!1),t||null)}}kn._jsonSchemaVersion="firestore/documentSnapshot/1.0",kn._jsonSchema={type:Xt("string",kn._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Uc extends kn{data(e={}){return super.data(e)}}class Ln{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Bi(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Uc(this._firestore,this._userDataWriter,i.key,i,new Bi(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Uc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Bi(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Uc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Bi(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:dL(d.type),doc:m,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ln._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hL(r,e,t){if(_o(e,Ln._jsonSchema)){if(e.bundle===jI)throw new ie(K.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const i=vo(r._databaseId),a=mI(e.bundle,i),l=a.Wu(),c=new lv(a.getMetadata(),i);for(const w of l)c.Ga(w);if(c.queries.length!==1)throw new ie(K.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${c.queries.length} queries.`);const d=Nm(c.queries[0].bundledQuery),m=c.documents;let g=new no;m.map((w=>{const x=Rm(i,w.document);g=g.add(x)}));const v=po.fromInitialDocuments(d,g,Ne(),!1,!1),E=new Zt(r,t||null,d);return new Ln(r,new Rv(r),E,v)}}function dL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge(61501,{type:r})}}function fL(r,e){return r instanceof kn&&e instanceof kn?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(r._document===null?e._document===null:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Ln&&e instanceof Ln&&r._firestore===e._firestore&&_v(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function mL(r){r=Le(r,ot);const e=Le(r.firestore,mt);return dI(Ct(e),r._key).then((t=>Cv(e,r,t)))}Ln._jsonSchemaVersion="firestore/querySnapshot/1.0",Ln._jsonSchema={type:Xt("string",Ln._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class pa extends Iv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,t)}}function pL(r){r=Le(r,ot);const e=Le(r.firestore,mt),t=Ct(e),i=new pa(e);return x6(t,r._key).then((a=>new kn(e,i,r._key,a,new Bi(a!==null&&a.hasLocalMutations,!0),r.converter)))}function gL(r){r=Le(r,ot);const e=Le(r.firestore,mt);return dI(Ct(e),r._key,{source:"server"}).then((t=>Cv(e,r,t)))}function e_(r){r=Le(r,Zt);const e=Le(r.firestore,mt),t=Ct(e),i=new pa(e);return DI(r._query),fI(t,r._query).then((a=>new Ln(e,i,r,a)))}function yL(r){r=Le(r,Zt);const e=Le(r.firestore,mt),t=Ct(e),i=new pa(e);return I6(t,r._query).then((a=>new Ln(e,i,r,a)))}function _L(r){r=Le(r,Zt);const e=Le(r.firestore,mt),t=Ct(e),i=new pa(e);return fI(t,r._query,{source:"server"}).then((a=>new Ln(e,i,r,a)))}function vL(r,e,t){r=Le(r,ot);const i=Le(r.firestore,mt),a=Fm(r.converter,e,t);return hu(i,[Um(Eo(i),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Rt.none())])}function UI(r,e,t,...i){r=Le(r,ot);const a=Le(r.firestore,mt),l=Eo(a);let c;return c=typeof(e=ut(e))=="string"||e instanceof fa?Av(l,"updateDoc",r._key,e,t,i):wv(l,"updateDoc",r._key,e),hu(a,[c.toMutation(r._key,Rt.exists(!0))])}function BI(r){return hu(Le(r.firestore,mt),[new ru(r._key,Rt.none())])}function zI(r,e){const t=Le(r.firestore,mt),i=jc(r),a=Fm(r.converter,e);return hu(t,[Um(Eo(r.firestore),"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,Rt.exists(!1))]).then((()=>i))}function t_(r,...e){r=ut(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Rl(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Rl(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,c,d;if(r instanceof ot)c=Le(r.firestore,mt),d=tu(r._key.path),l={next:m=>{e[i]&&e[i](Cv(c,r,m))},error:e[i+1],complete:e[i+2]};else{const m=Le(r,Zt);c=Le(m.firestore,mt),d=m._query;const g=new pa(c);l={next:v=>{e[i]&&e[i](new Ln(c,g,m,v))},error:e[i+1],complete:e[i+2]},DI(r._query)}return(function(g,v,E,w){const x=new km(w),P=new ov(v,x,E);return g.asyncQueue.enqueueAndForget((async()=>iv(await $l(g),P))),()=>{x.Nu(),g.asyncQueue.enqueueAndForget((async()=>sv(await $l(g),P)))}})(Ct(c),d,a,l)}function EL(r,e,...t){const i=ut(r),a=(function(m){const g={bundle:"",bundleName:"",bundleSource:""},v=["bundle","bundleName","bundleSource"];for(const E of v){if(!(E in m)){g.error=`snapshotJson missing required field: ${E}`;break}const w=m[E];if(typeof w!="string"){g.error=`snapshotJson field '${E}' must be a string.`;break}if(w.length===0){g.error=`snapshotJson field '${E}' cannot be an empty string.`;break}E==="bundle"?g.bundle=w:E==="bundleName"?g.bundleName=w:E==="bundleSource"&&(g.bundleSource=w)}return g})(e);if(a.error)throw new ie(K.INVALID_ARGUMENT,a.error);let l,c=0;if(typeof t[c]!="object"||Rl(t[c])||(l=t[c++]),a.bundleSource==="QuerySnapshot"){let d=null;if(typeof t[c]=="object"&&Rl(t[c])){const m=t[c++];d={next:m.next,error:m.error,complete:m.complete}}else d={next:t[c++],error:t[c++],complete:t[c++]};return(function(g,v,E,w,x){let P,L=!1;return Wy(g,v.bundle).then((()=>TI(g,v.bundleName))).then((W=>{W&&!L&&(x&&W.withConverter(x),P=t_(W,E||{},w))})).catch((W=>(w.error&&w.error(W),()=>{}))),()=>{L||(L=!0,P&&P())}})(i,a,l,d,t[c])}if(a.bundleSource==="DocumentSnapshot"){let d=null;if(typeof t[c]=="object"&&Rl(t[c])){const m=t[c++];d={next:m.next,error:m.error,complete:m.complete}}else d={next:t[c++],error:t[c++],complete:t[c++]};return(function(g,v,E,w,x){let P,L=!1;return Wy(g,v.bundle).then((()=>{if(!L){const W=new ot(g,x||null,ce.fromPath(v.bundleName));P=t_(W,E||{},w)}})).catch((W=>(w.error&&w.error(W),()=>{}))),()=>{L||(L=!0,P&&P())}})(i,a,l,d,t[c])}throw new ie(K.INVALID_ARGUMENT,`unsupported bundle source: ${a.bundleSource}`)}function bL(r,e){return C6(Ct(r=Le(r,mt)),Rl(e)?e:{next:e})}function hu(r,e){return(function(i,a){const l=new on;return i.asyncQueue.enqueueAndForget((async()=>r6(await yv(i),a,l))),l.promise})(Ct(r),e)}function Cv(r,e,t){const i=t.docs.get(e._key),a=new pa(r);return new kn(r,a,e._key,i,new Bi(t.hasPendingWrites,t.fromCache),e.converter)}function TL(r){return qI(r,{count:LI()})}function qI(r,e){const t=Le(r.firestore,mt),i=Ct(t),a=bx(e,((l,c)=>new n1(c,l.aggregateType,l._internalFieldPath)));return R6(i,r._query,a).then((l=>(function(d,m,g){const v=new pa(d);return new wI(m,v,g)})(t,r,l)))}class wL{constructor(e){this.kind="memory",this._onlineComponentProvider=ra.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new mv(void 0)}}toJSON(){return{kind:this.kind}}}class AL{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=FI(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class SL{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Ql.provider}toJSON(){return{kind:this.kind}}}class xL{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new mv(e)}}toJSON(){return{kind:this.kind}}}function IL(){return new SL}function RL(r){return new xL(r?.cacheSizeBytes)}function CL(r){return new wL(r)}function NL(r){return new AL(r)}class DL{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ra.provider,this._offlineComponentProvider={build:t=>new pv(t,e?.cacheSizeBytes,this.forceOwnership)}}}class VL{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ra.provider,this._offlineComponentProvider={build:t=>new lI(t,e?.cacheSizeBytes)}}}function FI(r){return new DL(r?.forceOwnership)}function OL(){return new VL}const PL={maxAttempts:5};class HI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Eo(e)}set(e,t,i){this._verifyNotCommitted();const a=Hs(e,this._firestore),l=Fm(a.converter,t,i),c=Um(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,Rt.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=Hs(e,this._firestore);let c;return c=typeof(t=ut(t))=="string"||t instanceof fa?Av(this._dataReader,"WriteBatch.update",l._key,t,i,a):wv(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Rt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Hs(e,this._firestore);return this._mutations=this._mutations.concat(new ru(t._key,Rt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hs(r,e){if((r=ut(r)).firestore!==e)throw new ie(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class ML{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Eo(e)}get(e){const t=Hs(e,this._firestore),i=new Rv(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return ge(24041);const l=a[0];if(l.isFoundDocument())return new rh(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new rh(this._firestore,i,t._key,null,t.converter);throw ge(18433,{doc:l})}))}set(e,t,i){const a=Hs(e,this._firestore),l=Fm(a.converter,t,i),c=Um(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,c),this}update(e,t,i,...a){const l=Hs(e,this._firestore);let c;return c=typeof(t=ut(t))=="string"||t instanceof fa?Av(this._dataReader,"Transaction.update",l._key,t,i,a):wv(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Hs(e,this._firestore);return this._transaction.delete(t._key),this}}class GI extends ML{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Hs(e,this._firestore),i=new pa(this._firestore);return super.get(e).then((a=>new kn(this._firestore,i,t._key,a._document,new Bi(!1,!1),t.converter)))}}function kL(r,e,t){r=Le(r,mt);const i={...PL,...t};return(function(l){if(l.maxAttempts<1)throw new ie(K.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(l,c,d){const m=new on;return l.asyncQueue.enqueueAndForget((async()=>{const g=await hI(l);new T6(l.asyncQueue,g,d,c,m).ju()})),m.promise})(Ct(r),(a=>e(new GI(r,a))),i)}function LL(){return new wh("deleteField")}function jL(){return new vv("serverTimestamp")}function UL(...r){return new Ev("arrayUnion",r)}function BL(...r){return new bv("arrayRemove",r)}function zL(r){return new Tv("increment",r)}function qL(r){return new hr(r)}function FL(r){return Ct(r=Le(r,mt)),new HI(r,(e=>hu(r,e)))}function HL(r,e){const t=Ct(r=Le(r,mt));if(!t._uninitializedComponentsProvider||t._uninitializedComponentsProvider._offline.kind==="memory")return Xn("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=(function(l){const c=typeof l=="string"?(function(g){try{return JSON.parse(g)}catch(v){throw new ie(K.INVALID_ARGUMENT,"Failed to parse JSON: "+v?.message)}})(l):l,d=[];if(Array.isArray(c.indexes))for(const m of c.indexes){const g=pA(m,"collectionGroup"),v=[];if(Array.isArray(m.fields))for(const E of m.fields){const w=Bm("setIndexConfiguration",pA(E,"fieldPath"));E.arrayConfig==="CONTAINS"?v.push(new eo(w,2)):E.order==="ASCENDING"?v.push(new eo(w,0)):E.order==="DESCENDING"&&v.push(new eo(w,1))}d.push(new Dl(Dl.UNKNOWN_ID,g,v,Vl.empty()))}return d})(e);return V6(t,i)}function pA(r,e){if(typeof r[e]!="string")throw new ie(K.INVALID_ARGUMENT,"Missing string value for: "+e);return r[e]}class KI{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function GL(r){r=Le(r,mt);const e=gA.get(r);if(e)return e;if(Ct(r)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const i=new KI(r);return gA.set(r,i),i}function KL(r){QI(r,!0)}function QL(r){QI(r,!1)}function $L(r){P6(Ct(r._firestore)).then((e=>oe("deleting all persistent cache indexes succeeded"))).catch((e=>Xn("deleting all persistent cache indexes failed",e)))}function QI(r,e){O6(Ct(r._firestore),e).then((t=>oe(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((t=>Xn(`setting persistent cache index auto creation isEnabled=${e} failed`,t)))}const gA=new WeakMap;function YL(r){const e=Ct(Le(r.firestore,mt)),t=e._onlineComponents?.datastore.serializer;return t===void 0?null:Cm(t,bn(r._query)).ft}function XL(r,e){const t=bx(e,((l,c)=>new n1(c,l.aggregateType,l._internalFieldPath))),i=Ct(Le(r.firestore,mt)),a=i._onlineComponents?.datastore.serializer;return a===void 0?null:m1(a,Bx(r._query),t,!0).request}class JL{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return Nv.instance.onExistenceFilterMismatch(e)}}class Nv{constructor(){this.Mc=new Map}static get instance(){return df||(df=new Nv,(function(t){if(Uy)throw new Error("a TestingHooksSpi instance is already set");Uy=t})(df)),df}lt(e){this.Mc.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),i=this.Mc;return i.set(t,e),()=>i.delete(t)}}let df=null;(function(e,t=!0){(function(a){eu=a})(go),ro(new Xs("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new mt(new _M(i.getProvider("auth-internal")),new bM(c,i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ws(g.options.projectId,v)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),oi($T,YT,e),oi($T,YT,"esm2020")})();const WL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Iv,AggregateField:Yl,AggregateQuerySnapshot:wI,Bytes:Vn,CACHE_SIZE_UNLIMITED:L6,CollectionReference:Nr,DocumentReference:ot,DocumentSnapshot:kn,FieldPath:fa,FieldValue:ma,Firestore:mt,FirestoreError:ie,GeoPoint:Dr,LoadBundleTask:_I,PersistentCacheIndexManager:KI,Query:Zt,QueryCompositeFilterConstraint:To,QueryConstraint:uu,QueryDocumentSnapshot:Uc,QueryEndAtConstraint:xh,QueryFieldFilterConstraint:cu,QueryLimitConstraint:Ah,QueryOrderByConstraint:qm,QuerySnapshot:Ln,QueryStartAtConstraint:Sh,SnapshotMetadata:Bi,Timestamp:tt,Transaction:GI,VectorValue:hr,WriteBatch:HI,_AutoId:ym,_ByteString:Dt,_DatabaseId:Ws,_DocumentKey:ce,_EmptyAppCheckTokenProvider:TM,_EmptyAuthCredentialsProvider:ex,_FieldPath:Tt,_TestingHooks:JL,_cast:Le,_debugAssert:gM,_internalAggregationQueryToProtoRunAggregationQueryRequest:XL,_internalQueryToProtoQueryTarget:YL,_isBase64Available:sk,_logWarn:Xn,_validateIsNotUsedTogether:nx,addDoc:zI,aggregateFieldEqual:lL,aggregateQuerySnapshotEqual:uL,and:Z6,arrayRemove:BL,arrayUnion:UL,average:oL,clearIndexedDbPersistence:z6,collection:Vf,collectionGroup:M6,connectFirestoreEmulator:yI,count:LI,deleteAllPersistentCacheIndexes:$L,deleteDoc:BI,deleteField:LL,disableNetwork:H6,disablePersistentCacheIndexAutoCreation:QL,doc:jc,documentId:K6,documentSnapshotFromJSON:cL,enableIndexedDbPersistence:U6,enableMultiTabIndexedDbPersistence:B6,enableNetwork:F6,enablePersistentCacheIndexAutoCreation:KL,endAt:sL,endBefore:iL,ensureFirestoreConfigured:Ct,executeWrite:hu,getAggregateFromServer:qI,getCountFromServer:TL,getDoc:mL,getDocFromCache:pL,getDocFromServer:gL,getDocs:e_,getDocsFromCache:yL,getDocsFromServer:_L,getFirestore:vI,getPersistentCacheIndexManager:GL,increment:zL,initializeFirestore:j6,limit:eL,limitToLast:tL,loadBundle:Wy,memoryEagerGarbageCollector:IL,memoryLocalCache:CL,memoryLruGarbageCollector:RL,namedQuery:TI,onSnapshot:t_,onSnapshotResume:EL,onSnapshotsInSync:bL,or:W6,orderBy:OI,persistentLocalCache:NL,persistentMultipleTabManager:OL,persistentSingleTabManager:FI,query:Zy,queryEqual:_v,querySnapshotFromJSON:hL,refEqual:k6,runTransaction:kL,serverTimestamp:jL,setDoc:vL,setIndexConfiguration:HL,setLogLevel:pM,snapshotEqual:fL,startAfter:rL,startAt:nL,sum:aL,terminate:G6,updateDoc:UI,vector:qL,waitForPendingWrites:q6,where:VI,writeBatch:FL},Symbol.toStringTag,{value:"Module"}));const $I="firebasestorage.googleapis.com",ZL="storageBucket",e3=120*1e3,t3=600*1e3;class gi extends pi{constructor(e,t,i=0){super(dy(e),`Firebase Storage: ${t} (${dy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fi||(fi={}));function dy(r){return"storage/"+r}function n3(){const r="An unknown error occurred, please check the error payload for server response.";return new gi(fi.UNKNOWN,r)}function r3(){return new gi(fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i3(){return new gi(fi.CANCELED,"User canceled the upload/download.")}function s3(r){return new gi(fi.INVALID_URL,"Invalid URL '"+r+"'.")}function a3(r){return new gi(fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function yA(r){return new gi(fi.INVALID_ARGUMENT,r)}function YI(){return new gi(fi.APP_DELETED,"The Firebase app was deleted.")}function o3(r){return new gi(fi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Cr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Cr.makeFromUrl(e,t)}catch{return new Cr(e,"")}if(i.path==="")return i;throw a3(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const v="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${E}/${v}/b/${a}/o${w}`,"i"),P={bucket:1,path:3},L=t===$I?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",W=new RegExp(`^https?://${L}/${a}/${j}`,"i"),Q=[{regex:d,indices:m,postModify:l},{regex:x,indices:P,postModify:g},{regex:W,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<Q.length;ue++){const pe=Q[ue],ee=pe.regex.exec(e);if(ee){const R=ee[pe.indices.bucket];let I=ee[pe.indices.path];I||(I=""),i=new Cr(R,I),pe.postModify(i);break}}if(i==null)throw s3(e);return i}}class l3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function u3(r,e,t){let i=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function v(...j){g||(g=!0,e.apply(null,j))}function E(j){a=setTimeout(()=>{a=null,r(x,m())},j)}function w(){l&&clearTimeout(l)}function x(j,...W){if(g){w();return}if(j){w(),v.call(null,j,...W);return}if(m()||c){w(),v.call(null,j,...W);return}i<64&&(i*=2);let Q;d===1?(d=2,Q=0):Q=(i+Math.random())*1e3,E(Q)}let P=!1;function L(j){P||(P=!0,w(),!g&&(a!==null?(j||(d=2),clearTimeout(a),E(0)):j||(d=1)))}return E(0),l=setTimeout(()=>{c=!0,L(!0)},t),L}function c3(r){r(!1)}function h3(r){return r!==void 0}function _A(r,e,t,i){if(i<e)throw yA(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>t)throw yA(`Invalid value for '${r}'. Expected ${t} or less.`)}function d3(r){const e=encodeURIComponent;let t="?";for(const i in r)if(r.hasOwnProperty(i)){const a=e(i)+"="+e(r[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var sm;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(sm||(sm={}));function f3(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||a||l}class m3{constructor(e,t,i,a,l,c,d,m,g,v,E,w=!0,x=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,L)=>{this.resolve_=P,this.reject_=L,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new ff(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===sm.NO_ERROR,m=l.getStatus();if(!d||f3(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===sm.ABORT;i(!1,new ff(!1,null,v));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new ff(g,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());h3(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=n3();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?YI():i3();c(m)}else{const m=r3();c(m)}};this.canceled_?t(!1,new ff(!1,null,!0)):this.backoffId_=u3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&c3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ff{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function p3(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function g3(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y3(r,e){e&&(r["X-Firebase-GMPID"]=e)}function _3(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function v3(r,e,t,i,a,l,c=!0,d=!1){const m=d3(r.urlParams),g=r.url+m,v=Object.assign({},r.headers);return y3(v,e),p3(v,t),g3(v,l),_3(v,i),new m3(g,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,c,d)}function E3(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function b3(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class am{constructor(e,t){this._service=e,t instanceof Cr?this._location=t:this._location=Cr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new am(e,t)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b3(this._location.path)}get storage(){return this._service}get parent(){const e=E3(this._location.path);if(e===null)return null;const t=new Cr(this._location.bucket,e);return new am(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw o3(e)}}function vA(r,e){const t=e?.[ZL];return t==null?null:Cr.makeFromBucketSpec(t,r)}function T3(r,e,t,i={}){r.host=`${e}:${t}`;const a=sa(e);a&&(fm(`https://${r.host}/b`),d_("Storage",!0)),r._isUsingEmulator=!0,r._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(r._overrideAuthToken=typeof l=="string"?l:nS(l,r.app.options.projectId))}class w3{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=$I,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e3,this._maxUploadRetryTime=t3,this._requests=new Set,a!=null?this._bucket=Cr.makeFromBucketSpec(a,this._host):this._bucket=vA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=vA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_A("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_A("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new am(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new l3(YI());{const c=v3(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const EA="@firebase/storage",bA="0.14.0";const XI="storage";function A3(r=p_(),e){r=ut(r);const i=Wl(r,XI).getImmediate({identifier:e}),a=ZA("storage");return a&&S3(i,...a),i}function S3(r,e,t,i={}){T3(r,e,t,i)}function x3(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new w3(t,i,a,e,go)}function I3(){ro(new Xs(XI,x3,"PUBLIC").setMultipleInstances(!0)),oi(EA,bA,""),oi(EA,bA,"esm2020")}I3();const R3={apiKey:"AIzaSyBkxA8j3wMKe35OmBaC5I66dIEIVBp5wCY",authDomain:"achariyacareerportal.firebaseapp.com",projectId:"achariyacareerportal",storageBucket:"achariyacareerportal.firebasestorage.app",messagingSenderId:"833209254200",appId:"1:833209254200:web:503076e5609d334121c1cd"},Dv=uS(R3),mf=fM(Dv),gl=vI(Dv);A3(Dv);const yl="jobs",fy=(r,e)=>({id:r,...e,location:Array.isArray(e.location)?e.location:e.location?[e.location]:[],center:Array.isArray(e.center)?e.center:e.center?[e.center]:[]}),Gs={getAllJobs:async()=>{try{const r=Zy(Vf(gl,yl),OI("createdAt","desc"));return(await e_(r)).docs.map(t=>fy(t.id,t.data()))}catch(r){throw console.error("Error fetching jobs:",r),r}},getJobById:async r=>{try{const e=jc(gl,yl,r),t=await vD(()=>Promise.resolve().then(()=>WL),[]).then(i=>i.getDoc(e));return t.exists()?fy(t.id,t.data()):null}catch(e){throw console.error("Error fetching job by ID:",e),e}},getJobByApplicationId:async r=>{try{const e=Zy(Vf(gl,yl),VI("applicationId","==",r)),t=await e_(e);if(!t.empty){const i=t.docs[0];return fy(i.id,i.data())}return null}catch(e){throw console.error("Error fetching job by Application ID:",e),e}},addJob:async r=>{try{return(await zI(Vf(gl,yl),{...r,createdAt:new Date().toISOString()})).id}catch(e){throw console.error("Error adding job:",e),e}},updateJob:async(r,e)=>{try{const t=jc(gl,yl,r),{id:i,...a}=e;await UI(t,a)}catch(t){throw console.error("Error updating job:",t),t}},deleteJob:async r=>{try{await BI(jc(gl,yl,r))}catch(e){throw console.error("Error deleting job:",e),e}}},C3="/assets/college_campus_modern_1767347532376-DvXjtGmV.png",N3="/assets/school_modern_classroom_1767347506078-S4Yg-54F.png",D3="/assets/corporate_modern_office_1767347559347-Dpg8oMzW.png";function V3(){const[r,e]=q.useState({School:0,College:0,Corporate:0}),[t,i]=q.useState(!0);q.useEffect(()=>{(async()=>{try{const d=await Gs.getAllJobs();e({School:d.filter(m=>m.category==="School").length,College:d.filter(m=>m.category==="College").length,Corporate:d.filter(m=>m.category==="Corporate").length})}catch(d){console.error(d)}finally{i(!1)}})()},[]);const a=c=>t?"":r[c],l=r.School+r.College+r.Corporate;return _.jsxs("div",{className:"min-h-screen font-sans text-gray-900 overflow-x-hidden",children:[_.jsxs("main",{className:" bg-white/70 container mx-auto",children:[_.jsxs("section",{id:"openings",className:"text-center pt-16 pb-10 md:px-0 px-4 max-w-5xl mx-auto",children:[_.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:["Build Your Career with"," ",_.jsx("span",{className:"text-[#C72323]",children:"ACHARIYA"})]}),_.jsx("p",{className:" text-gray-600",children:"Join a multi-institutional education group dedicated to shaping future leaders through a strong ecosystem that spans Schools, Colleges, and Corporate divisions, fostering academic excellence, practical skills, and industry-ready professionals."})]}),_.jsx("section",{id:"categories",className:"max-w-7xl mx-auto px-6 mb-12",children:_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"School",img:N3,icon:_.jsx(I2,{}),desc:"Teaching & Non-Teaching roles",count:a("School"),link:"/school"},{title:"College",img:C3,icon:_.jsx(U2,{}),desc:"Faculty & Academic roles",count:a("College"),link:"/college"},{title:"Corporate",img:D3,icon:_.jsx(S2,{}),desc:"Tech, HR & Management roles",count:a("Corporate"),link:"/corporate"}].map((c,d)=>_.jsxs(jn,{to:c.link,className:"group relative h-96 rounded-xl overflow-hidden shadow-xl hover:-translate-y-2 transition-all",children:[_.jsx("img",{src:c.img,alt:c.title,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),_.jsxs("span",{className:"absolute top-4 right-4 bg-white text-black px-3 py-1 rounded-full text-sm font-semibold shadow",children:[c.count," Openings"]}),_.jsxs("div",{className:"absolute bottom-0 p-6 text-white",children:[_.jsx("div",{className:"w-12 h-12 bg-[#C72323] rounded-lg flex items-center justify-center mb-4",children:c.icon}),_.jsx("h3",{className:"text-2xl font-bold mb-1",children:c.title}),_.jsx("p",{className:"text-sm text-white/80 mb-4",children:c.desc}),_.jsxs("span",{className:"inline-flex items-center gap-2 bg-white text-black px-4 py-2 rounded-full font-medium",children:["View Openings ",_.jsx(b2,{size:16})]})]})]},d))})}),_.jsx("div",{className:"bg-[#ffff] pt-5",children:_.jsx("section",{className:"max-w-7xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-6 mb-20",children:[{label:"Institutions",value:"36+"},{label:"Employees",value:"1500+"},{label:"Years of Excellence",value:"25+"},{label:"Open Positions",value:l,link:"#openings"}].map((c,d)=>_.jsxs("a",{href:c.link,className:"bg-[#ffff] border border-gray-400 rounded-xl  shadow-sm py-8 text-center hover:shadow-md transition",children:[_.jsx("p",{className:"text-4xl font-extrabold text-[#C72323]",children:t?"":c.value}),_.jsx("p",{className:"text-sm text-gray-600 mt-2",children:c.label})]},d))})}),_.jsxs("section",{className:"py-20 mb-16 text-center bg-gradient-to-r from-[#C72323] to-red-700 text-white",children:[_.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Shape the Future?"}),_.jsx("p",{className:"max-w-xl mx-auto mb-8 text-white/90",children:"Explore opportunities and become part of a growing education ecosystem."}),_.jsx(jn,{to:"/all-openings",className:"bg-white text-[#C72323] px-8 py-4 rounded-full font-semibold hover:scale-105 transition",children:"View All Openings"})]}),_.jsxs("section",{className:"max-w-6xl mx-auto px-6 mb-12",children:[_.jsx("div",{className:"text-center mb-10",children:_.jsxs("h2",{className:"text-3xl font-bold mb-4",children:["Who We Are",_.jsx("span",{className:"text-[#C72323]",children:" !"})]})}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:_.jsx(z2,{}),title:"Inclusive Culture",desc:"Respect, diversity, and collaboration at every level."},{icon:_.jsx(lD,{}),title:"Career Growth",desc:"Clear pathways, learning programs, and mentorship."},{icon:_.jsx(gD,{}),title:"Impactful Work",desc:"Contribute to meaningful education initiatives."}].map((c,d)=>_.jsxs("div",{className:"bg-white/70 border border-gray-300 p-8 rounded-xl shadow-sm hover:shadow-md transition text-center",children:[_.jsx("div",{className:"w-12 h-12 mx-auto bg-[#C72323]/10 text-[#C72323] rounded-full flex items-center justify-center mb-4",children:c.icon}),_.jsx("h3",{className:"font-bold mb-2",children:c.title}),_.jsx("p",{className:"text-gray-600 text-sm",children:c.desc})]},d))})]})]}),_.jsxs("footer",{className:"bg-gray-900 text-gray-400 py-10 text-center",children:[_.jsx("p",{className:"text-white font-semibold mb-2",children:"ACHARIYA Careers"}),_.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," Achariya Group. All rights reserved."]})]})]})}function O3({openings:r}){const e=lm();return _.jsx("section",{className:"space-y-12 backdrop-blur-sm bg-white/60 p-6 rounded-2xl",children:_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(t=>_.jsxs("button",{onClick:()=>{const i=t.applicationId||t.id;e(`/${t.category}/${i}`)},className:"border border-gray-200 text-left transition-all p-6 rounded-xl flex flex-col h-full hover:border-gray-400 hover:shadow-md",children:[_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:t.roleTitle}),t.department==="-"||t.department===""?null:_.jsxs("span",{className:`flex items-center text-[12px] ${t.department==="teaching"?"text-gray-600":"text-[#CE2580]"}`,children:[_.jsx(cm,{className:"w-3 h-3 mr-1 shrink-0"}),_.jsx("span",{className:"truncate",children:t.department})]})]}),_.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 mb-4",children:[_.jsxs("span",{className:"flex items-center",children:[_.jsx(hm,{className:"w-4 h-4 mr-1 shrink-0"}),_.jsx("span",{className:"truncate",children:Array.isArray(t.location)?t.location.join(", "):t.location})]}),t.experience==="-"||t.experience===""?null:_.jsxs("span",{className:"flex items-center border-l border-gray-400 ps-3",children:[_.jsx(w2,{className:"w-4 h-4 mr-1 shrink-0"}),_.jsx("span",{className:"truncate",children:t.experience})]})]})]}),_.jsx("span",{className:"inline-block text-blue-600 font-semibold text-sm mt-auto",children:"Apply Now "})]},t.id))})})}function pf({category:r}){const[e,t]=q.useState([]),[i,a]=q.useState(!0),[l,c]=q.useState(""),[d,m]=q.useState("all"),[g,v]=q.useState("all"),[E,w]=q.useState("all");q.useEffect(()=>{(async()=>{try{a(!0);const ue=await Gs.getAllJobs();t(r==="All"?ue:ue.filter(pe=>pe.category===r)),console.log(ue)}catch(ue){console.error("Error fetching jobs:",ue)}finally{a(!1)}})()},[r]);const x=q.useMemo(()=>Array.from(new Set(e.map(Q=>Q.department))).sort(),[e]),P=q.useMemo(()=>{const Q=e.flatMap(ue=>Array.isArray(ue.location)?ue.location:[ue.location]);return Array.from(new Set(Q)).sort()},[e]),L=q.useMemo(()=>e.filter(Q=>{const ue=l.toLowerCase(),pe=[Q.roleTitle,Q.department,Q.location,Q.applicationId,Q.description,...Q.skills||[],...Q.qualifications||[]].join(" ").toLowerCase(),ee=!ue||pe.includes(ue),R=d==="all"||Q.department===d,I=g==="all"||(Array.isArray(Q.location)?Q.location.includes(g):Q.location===g);let C=!0;if(E!=="all"&&Q.datePosted){const k=new Date(Q.datePosted).getTime(),U=(Date.now()-k)/(1e3*3600*24);switch(E){case"7days":C=U<=7;break;case"30days":C=U<=30;break;case"6months":C=U<=180;break}}return ee&&R&&I&&C}),[e,l,d,g,E]),j={School:"blue-600",College:"teal-700",Corporate:"teal-500",Others:"gray-500",All:"teal-600"},W=()=>{c(""),m("all"),v("all"),w("all")},ne=l||d!=="all"||g!=="all"||E!=="all";return i?_.jsx("div",{className:"min-h-screen bg-white/80 container mx-auto flex items-center justify-center",children:_.jsx(zc,{className:"w-8 h-8 animate-spin text-teal-600"})}):_.jsxs("div",{className:"min-h-screen",children:[_.jsx("div",{className:"container mx-auto ",children:_.jsxs(jn,{to:"/",className:"inline-flex items-center ms-5 text-gray-600 hover:text-gray-600 py-4 transition-colors",children:[_.jsx(Pf,{className:"w-5 h-5 mr-2"}),"Back to All Categories"]})}),_.jsx("header",{className:`text-${j[r]}  container  px-4 mx-auto `,children:_.jsx("div",{className:"bg-gray-200 p-3 rounded-xl",children:_.jsx("div",{className:"container mx-auto bg-gray-100  rounded-2xl shadow-lg px-4 sm:px-6 lg:px-8 pt-8 pb-10",children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"bg-white/20 p-2 rounded-xl backdrop-blur-sm",children:_.jsx("img",{src:"/logo.png",alt:"ACHARIYA",className:"h-14 w-14 object-contain"})}),_.jsxs("div",{children:[_.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:[r," Openings"]}),_.jsxs("p",{className:"text-gray-600/90 text-lg mt-1 font-medium",children:[e.length," positions available"]})]})]})})})}),_.jsxs("div",{className:"container mx-auto px-4 py-8 -mt-6",children:[_.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-gray-100 p-6 mb-4",children:[_.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Search Jobs"}),_.jsxs("div",{className:"relative group",children:[_.jsx(KA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),_.jsx("input",{type:"text",placeholder:"Search by role, skill, ID (e.g. AWCE-...), or keyword...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",value:l,onChange:Q=>c(Q.target.value)})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 xl:w-auto",children:[_.jsxs("div",{className:"flex-1 min-w-[200px]",children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Department"}),_.jsxs("div",{className:"relative",children:[_.jsx(cm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsxs("select",{value:d,onChange:Q=>m(Q.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[_.jsx("option",{value:"all",children:"All Departments"}),x.map(Q=>_.jsx("option",{value:Q,children:Q},Q))]})]})]}),_.jsxs("div",{className:"flex-1 min-w-[200px]",children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Location"}),_.jsxs("div",{className:"relative",children:[_.jsx(hm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsxs("select",{value:g,onChange:Q=>v(Q.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[_.jsx("option",{value:"all",children:"All Locations"}),P.map(Q=>_.jsx("option",{value:Q,children:Q},Q))]})]})]}),_.jsxs("div",{className:"flex-1 min-w-[200px]",children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Posted Date"}),_.jsxs("div",{className:"relative",children:[_.jsx(c_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsxs("select",{value:E,onChange:Q=>w(Q.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[_.jsx("option",{value:"all",children:"Anytime"}),_.jsx("option",{value:"7days",children:"Last 7 Days"}),_.jsx("option",{value:"30days",children:"Last 30 Days"}),_.jsx("option",{value:"6months",children:"Last 6 Months"})]})]})]})]})]}),ne&&_.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[_.jsxs("div",{className:"text-sm text-gray-500",children:["Found"," ",_.jsx("span",{className:"font-bold text-gray-900",children:L.length})," ","matches based on your filters."]}),_.jsxs("button",{onClick:W,className:"flex items-center text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[_.jsx(Tl,{className:"w-4 h-4 mr-1"}),"Clear Filters"]})]})]}),_.jsx("div",{className:"space-y-6",children:L.length>0?_.jsx(O3,{openings:L}):_.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-12 text-center border border-gray-200 shadow-sm",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:_.jsx(GA,{className:"w-8 h-8 text-gray-400"})}),_.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No jobs found"}),_.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mb-6",children:"We couldn't find any positions matching your specific criteria. Try adjusting your filters or search terms."}),_.jsx("div",{className:"flex justify-center gap-2 flex-row",children:_.jsxs(jn,{to:"/",className:"btn-primary flex items-center gap-1 rounded btn py-3 px-6",children:[_.jsx(Pf,{size:16})," Back"]})})]})})]})]})}const n_="https://script.google.com/macros/s/AKfycbzS0jBNjTSAyKMVfwGYBHXrHURcieHcw3Psl1zk2tGogJJLcevFKWE_VUQMO4i9J5Y/exec";console.log(n_);async function P3(r){const t=new Date().toISOString().slice(0,10).replace(/-/g,""),i=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),a=`REF-${t}-${i}`;try{const l=await M3(r.resume),c={referenceId:a,timestamp:new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata"}),category:r.category||"",roleTitle:r.roleTitle||"",location:r.location||"",fullName:r.fullName||"",dob:r.dob||"",email:r.email||"",phone:r.phone||"",previousCompany:r.previousCompany||"",previousDOJ:r.previousDOJ||"",lastWorkingDate:r.lastWorkingDate||"",noticePeriodDays:r.noticePeriodDays||"",lastWorkingDay:r.lastWorkingDay||"",currentCTC:r.currentCTC||"",expectedCTC:r.expectedCTC||"",experience:r.experience||"",preferredLocation:r.preferredLocation||"",preferredCampuses:r.preferredCampuses&&r.preferredCampuses.length>0?r.preferredCampuses.join(", "):"",resumeFileName:r.resume.name,resumeFileType:r.resume.type,resumeBase64:l};await fetch(n_,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:JSON.stringify(c)}),console.log("Application submitted successfully");try{const d=JSON.parse(localStorage.getItem("applications")||"[]"),{resumeBase64:m,...g}=c;d.push({...g,savedAt:new Date().toISOString()}),localStorage.setItem("applications",JSON.stringify(d))}catch(d){console.warn("Failed to save to localStorage backup",d)}return a}catch(l){throw console.error("Submission error:",l),l}}function M3(r){return new Promise((e,t)=>{const i=new FileReader;i.readAsDataURL(r),i.onload=()=>{const l=i.result.split(",")[1];e(l)},i.onerror=a=>t(a)})}const k3=["Teaching","Non Teaching"],bc=["Puducherry","Chennai","Karaikal","Trichy","Erode","Coimbatore","Villupuram","Tindivanam","Corporate"],L3={Puducherry:["ABSM THENGAITHITTU","AKLAVYA THENGAITHITTU","ASM HSS VILLIANUR","ASM THAVALAKUPPAM","ASM MOOLAKULAM","AKLAVYA REDDIARPALAYAM","ASM MUTHIRAIYARPALAYAM","ASTHM ANNA NAGAR","ABSM GORIMEDU","ABSM LAWSPET","ABSM MUTHIALPET","ABSM KALAPET","ABSM VENKATA NAGAR","AKLAVYA ANUGRAHA","ASM VILLIANUR (9-12)","ASM VILLIANUR (MONT - 8)","SSV VILLIANUR","AASC","ACET"],Karaikal:["ASM KARAIKAL"],Coimbatore:["ACHARIYA WESTERN GHATS"],Trichy:["ASM TRICHY","ABSM TRICHY"],Tindivanam:["ABSM TINDIVANAM"],Villupuram:["ASM VILLUPURAM"],Chennai:["ASM CHENNAI","ABSM ADYAR","ABSM KK NAGAR","ABSM VALASARAVAKKAM","ABSM PADHMANABA NAGAR","ABSM DASARATHAPURAM","ABSM SALIGRAMAM","ABSM RK NAGAR","ABSM ALAPAKKAM","ABSM THIRU NAGAR","ABSM MADURAVOYAL","ABSM NOLAMBUR"],Erode:["ERODE FEEDER CENTER","PERUNDURAI FEEDER CENTER","ASM ERODE"],Corporate:["Corporate"]},TA={Chennai:["Adyar","Alapakkam","Nolambur","Valasaravakkam","KK Nagar","Saligramam","Thirunagar","RK Nagar","Dasarathapuram","Maduravoyal"],Puducherry:["Villianur","Moolakulam","Rediarpalayam","Muthiraiyarpalayam","Lawspet","Muthialpet","SV Patel","Kalapet","Thavalakuppam","Periyakatupalayam","Thengaithittu","Gorimedu"]};function r_({type:r,title:e,message:t,isOpen:i,onClose:a,onConfirm:l,confirmLabel:c="Confirm",cancelLabel:d="Cancel"}){if(!i)return null;const m=()=>{switch(r){case"success":return _.jsx(HA,{className:"w-12 h-12 text-green-500 mx-auto mb-3"});case"error":return _.jsx(D2,{className:"w-12 h-12 text-red-500 mx-auto mb-3"});case"confirmation":return _.jsx(P2,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"});default:return _.jsx(H2,{className:"w-12 h-12 text-teal-500 mx-auto mb-3"})}},g=()=>{switch(r){case"error":return"btn-secondary text-red-600 border-red-200 hover:bg-red-50";case"confirmation":return"btn-primary";case"success":return"btn-primary bg-green-600 hover:bg-green-700 border-none";default:return"btn-primary"}};return _.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:_.jsxs("div",{className:"card max-w-sm w-full text-center p-6 shadow-2xl transform transition-all scale-100 animate-in fade-in zoom-in duration-200",children:[m(),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e}),_.jsx("p",{className:"text-gray-600 mb-6",children:t}),_.jsx("div",{className:"flex gap-3 justify-center",children:r==="confirmation"?_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:a,className:"btn-secondary w-full",children:d}),_.jsx("button",{onClick:()=>{l&&l(),a()},className:"btn-primary w-full",children:c})]}):_.jsx("button",{onClick:a,className:`${g()} w-full`,children:"OK"})})]})})}function j3({opening:r,onClose:e}){const t=lm(),[i,a]=q.useState(!1),[l,c]=q.useState(null),[d,m]=q.useState("experienced"),[g,v]=q.useState({isOpen:!1,type:"info",title:"",message:""}),E=(ee,R,I,C)=>{v({isOpen:!0,type:ee,title:R,message:I,onConfirm:C})},w=()=>{v(ee=>({...ee,isOpen:!1}))},[x,P]=q.useState({fullName:"",dob:"",email:"",phone:"",previousCompany:"",previousDOJ:"",lastWorkingDate:"",noticePeriodDays:"",lastWorkingDay:"",currentCTC:"",expectedCTC:"",experience:"",preferredLocation:"",preferredCampuses:[],consent:!1}),L=Array.isArray(r.location)?r.location:[r.location];q.useEffect(()=>{L.length===1&&P(ee=>({...ee,preferredLocation:L[0]}))},[r.id]);const j=ee=>{const R=ee.target.files?.[0];if(R){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(R.type)){E("error","Invalid File Type","Please upload only PDF or Word documents");return}if(R.size>1048576){E("error","File Too Large","File size must be less than 1MB");return}c(R)}},W=ee=>/^[a-zA-Z\s]*$/.test(ee),ne=ee=>/^\d{0,10}$/.test(ee),Q=ee=>/^\d*$/.test(ee),ue=ee=>/^\d*\.?\d*$/.test(ee),pe=async ee=>{if(ee.preventDefault(),!l){E("error","Internal Validation","Please upload your resume");return}if(x.phone.length!==10){E("error","Validation Error","Phone number must be exactly 10 digits");return}if(!x.preferredLocation){E("error","Validation Error","Please select a preferred location");return}if((x.preferredLocation==="Chennai"||x.preferredLocation==="Puducherry")&&x.preferredCampuses.length===0){E("error","Validation Error","Please select at least one campus preference");return}if(!x.consent){E("error","Consent Required","Please confirm that the details are correct");return}a(!0);try{if(!l)return;const R=await P3({...x,preferredLocation:x.preferredLocation,preferredCampuses:x.preferredCampuses,category:r.category,roleTitle:r.roleTitle,location:L.join(", "),resume:l});t("/thank-you",{state:{referenceId:R,candidateName:x.fullName,category:r.category,role:r.roleTitle}})}catch(R){console.error("Submission error:",R),t("/submission-failure",{state:{error:R instanceof Error?R.message:"Application submission failed"}})}};return _.jsxs(_.Fragment,{children:[g.isOpen&&_.jsx(r_,{isOpen:g.isOpen,type:g.type,title:g.title,message:g.message,onClose:w,onConfirm:g.onConfirm}),_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] flex flex-col relative",children:[_.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 p-6 rounded-t-lg",children:[_.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600",children:_.jsx(Tl,{className:"w-6 h-6"})}),_.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Apply for Position"}),_.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[r.roleTitle,"  ",r.category," "," ",L.join(", ")]})]}),_.jsxs("form",{onSubmit:pe,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"text",required:!0,placeholder:"Your Full Name",className:"input-field",value:x.fullName,onChange:ee=>{W(ee.target.value)&&P({...x,fullName:ee.target.value})}})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Birth ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"date",required:!0,className:"input-field",value:x.dob,onChange:ee=>P({...x,dob:ee.target.value})})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"email",required:!0,className:"input-field",placeholder:"youremail@example.com",value:x.email,onChange:ee=>P({...x,email:ee.target.value})})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mobile ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"tel",required:!0,maxLength:10,className:"input-field",placeholder:"10-digit mobile",value:x.phone,onChange:ee=>{ne(ee.target.value)&&P({...x,phone:ee.target.value})}})]})]}),_.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[_.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Experience Details"}),_.jsxs("div",{className:"flex gap-6 mb-6",children:[_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"experienceType",className:"w-4 h-4 text-blue-600",checked:d==="fresher",onChange:()=>{m("fresher"),P({...x,experience:"0",currentCTC:"0",previousCompany:"",previousDOJ:"",lastWorkingDate:"",noticePeriodDays:""})}}),_.jsx("span",{className:"font-medium text-gray-700",children:"Fresher"})]}),_.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[_.jsx("input",{type:"radio",name:"experienceType",className:"w-4 h-4 text-blue-600",checked:d==="experienced",onChange:()=>{m("experienced"),P({...x,experience:"",currentCTC:""})}}),_.jsx("span",{className:"font-medium text-gray-700",children:"Experienced"})]})]}),d==="experienced"&&_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Experience (In Years)"," ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"text",required:!0,className:"input-field",value:x.experience,placeholder:"e.g. 2",onChange:ee=>{ue(ee.target.value)&&P({...x,experience:ee.target.value})}})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Previous Company ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"text",placeholder:"Your Most Recent Company",required:!0,className:"input-field",value:x.previousCompany,onChange:ee=>{W(ee.target.value)&&P({...x,previousCompany:ee.target.value})}})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Joining (Previous Company)"," ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"date",required:!0,className:"input-field",value:x.previousDOJ,onChange:ee=>P({...x,previousDOJ:ee.target.value})})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Working Date ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"date",required:!0,className:"input-field",value:x.lastWorkingDate,onChange:ee=>P({...x,lastWorkingDate:ee.target.value})})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Notice Period (Days)"," ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"number",required:!0,placeholder:"e.g. 15",min:"0",className:"input-field",value:x.noticePeriodDays,onChange:ee=>{Q(ee.target.value)&&P({...x,noticePeriodDays:ee.target.value})}})]})]})]}),_.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[_.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Compensation & Preference"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d==="experienced"&&_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current CTC (in  Lakhs)"," ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"e.g. 2.5",min:"0",className:"input-field",value:x.currentCTC,onChange:ee=>P({...x,currentCTC:ee.target.value})})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected CTC (in  Lakhs)"," ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"e.g. 2.5",min:"0",className:"input-field",value:x.expectedCTC,onChange:ee=>P({...x,expectedCTC:ee.target.value})})]}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Preferred Location ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsxs("select",{required:!0,className:"input-field",value:x.preferredLocation,onChange:ee=>P({...x,preferredLocation:ee.target.value}),disabled:L.length===1,children:[_.jsx("option",{value:"",children:"Select Location"}),L.map(ee=>_.jsx("option",{value:ee,children:ee},ee))]})]}),(x.preferredLocation==="Chennai"||x.preferredLocation==="Puducherry")&&TA[x.preferredLocation]&&_.jsxs("div",{className:"col-span-1 md:col-span-3 bg-gray-50 p-4 rounded-lg border border-gray-200 mt-2",children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select Preferred Campus(es) for"," ",x.preferredLocation," ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 max-h-48 overflow-y-auto",children:TA[x.preferredLocation].map(ee=>_.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[_.jsx("input",{type:"checkbox",value:ee,checked:x.preferredCampuses.includes(ee),onChange:R=>{const I=x.preferredCampuses;let C;R.target.checked?C=[...I,ee]:C=I.filter(k=>k!==ee),P({...x,preferredCampuses:C})},className:"rounded text-blue-600 focus:ring-blue-500 h-4 w-4"}),_.jsx("span",{className:"text-sm text-gray-700",children:ee})]},ee))})]})]})]}),_.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[_.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Resume Upload"}),_.jsxs("div",{children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload Resume (PDF or Word, max 1MB)"," ",_.jsx("span",{className:"text-red-500",children:"*"})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("label",{className:"btn-secondary cursor-pointer",children:[_.jsx(hD,{className:"w-4 h-4 mr-2"}),"Choose File",_.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:j,className:"hidden"})]}),l&&_.jsxs("span",{className:"text-sm text-green-600 flex items-center",children:[" ",l.name," (",(l.size/1024).toFixed(0)," ","KB)"]})]})]})]}),_.jsx("div",{className:"border-t border-gray-200 pt-6",children:_.jsxs("label",{className:"flex items-start gap-3",children:[_.jsx("input",{type:"checkbox",required:!0,className:"mt-1",checked:x.consent,onChange:ee=>P({...x,consent:ee.target.checked})}),_.jsx("span",{className:"text-sm text-gray-700",children:"I confirm that the above details are correct and I agree to be contacted by ACHARIYA HR team regarding this application."})]})}),_.jsxs("div",{className:"flex gap-3 justify-end pt-6 border-t border-gray-200",children:[_.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:i,children:"Cancel"}),_.jsx("button",{type:"submit",className:"btn-primary",disabled:i,children:i?_.jsxs(_.Fragment,{children:[_.jsx(zc,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Application"})]}),i&&_.jsxs("div",{className:"flex gap-2 p-3 max-w-[80%] ms-auto justify-end border-b border-yellow-500 bg-yellow-50 pt-2",children:[_.jsx(QA,{size:20,className:"text-yellow-500"}),_.jsx("p",{className:"text-end text-sm text-gray-800 capitalize",children:"Please Don't Refresh Or Leave the tab while submitting Your Application !"})]})]})]})})]})}function U3(){const{applicationId:r}=vN(),[e,t]=q.useState(null),[i,a]=q.useState(!0),[l,c]=q.useState(!1),[d,m]=q.useState("");return q.useEffect(()=>{(async()=>{if(r)try{a(!0);let v=await Gs.getJobByApplicationId(r);v||(v=await Gs.getJobById(r)),v?(t(v),console.log(v)):m("Job not found.")}catch(v){console.error("Failed to load job details",v),m("Failed to load job details.")}finally{a(!1)}})()},[r]),i?_.jsx("div",{className:"min-h-screen bg-white/80 container mx-auto flex items-center justify-center",children:_.jsx(zc,{className:"w-8 h-8 animate-spin text-teal-600"})}):d||!e?_.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center space-y-4",children:[_.jsx("p",{className:"text-xl text-gray-500",children:d||"Job not found"}),_.jsx(jn,{to:"/",className:"btn-primary",children:"Back to Home"})]}):_.jsxs("div",{className:"min-h-screen pb-12 pt-6 px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"max-w-7xl mx-auto",children:[_.jsxs(jn,{to:`/${e.category.toLowerCase()}`,className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[_.jsx(Pf,{className:"w-5 h-5 mr-2"}),"Back to ",e.category," Openings"]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[_.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-8 border-b border-gray-100",children:_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[_.jsxs("span",{className:"text-xs font-mono bg-white text-gray-500 px-2 py-1 rounded border border-gray-200 shadow-sm",children:["ID: ",e.applicationId||"N/A"]}),_.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold tracking-wide uppercase ${e.category==="School"?"bg-blue-100 text-blue-700":e.category==="College"?"bg-purple-100 text-purple-700":"bg-teal-100 text-teal-700"}`,children:e.category})]}),_.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2",children:e.roleTitle}),_.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mt-3",children:[e.department==="-"||e.department===""?null:_.jsxs("span",{className:"flex items-center bg-white px-3 py-1 rounded-full shadow-sm",children:[_.jsx(cm,{className:"w-4 h-4 mr-2"}),e.department]}),_.jsxs("span",{className:"flex items-center bg-white px-3 py-1 rounded-full shadow-sm",children:[_.jsx(hm,{className:"w-4 h-4 mr-2"}),Array.isArray(e.location)?e.location.join(", "):e.location]}),_.jsxs("span",{className:"flex items-center bg-white px-3 py-1 rounded-full shadow-sm",children:[_.jsx(c_,{className:"w-4 h-4 mr-2"}),"Posted:"," ",e.datePosted?new Date(e.datePosted).toLocaleDateString():"N/A"]})]})]}),_.jsx("button",{onClick:()=>c(!0),className:"btn-primary shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all text-lg px-8 py-3 whitespace-nowrap",children:"Apply Now"})]})}),_.jsxs("div",{className:"p-8 space-y-8",children:[_.jsxs("div",{className:"p-6 bg-gray-50 rounded-xl border border-gray-200",children:[_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 ",children:[_.jsxs("div",{children:[_.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Experience"}),_.jsx("span",{className:"text-gray-900 font-medium",children:e.experience||"Not Specified"})]}),_.jsxs("div",{children:[_.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"No.of.Openings"}),_.jsx("span",{className:"text-gray-900 font-medium",children:e.numberOfPositions||"Not Specified"})]}),_.jsxs("div",{children:[_.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Location"}),_.jsx("span",{className:"text-gray-900 font-medium",children:Array.isArray(e.location)?e.location.join(", "):e.location||"Not Specified"})]}),_.jsxs("div",{children:[_.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Last Updated"}),_.jsx("span",{className:"text-gray-900 font-medium",children:e.lastUpdated?new Date(e.lastUpdated).toLocaleDateString():"N/A"})]})]}),_.jsxs("div",{className:"mt-5",children:[_.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Center"}),_.jsx("span",{className:"text-gray-900 font-medium capitalize normal-case",children:e.center?e.center.map(g=>g).join(", "):"N/A"})]})]}),_.jsxs("section",{className:"prose prose-blue max-w-none",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Job Description"}),_.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:e.description})]}),e.responsibilities&&e.responsibilities.length>0&&_.jsxs("section",{children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Key Responsibilities"}),_.jsx("ul",{className:"grid grid-cols-1 gap-2",children:e.responsibilities.map((g,v)=>_.jsxs("li",{className:"flex items-start",children:[_.jsx("span",{className:"mr-3 text-blue-500 bg-blue-100 rounded-full p-1 mt-1",children:_.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),_.jsx("span",{className:"text-gray-700",children:g})]},v))})]}),e.skills&&e.skills.length>0&&_.jsxs("section",{children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Required Skills"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((g,v)=>_.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 text-blue-700 rounded-lg text-sm font-medium",children:g},v))})]}),e.qualifications&&e.qualifications.length>0&&_.jsxs("section",{children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Qualifications"}),_.jsx("ul",{className:"grid grid-cols-1 gap-2",children:e.qualifications.map((g,v)=>_.jsxs("li",{className:"flex items-start",children:[_.jsx("span",{className:"mr-3 text-teal-500 bg-teal-100 rounded-full p-1 mt-1",children:_.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),_.jsx("span",{className:"text-gray-700",children:g})]},v))})]}),e.eligibility&&e.eligibility.length>0&&_.jsxs("section",{children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Eligibility Criteria"}),_.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:e.eligibility.map((g,v)=>_.jsx("li",{children:g},v))})]})]}),_.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 text-center",children:[_.jsx("p",{className:"text-gray-600 mb-4",children:"Interested in this role?"}),_.jsx("button",{onClick:()=>c(!0),className:"btn-primary text-lg px-12 py-3 shadow-md hover:shadow-lg",children:"Apply Application"})]})]})]}),l&&e&&_.jsx(j3,{opening:e,onClose:()=>c(!1)})]})}function B3(){const r=$i(),e=r.state?.referenceId||"REF-DEMO-0000",t=r.state?.candidateName||"Candidate",i=r.state?.category||"General",a=r.state?.role||"Position";return _.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-teal-50 flex items-center justify-center p-4",children:_.jsxs("div",{className:"card max-w-2xl w-full text-center ",style:{boxShadow:"6px 6px 6px 6px rgba(0, 0, 0, 0.1)"},children:[_.jsx(HA,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),_.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Application Submitted Successfully!"}),_.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Thank you, ",_.jsx("strong",{children:t}),". Your application has been received."]}),_.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 text-left",children:[_.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Application Summary"}),_.jsxs("div",{className:"space-y-2 text-sm",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:"Reference ID:"}),_.jsx("span",{className:"font-mono font-bold text-teal-600",children:e})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:"Category:"}),_.jsx("span",{className:"font-medium text-gray-900",children:i})]}),_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-gray-600",children:"Position:"}),_.jsx("span",{className:"font-medium text-gray-900",children:a})]})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[_.jsxs(jn,{to:"/",className:"btn-primary",children:[_.jsx(h_,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),_.jsx(jn,{to:"/",className:"btn-secondary",children:"Apply to Another Role"})]}),_.jsx("p",{className:"text-xs text-gray-500 mt-6",children:"Our HR team will review your application and contact you within 5-7 business days."})]})})}function z3(){const r=lm(),[e,t]=q.useState(null),[i,a]=q.useState(!0),[l,c]=q.useState(!1),[d,m]=q.useState(!1),[g,v]=q.useState({isOpen:!1,type:"info",title:"",message:""}),[E,w]=q.useState(""),[x,P]=q.useState(""),[L,j]=q.useState(!1),[W,ne]=q.useState([]),[Q,ue]=q.useState(""),[pe,ee]=q.useState("all"),[R,I]=q.useState("all"),[C,k]=q.useState("all"),[O,U]=q.useState(null),[N,nt]=q.useState(!1),[le,X]=q.useState({category:"Corporate",roleTitle:"",department:"",location:["Puducherry"],center:[],experience:"",numberOfPositions:"",description:"",responsibilities:[""],qualifications:[""],skills:[""],eligibility:[""]});q.useEffect(()=>{const J=tP(mf,Me=>{t(Me),a(!1)});return()=>J()},[]),q.useEffect(()=>{e&&fe()},[e]);const fe=async()=>{try{const J=await Gs.getAllJobs();ne(J)}catch(J){console.error("Failed to load jobs",J)}},Te=q.useMemo(()=>W.filter(J=>{const Me=Q.toLowerCase(),Pe=Array.isArray(J.location)?J.location.join(" "):J.location,We=[J.roleTitle,J.department,Pe,J.applicationId,J.description,...J.skills||[],...J.qualifications||[]].join(" ").toLowerCase(),yt=!Me||We.includes(Me),gn=pe==="all"||J.department===pe,wt=R==="all"||(Array.isArray(J.location)?J.location.includes(R):J.location===R);let At=!0;if(C!=="all"&&J.datePosted){const Mr=new Date(J.datePosted).getTime(),es=(Date.now()-Mr)/(1e3*3600*24);switch(C){case"7days":At=es<=7;break;case"30days":At=es<=30;break;case"6months":At=es<=180;break}}return yt&&gn&&wt&&At}),[W,Q,pe,R,C]),ze=()=>{ue(""),ee("all"),I("all"),k("all")},Je=Q||pe!=="all"||R!=="all"||C!=="all",V=(J,Me,Pe,We)=>{v({isOpen:!0,type:J,title:Me,message:Pe,onConfirm:We})},se=()=>{v(J=>({...J,isOpen:!1}))},me=async J=>{J.preventDefault(),m(!0);try{L?(await JO(mf,E,x),V("success","Welcome!","Account created! You are now logged in.")):await WO(mf,E,x)}catch(Me){V("error","Authentication Failed",Me.message)}finally{m(!1)}},ye=async()=>{await nP(mf),r("/")},Ie=()=>`AWCE-${Math.floor(1e5+Math.random()*9e5).toString()}`,Re=()=>{if(!le.roleTitle?.trim())return V("error","Validation Error","Role Title is required"),!1;if(!le.department?.trim())return V("error","Validation Error","Department is required"),!1;if(!le.location||le.location.length===0)return V("error","Validation Error","At least one Location is required"),!1;if(!le.numberOfPositions?.toString().trim())return V("error","Validation Error","Number of Positions is required"),!1;if(!le.experience?.trim())return V("error","Validation Error","Experience is required"),!1;if(!le.description?.trim())return V("error","Validation Error","Job Description is required"),!1;const J=le.qualifications?.filter(yt=>yt.trim());if(!J||J.length===0)return V("error","Validation Error","At least one Qualification is required"),!1;const Me=le.skills?.filter(yt=>yt.trim());if(!Me||Me.length===0)return V("error","Validation Error","At least one Skill is required"),!1;const Pe=le.responsibilities?.filter(yt=>yt.trim());if(!Pe||Pe.length===0)return V("error","Validation Error","At least one Responsibility is required"),!1;const We=le.eligibility?.filter(yt=>yt.trim());return!We||We.length===0?(V("error","Validation Error","At least one Eligibility criterion is required"),!1):!0},je=async()=>{if(Re())try{const J=new Date().toISOString(),Me=le.location?.filter(We=>We.trim().length>0)||[],Pe={applicationId:Ie(),category:le.category,roleTitle:le.roleTitle||"",department:le.department||"",location:Me.length>0?Me:["Puducherry"],center:le.center||[],experience:le.experience||"",numberOfPositions:le.numberOfPositions||"",description:le.description||"",responsibilities:le.responsibilities?.filter(We=>We.trim())||[],qualifications:le.qualifications?.filter(We=>We.trim())||[],skills:le.skills?.filter(We=>We.trim())||[],eligibility:le.eligibility?.filter(We=>We.trim())||[],datePosted:J,lastUpdated:J};await Gs.addJob(Pe),await fe(),nt(!1),fr(),V("success","Success","Job opening added successfully.")}catch(J){console.error(J),V("error","Error","Failed to add job opening.")}},Vt=async()=>{if(O&&Re())try{const J=le.location?.filter(Pe=>Pe.trim().length>0)||[],Me={category:le.category,roleTitle:le.roleTitle||"",department:le.department||"",location:J.length>0?J:["Puducherry"],center:le.center||[],experience:le.experience||"",numberOfPositions:le.numberOfPositions||"",description:le.description||"",responsibilities:le.responsibilities?.filter(Pe=>Pe.trim())||[],qualifications:le.qualifications?.filter(Pe=>Pe.trim())||[],skills:le.skills?.filter(Pe=>Pe.trim())||[],eligibility:le.eligibility?.filter(Pe=>Pe.trim())||[],lastUpdated:new Date().toISOString()};await Gs.updateJob(O,Me),await fe(),U(null),fr(),V("success","Success","Job opening updated successfully.")}catch(J){console.error(J),V("error","Error","Failed to update job opening.")}},gt=async J=>{V("confirmation","Delete Opening","Are you sure you want to delete this job opening? This action cannot be undone.",async()=>{try{c(!0),await Gs.deleteJob(J),ne(Me=>Me.filter(Pe=>Pe.id!==J)),setTimeout(()=>{c(!1),V("success","Deleted","Job opening has been deleted.")},300)}catch{V("error","Error","Failed to delete job.")}finally{c(!1)}})},yi=()=>{window.scrollTo({top:0,behavior:"smooth"})},Zi=J=>{yi(),U(J.id),X({...J,location:Array.isArray(J.location)?J.location:[J.location||"Puducherry"],center:Array.isArray(J.center)?J.center:J.center?[J.center]:[],responsibilities:J.responsibilities?.length?J.responsibilities:[""],qualifications:J.qualifications?.length?J.qualifications:[""],skills:J.skills?.length?J.skills:[""],eligibility:J.eligibility?.length?J.eligibility:[""]})},fr=()=>{X({category:"Corporate",roleTitle:"",department:"",location:["Puducherry"],center:[],experience:"",numberOfPositions:"",description:"",responsibilities:[""],qualifications:[""],skills:[""],eligibility:[""]})};return i?_.jsx("div",{className:"min-h-screen bg-white/80 container mx-auto flex items-center justify-center",children:_.jsx(zc,{className:"w-8 h-8 animate-spin text-teal-600"})}):l?_.jsx("div",{className:"min-h-screen bg-white/80 container mx-auto flex items-center justify-center",children:_.jsx(zc,{className:"w-8 h-8 animate-spin text-teal-600"})}):e?_.jsxs("div",{className:"min-h-screen ",children:[_.jsx(r_,{isOpen:g.isOpen,type:g.type,title:g.title,message:g.message,onClose:se,onConfirm:g.onConfirm}),_.jsx("header",{className:"bg-white border-b border-gray-200",children:_.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Manage ",W.length," job openings"]})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("button",{onClick:()=>nt(!0),className:"btn-primary",children:[_.jsx(eD,{className:"w-4 h-4 mr-2"}),"Add Opening"]}),_.jsxs("button",{onClick:ye,className:"btn-secondary flex gap-1 text-red-600 hover:bg-red-50",children:[_.jsx(Y2,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),_.jsxs("main",{className:"container mx-auto bg-white/70 px-4 sm:px-6 lg:px-8 py-8",children:[(N||O)&&_.jsxs("div",{className:"p-6 mb-6 border border-gray-20",children:[_.jsxs("div",{className:"flex justify-between items-center mb-4",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-900",children:O?"Edit Opening":"Add New Opening"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:O?Vt:je,className:"btn-primary",children:[_.jsx(pT,{className:"w-4 h-4 mr-2"}),O?"Update":"Add"," Opening"]}),_.jsx("button",{onClick:()=>{nt(!1),U(null),fr()},className:"bg-[#FF0000] p-2 text-white rounded-full",children:_.jsx(Tl,{size:20,className:" text-white-400 "})})]})]}),_.jsx("h3",{className:"font-semibold text-gray-800 mb-3 border-b pb-1",children:"Basic Information"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),_.jsxs("select",{className:"input-field",required:!0,value:le.category,onChange:J=>X({...le,category:J.target.value}),children:[_.jsx("option",{value:"School",children:"School"}),_.jsx("option",{value:"College",children:"College"}),_.jsx("option",{value:"Corporate",children:"Corporate"}),_.jsx("option",{value:"Others",children:"Others"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Title"}),_.jsx("input",{type:"text",required:!0,className:"input-field",value:le.roleTitle,onChange:J=>X({...le,roleTitle:J.target.value})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),_.jsxs("select",{required:!0,className:"input-field",value:le.department,onChange:J=>X({...le,department:J.target.value}),children:[_.jsx("option",{value:"",children:"Select Department"}),_.jsx("option",{value:"Teaching",children:"Teaching"}),_.jsx("option",{value:"Non Teaching",children:"Non Teaching"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),_.jsxs("div",{className:"flex flex-col gap-2 max-h-40 overflow-y-auto border p-2 rounded",children:[_.jsxs("label",{className:"flex items-center gap-2 mb-2 pb-2 border-b",children:[_.jsx("input",{required:!0,type:"checkbox",className:"rounded text-blue-600 focus:ring-blue-500 font-bold",checked:bc.length>0&&le.location?.length===bc.length,onChange:J=>{J.target.checked?X({...le,location:[...bc]}):X({...le,location:[]})}}),_.jsx("span",{className:"font-semibold text-sm",children:"Select All"})]}),bc.map(J=>_.jsxs("label",{className:"flex items-center gap-2",children:[_.jsx("input",{type:"checkbox",value:J,checked:le.location?.includes(J),onChange:Me=>{const Pe=le.location||[];let We;Me.target.checked?We=[...Pe,J]:We=Pe.filter(yt=>yt!==J),X({...le,location:We})}}),J]},J))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Center"}),_.jsxs("div",{className:"flex flex-col gap-2 max-h-40 overflow-y-auto border p-2 rounded",children:[(le.location||[]).map(J=>{const Me=L3[J]||[];return Me.length===0?null:_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center justify-between mb-1",children:[_.jsx("p",{className:"font-semibold text-xs text-gray-500",children:J}),_.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[_.jsx("input",{type:"checkbox",className:"h-3 w-3 rounded text-blue-600 focus:ring-blue-500",checked:Me.every(Pe=>le.center?.includes(Pe)),onChange:Pe=>{let yt=[...le.center||[]];Pe.target.checked?Me.forEach(gn=>{yt.includes(gn)||yt.push(gn)}):yt=yt.filter(gn=>!Me.includes(gn)),X({...le,center:yt})}}),_.jsx("span",{className:"text-[10px] text-blue-600 font-medium",children:"Select All"})]})]}),Me.map(Pe=>_.jsxs("label",{className:"flex items-center gap-2 ml-2",children:[_.jsx("input",{type:"checkbox",value:Pe,checked:le.center?.includes(Pe),onChange:We=>{const yt=le.center||[];let gn;We.target.checked?gn=[...yt,Pe]:gn=yt.filter(wt=>wt!==Pe),X({...le,center:gn})}}),Pe]},Pe))]},J)}),(!le.location||le.location.length===0)&&_.jsx("p",{className:"text-sm text-gray-500 italic",children:"Select a location first to see available centers."})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. of Positions"}),_.jsx("input",{type:"text",className:"input-field",value:le.numberOfPositions,onChange:J=>X({...le,numberOfPositions:J.target.value}),placeholder:"e.g. 5"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience Required"}),_.jsx("input",{type:"text",className:"input-field",value:le.experience,onChange:J=>X({...le,experience:J.target.value}),placeholder:"e.g. 2-5 Years"})]})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Description"}),_.jsx("textarea",{className:"input-field",required:!0,rows:3,value:le.description,onChange:J=>X({...le,description:J.target.value})})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualifications (one per line)"}),_.jsx("textarea",{className:"input-field",rows:4,value:le.qualifications?.join(`
`),onChange:J=>X({...le,qualifications:J.target.value.split(`
`)}),placeholder:"e.g. B.Tech in CS"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Required Skills (one per line)"}),_.jsx("textarea",{className:"input-field",rows:4,value:le.skills?.join(`
`),onChange:J=>X({...le,skills:J.target.value.split(`
`)}),placeholder:"e.g. React.js\\nNode.js"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Responsibilities (one per line)"}),_.jsx("textarea",{className:"input-field",rows:4,value:le.responsibilities?.join(`
`),onChange:J=>X({...le,responsibilities:J.target.value.split(`
`)})})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Eligibility & Other Requirements (one per line)"}),_.jsx("textarea",{className:"input-field",rows:4,value:le.eligibility?.join(`
`),onChange:J=>X({...le,eligibility:J.target.value.split(`
`)})})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:O?Vt:je,className:"btn-primary",children:[_.jsx(pT,{className:"w-4 h-4 mr-2"}),O?"Update":"Add"," Opening"]}),_.jsxs("button",{onClick:()=>{nt(!1),U(null),fr()},className:"border border-gray-400 bg-gray-200 hover:bg-gray-400 flex py-2 px-4 items-center rounded-lg text-gray-900",children:[_.jsx(Tl,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})]}),_.jsxs(jn,{to:"/",className:"flex pb-3 items-center gap-2 text-blue-600",children:[_.jsx(Pf,{size:18})," Back To Home"]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 mb-6",children:[_.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Search Jobs"}),_.jsxs("div",{className:"relative group",children:[_.jsx(KA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),_.jsx("input",{type:"text",placeholder:"Search by role, skill, ID (e.g. AWCE-...), or keyword...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",value:Q,onChange:J=>ue(J.target.value)})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 xl:w-auto",children:[_.jsxs("div",{className:"flex-1 min-w-[200px]",children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Department"}),_.jsxs("div",{className:"relative",children:[_.jsx(cm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsxs("select",{value:pe,onChange:J=>ee(J.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[_.jsx("option",{value:"all",children:"All Departments"}),k3.map(J=>_.jsx("option",{value:J,children:J},J))]})]})]}),_.jsxs("div",{className:"flex-1 min-w-[200px]",children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Location"}),_.jsxs("div",{className:"relative",children:[_.jsx(hm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsxs("select",{value:R,onChange:J=>I(J.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[_.jsx("option",{value:"all",children:"All Locations"}),bc.map(J=>_.jsx("option",{value:J,children:J},J))]})]})]}),_.jsxs("div",{className:"flex-1 min-w-[200px]",children:[_.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Posted Date"}),_.jsxs("div",{className:"relative",children:[_.jsx(c_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),_.jsxs("select",{value:C,onChange:J=>k(J.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[_.jsx("option",{value:"all",children:"Anytime"}),_.jsx("option",{value:"7days",children:"Last 7 Days"}),_.jsx("option",{value:"30days",children:"Last 30 Days"}),_.jsx("option",{value:"6months",children:"Last 6 Months"})]})]})]})]})]}),Je&&_.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[_.jsxs("div",{className:"text-sm text-gray-500",children:["Found"," ",_.jsx("span",{className:"font-bold text-gray-900",children:Te.length})," ","matches based on your filters."]}),_.jsxs("button",{onClick:ze,className:"flex items-center text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[_.jsx(Tl,{className:"w-4 h-4 mr-1 bg-red"}),"Clear Filters"]})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 w-full gap-6",children:Te.map(J=>_.jsx("div",{className:"border border-gray-200  rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow bg-white/70",children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:" gap-2 mb-4 flex-wrap",children:[_.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:J.roleTitle}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${J.category==="School"?"bg-blue-100 text-blue-700":J.category==="College"?"bg-purple-100 text-purple-700":"bg-teal-100 text-teal-700"}`,children:J.category}),_.jsxs("span",{className:"text-gray-500 text-xs font-mono bg-gray-100 px-2 py-1 rounded",children:["ID: ",J.applicationId||"N/A"]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-sm text-gray-600 mb-4",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Department:"})," ",J.department]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Location:"})," ",Array.isArray(J.location)?J.location.join(", "):J.location]}),_.jsxs("p",{children:[_.jsx("strong",{children:"No.of.Positions:"})," ",J.numberOfPositions||"N/A"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Experience:"})," ",J.experience||"N/A"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Posted:"})," ",J.datePosted?new Date(J.datePosted).toLocaleDateString():"N/A"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Updated:"})," ",J.lastUpdated?new Date(J.lastUpdated).toLocaleDateString():"N/A"]})]})]}),_.jsxs("div",{className:"flex gap-2 ml-4",children:[_.jsx("button",{onClick:()=>Zi(J),className:"p-2 text-teal-600 hover:bg-teal-50 rounded",title:"Edit",children:_.jsx(W2,{className:"w-5 h-5"})}),_.jsx("button",{onClick:()=>gt(J.id),className:"p-2 text-white bg-red-600 hover:bg-red-700 rounded",title:"Delete",children:_.jsx(aD,{className:"w-5 h-5"})})]})]})},J.id))}),_.jsx("div",{className:"mt-6",children:W.length===0?_.jsx("div",{className:"bg-white/70 rounded-lg p-12 text-center border border-gray-200",children:_.jsx("p",{className:"text-gray-500 text-lg",children:'No job openings yet. Click "Add Opening" to create one.'})}):Te.length===0?_.jsxs("div",{className:"bg-white/70 rounded-2xl p-12 text-center border border-gray-200 shadow-sm",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:_.jsx(GA,{className:"w-8 h-8 text-gray-400"})}),_.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No jobs found"}),_.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mb-6",children:"We couldn't find any positions matching your specific criteria. Try adjusting your filters or search terms."}),_.jsxs("button",{onClick:ze,className:"btn-primary inline-flex items-center gap-2",children:[_.jsx(Tl,{size:16})," Clear Filters"]})]}):null})]})]}):_.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-blue-50 flex items-center justify-center p-4",children:[_.jsx(r_,{isOpen:g.isOpen,type:g.type,title:g.title,message:g.message,onClose:se,onConfirm:g.onConfirm}),_.jsxs("div",{className:"card max-w-md w-full",children:[_.jsxs("div",{className:"text-center mb-6",children:[_.jsx(Q2,{className:"w-12 h-12 text-teal-600 mx-auto mb-3"}),_.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Panel"}),_.jsx("p",{className:"text-sm text-gray-600",children:L?"Create Admin Account":"Login to Manage Jobs"})]}),_.jsxs("form",{onSubmit:me,children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),_.jsx("input",{type:"email",className:"input-field",placeholder:"admin@example.com",value:E,onChange:J=>w(J.target.value),required:!0})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),_.jsx("input",{type:"password",className:"input-field",placeholder:"",value:x,onChange:J=>P(J.target.value),required:!0})]}),_.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:d,children:d?"Processing...":L?"Create Account":"Login"})]}),_.jsx("div",{className:"mt-4 text-center",children:_.jsx("button",{onClick:()=>j(!L),className:"text-sm text-teal-600 hover:text-teal-800 flex items-center justify-center mx-auto",children:L?"Back to Login":_.jsxs(_.Fragment,{children:[_.jsx(fD,{className:"w-3 h-3 mr-1"})," Create One-Time Admin Account"]})})}),_.jsx("button",{onClick:()=>r("/"),className:"btn-secondary w-full mt-3",children:"Back to Careers"})]})]})}function q3(){return _.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4 py-12 sm:px-6 lg:px-8 text-center",children:[_.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-xl max-w-lg w-full border border-gray-100 transform transition-all hover:scale-[1.01]",children:[_.jsx("div",{className:"bg-red-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:_.jsx(QA,{className:"w-10 h-10 text-red-500"})}),_.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"404"}),_.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),_.jsx("p",{className:"text-gray-600 mb-8 max-w-sm mx-auto",children:"Oops! The page you are looking for does not exist. It might have been moved or deleted."}),_.jsxs(jn,{to:"/",className:"inline-flex items-center btn-primary px-8 py-3 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all",children:[_.jsx(h_,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]}),_.jsxs("div",{className:"mt-8 text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Achariya Group. All rights reserved."]})]})}function F3(){return _.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4 py-12 sm:px-6 lg:px-8 text-center",children:_.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-xl max-w-lg w-full border border-gray-100 border-t-4 border-t-red-500",children:[_.jsx("div",{className:"bg-red-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:_.jsx(k2,{className:"w-10 h-10 text-red-600"})}),_.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"Submission Failed"}),_.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"We encountered an error while processing your application. Please Try Again Later"}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[_.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center btn-secondary px-6 py-2.5",children:[_.jsx(nD,{className:"w-4 h-4 mr-2"}),"Try Again"]}),_.jsxs(jn,{to:"/",className:"inline-flex items-center justify-center btn-primary px-6 py-2.5 bg-gray-800 hover:bg-gray-900 border-transparent shadow-md",children:[_.jsx(h_,{className:"w-4 h-4 mr-2"}),"Return Home"]})]})]})})}const H3="/assets/Achariya-Logo-01-scaled-Bp2OreWC.avif",G3=()=>_.jsx("div",{children:_.jsx("header",{className:" w-full  bg-[#C72323] shadow-lg fixed top-0 z-50",children:_.jsxs("div",{className:"container mx-auto px-6 py-1 flex justify-between items-center",children:[_.jsxs(jn,{to:"/",children:[" ",_.jsx("h1",{className:"text-2xl font-bold text-white",children:"ACHARIYA Careers"})]}),_.jsx("img",{src:H3,alt:"Achariya",width:80})]})})});function K3(){const{pathname:r}=$i();return q.useEffect(()=>{window.scrollTo(0,0)},[r]),null}function Q3(){return _.jsxs(i2,{children:[_.jsx(K3,{}),_.jsx("div",{className:" md:mb-[90px] lg:mb-[90px] mb-[100px]",children:_.jsx(G3,{})}),_.jsxs(PN,{children:[_.jsx(xr,{path:"/",element:_.jsx(V3,{})}),_.jsx(xr,{path:"/school",element:_.jsx(pf,{category:"School"})}),_.jsx(xr,{path:"/college",element:_.jsx(pf,{category:"College"})}),_.jsx(xr,{path:"/corporate",element:_.jsx(pf,{category:"Corporate"})}),_.jsx(xr,{path:"/all-openings",element:_.jsx(pf,{category:"All"})}),_.jsx(xr,{path:"/:category/:applicationId",element:_.jsx(U3,{})}),_.jsx(xr,{path:"/admin",element:_.jsx(z3,{})}),_.jsx(xr,{path:"/thank-you",element:_.jsx(B3,{})}),_.jsx(xr,{path:"/submission-failure",element:_.jsx(F3,{})}),_.jsx(xr,{path:"*",element:_.jsx(q3,{})})]})]})}kC.createRoot(document.getElementById("root")).render(_.jsx(q.StrictMode,{children:_.jsx(Q3,{})}));
