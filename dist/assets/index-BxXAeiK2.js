(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var jg={exports:{}},dc={};var YT;function bC(){if(YT)return dc;YT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return dc.Fragment=e,dc.jsx=t,dc.jsxs=t,dc}var XT;function wC(){return XT||(XT=1,jg.exports=bC()),jg.exports}var E=wC(),Ug={exports:{}},xe={};var JT;function AC(){if(JT)return xe;JT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function R(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function J(V,se,fe){this.props=V,this.context=se,this.refs=j,this.updater=fe||k}J.prototype.isReactComponent={},J.prototype.setState=function(V,se){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,se,"setState")},J.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=J.prototype;function G(V,se,fe){this.props=V,this.context=se,this.refs=j,this.updater=fe||k}var W=G.prototype=new ne;W.constructor=G,L(W,J.prototype),W.isPureReactComponent=!0;var le=Array.isArray;function pe(){}var C={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(V,se,fe){var ge=fe.ref;return{$$typeof:r,type:V,key:se,ref:ge!==void 0?ge:null,props:fe}}function M(V,se){return N(V.type,se,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var se={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return se[fe]})}var I=/\/+/g;function Oe(V,se){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):se.toString(36)}function It(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(pe,pe):(V.status="pending",V.then(function(se){V.status==="pending"&&(V.status="fulfilled",V.value=se)},function(se){V.status==="pending"&&(V.status="rejected",V.reason=se)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ee(V,se,fe,ge,Ie){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case _:return Ue=V._init,ee(Ue(V._payload),se,fe,ge,Ie)}}if(Ue)return Ie=Ie(V),Ue=ge===""?"."+Oe(V,0):ge,le(Ie)?(fe="",Ue!=null&&(fe=Ue.replace(I,"$&/")+"/"),ee(Ie,se,fe,"",function(Yn){return Yn})):Ie!=null&&(O(Ie)&&(Ie=M(Ie,fe+(Ie.key==null||V&&V.key===Ie.key?"":(""+Ie.key).replace(I,"$&/")+"/")+Ue)),se.push(Ie)),1;Ue=0;var Vt=ge===""?".":ge+":";if(le(V))for(var ft=0;ft<V.length;ft++)ge=V[ft],Re=Vt+Oe(ge,ft),Ue+=ee(ge,se,fe,Re,Ie);else if(ft=R(V),typeof ft=="function")for(V=ft.call(V),ft=0;!(ge=V.next()).done;)ge=ge.value,Re=Vt+Oe(ge,ft++),Ue+=ee(ge,se,fe,Re,Ie);else if(Re==="object"){if(typeof V.then=="function")return ee(It(V),se,fe,ge,Ie);throw se=String(V),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function de(V,se,fe){if(V==null)return V;var ge=[],Ie=0;return ee(V,ge,"","",function(Re){return se.call(fe,Re,Ie++)}),ge}function Te(V){if(V._status===-1){var se=V._result;se=se(),se.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=se)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},$e={map:de,forEach:function(V,se,fe){de(V,function(){se.apply(this,arguments)},fe)},count:function(V){var se=0;return de(V,function(){se++}),se},toArray:function(V){return de(V,function(se){return se})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return xe.Activity=v,xe.Children=$e,xe.Component=J,xe.Fragment=t,xe.Profiler=a,xe.PureComponent=G,xe.StrictMode=i,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,xe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},xe.cache=function(V){return function(){return V.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(V,se,fe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ge=L({},V.props),Ie=V.key;if(se!=null)for(Re in se.key!==void 0&&(Ie=""+se.key),se)!x.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(ge[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)ge.children=fe;else if(1<Re){for(var Ue=Array(Re),Vt=0;Vt<Re;Vt++)Ue[Vt]=arguments[Vt+2];ge.children=Ue}return N(V.type,Ie,ge)},xe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},xe.createElement=function(V,se,fe){var ge,Ie={},Re=null;if(se!=null)for(ge in se.key!==void 0&&(Re=""+se.key),se)x.call(se,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ie[ge]=se[ge]);var Ue=arguments.length-2;if(Ue===1)Ie.children=fe;else if(1<Ue){for(var Vt=Array(Ue),ft=0;ft<Ue;ft++)Vt[ft]=arguments[ft+2];Ie.children=Vt}if(V&&V.defaultProps)for(ge in Ue=V.defaultProps,Ue)Ie[ge]===void 0&&(Ie[ge]=Ue[ge]);return N(V,Re,Ie)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(V){return{$$typeof:d,render:V}},xe.isValidElement=O,xe.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:Te}},xe.memo=function(V,se){return{$$typeof:g,type:V,compare:se===void 0?null:se}},xe.startTransition=function(V){var se=C.T,fe={};C.T=fe;try{var ge=V(),Ie=C.S;Ie!==null&&Ie(fe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(pe,je)}catch(Re){je(Re)}finally{se!==null&&fe.types!==null&&(se.types=fe.types),C.T=se}},xe.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},xe.use=function(V){return C.H.use(V)},xe.useActionState=function(V,se,fe){return C.H.useActionState(V,se,fe)},xe.useCallback=function(V,se){return C.H.useCallback(V,se)},xe.useContext=function(V){return C.H.useContext(V)},xe.useDebugValue=function(){},xe.useDeferredValue=function(V,se){return C.H.useDeferredValue(V,se)},xe.useEffect=function(V,se){return C.H.useEffect(V,se)},xe.useEffectEvent=function(V){return C.H.useEffectEvent(V)},xe.useId=function(){return C.H.useId()},xe.useImperativeHandle=function(V,se,fe){return C.H.useImperativeHandle(V,se,fe)},xe.useInsertionEffect=function(V,se){return C.H.useInsertionEffect(V,se)},xe.useLayoutEffect=function(V,se){return C.H.useLayoutEffect(V,se)},xe.useMemo=function(V,se){return C.H.useMemo(V,se)},xe.useOptimistic=function(V,se){return C.H.useOptimistic(V,se)},xe.useReducer=function(V,se,fe){return C.H.useReducer(V,se,fe)},xe.useRef=function(V){return C.H.useRef(V)},xe.useState=function(V){return C.H.useState(V)},xe.useSyncExternalStore=function(V,se,fe){return C.H.useSyncExternalStore(V,se,fe)},xe.useTransition=function(){return C.H.useTransition()},xe.version="19.2.3",xe}var WT;function t_(){return WT||(WT=1,Ug.exports=AC()),Ug.exports}var F=t_(),zg={exports:{}},fc={},Bg={exports:{}},Fg={};var ZT;function SC(){return ZT||(ZT=1,(function(r){function e(ee,de){var Te=ee.length;ee.push(de);e:for(;0<Te;){var je=Te-1>>>1,$e=ee[je];if(0<a($e,de))ee[je]=de,ee[Te]=$e,Te=je;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var de=ee[0],Te=ee.pop();if(Te!==de){ee[0]=Te;e:for(var je=0,$e=ee.length,V=$e>>>1;je<V;){var se=2*(je+1)-1,fe=ee[se],ge=se+1,Ie=ee[ge];if(0>a(fe,Te))ge<$e&&0>a(Ie,fe)?(ee[je]=Ie,ee[ge]=Te,je=ge):(ee[je]=fe,ee[se]=Te,je=se);else if(ge<$e&&0>a(Ie,Te))ee[je]=Ie,ee[ge]=Te,je=ge;else break e}}return de}function a(ee,de){var Te=ee.sortIndex-de.sortIndex;return Te!==0?Te:ee.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,v=null,w=3,R=!1,k=!1,L=!1,j=!1,J=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function W(ee){for(var de=t(g);de!==null;){if(de.callback===null)i(g);else if(de.startTime<=ee)i(g),de.sortIndex=de.expirationTime,e(m,de);else break;de=t(g)}}function le(ee){if(L=!1,W(ee),!k)if(t(m)!==null)k=!0,pe||(pe=!0,U());else{var de=t(g);de!==null&&It(le,de.startTime-ee)}}var pe=!1,C=-1,x=5,N=-1;function M(){return j?!0:!(r.unstable_now()-N<x)}function O(){if(j=!1,pe){var ee=r.unstable_now();N=ee;var de=!0;try{e:{k=!1,L&&(L=!1,ne(C),C=-1),R=!0;var Te=w;try{t:{for(W(ee),v=t(m);v!==null&&!(v.expirationTime>ee&&M());){var je=v.callback;if(typeof je=="function"){v.callback=null,w=v.priorityLevel;var $e=je(v.expirationTime<=ee);if(ee=r.unstable_now(),typeof $e=="function"){v.callback=$e,W(ee),de=!0;break t}v===t(m)&&i(m),W(ee)}else i(m);v=t(m)}if(v!==null)de=!0;else{var V=t(g);V!==null&&It(le,V.startTime-ee),de=!1}}break e}finally{v=null,w=Te,R=!1}de=void 0}}finally{de?U():pe=!1}}}var U;if(typeof G=="function")U=function(){G(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Oe=I.port2;I.port1.onmessage=O,U=function(){Oe.postMessage(null)}}else U=function(){J(O,0)};function It(ee,de){C=J(function(){ee(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var Te=w;w=de;try{return ee()}finally{w=Te}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Te=w;w=ee;try{return de()}finally{w=Te}},r.unstable_scheduleCallback=function(ee,de,Te){var je=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?je+Te:je):Te=je,ee){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=Te+$e,ee={id:_++,callback:de,priorityLevel:ee,startTime:Te,expirationTime:$e,sortIndex:-1},Te>je?(ee.sortIndex=Te,e(g,ee),t(m)===null&&ee===t(g)&&(L?(ne(C),C=-1):L=!0,It(le,Te-je))):(ee.sortIndex=$e,e(m,ee),k||R||(k=!0,pe||(pe=!0,U()))),ee},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(ee){var de=w;return function(){var Te=w;w=de;try{return ee.apply(this,arguments)}finally{w=Te}}}})(Fg)),Fg}var eb;function IC(){return eb||(eb=1,Bg.exports=SC()),Bg.exports}var qg={exports:{}},pn={};var tb;function xC(){if(tb)return pn;tb=1;var r=t_();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:g,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},pn.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},pn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},pn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},pn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:R}):_==="script"&&i.d.X(m,{crossOrigin:v,integrity:w,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},pn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=d(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},pn.requestFormReset=function(m){i.d.r(m)},pn.unstable_batchedUpdates=function(m,g){return m(g)},pn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.2.3",pn}var nb;function RC(){if(nb)return qg.exports;nb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qg.exports=xC(),qg.exports}var rb;function CC(){if(rb)return fc;rb=1;var r=IC(),e=t_(),t=RC();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),n;if(p===u)return m(f),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=p;else{for(var T=!1,A=f.child;A;){if(A===o){T=!0,o=f,u=p;break}if(A===u){T=!0,u=f,o=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===o){T=!0,o=p,u=f;break}if(A===u){T=!0,u=p,o=f;break}A=A.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),G=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Oe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case J:return"Profiler";case j:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case G:return n.displayName||"Context";case ne:return(n._context.displayName||"Context")+".Consumer";case W:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:Oe(n.type)||"Memo";case x:s=n._payload,n=n._init;try{return Oe(n(s))}catch{}}return null}var It=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},je=[],$e=-1;function V(n){return{current:n}}function se(n){0>$e||(n.current=je[$e],je[$e]=null,$e--)}function fe(n,s){$e++,je[$e]=n.current,n.current=s}var ge=V(null),Ie=V(null),Re=V(null),Ue=V(null);function Vt(n,s){switch(fe(Re,s),fe(Ie,n),fe(ge,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?_T(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=_T(s),n=vT(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(ge),fe(ge,n)}function ft(){se(ge),se(Ie),se(Re)}function Yn(n){n.memoizedState!==null&&fe(Ue,n);var s=ge.current,o=vT(s,n.type);s!==o&&(fe(Ie,n),fe(ge,o))}function Z(n){Ie.current===n&&(se(ge),se(Ie)),Ue.current===n&&(se(Ue),lc._currentValue=Te)}var ht,vt;function Et(n){if(ht===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ht=s&&s[1]||"",vt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+n+vt}var fa=!1;function pi(n,s){if(!n||fa)return"";fa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var $=X}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(X){$=X}n.call(ae.prototype)}}else{try{throw Error()}catch(X){$=X}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var D=T.split(`
`),K=A.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===K.length)for(u=D.length-1,f=K.length-1;1<=u&&0<=f&&D[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==K[f]){var te=`
`+D[u].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=u&&0<=f);break}}}finally{fa=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Et(o):""}function ma(n,s){switch(n.tag){case 26:case 27:case 5:return Et(n.type);case 16:return Et("Lazy");case 13:return n.child!==s&&s!==null?Et("Suspense Fallback"):Et("Suspense");case 19:return Et("SuspenseList");case 0:case 15:return pi(n.type,!1);case 11:return pi(n.type.render,!1);case 1:return pi(n.type,!0);case 31:return Et("Activity");default:return""}}function Vr(n){try{var s="",o=null;do s+=ma(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,Ut=r.unstable_scheduleCallback,Xn=r.unstable_cancelCallback,zm=r.unstable_shouldYield,Ah=r.unstable_requestPaint,En=r.unstable_now,pa=r.unstable_getCurrentPriorityLevel,hu=r.unstable_ImmediatePriority,du=r.unstable_UserBlockingPriority,Xi=r.unstable_NormalPriority,Bm=r.unstable_LowPriority,Sh=r.unstable_IdlePriority,Ih=r.log,xh=r.unstable_setDisableYieldValue,dr=null,on=null;function Jn(n){if(typeof Ih=="function"&&xh(n),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(dr,n)}catch{}}var Ot=Math.clz32?Math.clz32:Ch,Rh=Math.log,bo=Math.LN2;function Ch(n){return n>>>=0,n===0?32:31-(Rh(n)/bo|0)|0}var Or=256,ga=262144,zt=4194304;function Pr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Mr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,p=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?f=Pr(u):(T&=A,T!==0?f=Pr(T):o||(o=A&~n,o!==0&&(f=Pr(o))))):(A=u&~p,A!==0?f=Pr(A):T!==0?f=Pr(T):o||(o=u&~n,o!==0&&(f=Pr(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function fr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Fm(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nh(){var n=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),n}function kr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function ya(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qm(n,s,o,u,f,p){var T=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,D=n.expirationTimes,K=n.hiddenUpdates;for(o=T&~o;0<o;){var te=31-Ot(o),ae=1<<te;A[te]=0,D[te]=-1;var $=K[te];if($!==null)for(K[te]=null,te=0;te<$.length;te++){var X=$[te];X!==null&&(X.lane&=-536870913)}o&=~ae}u!==0&&_a(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(T&~s))}function _a(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Ot(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function fu(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Ot(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function mu(n,s){var o=s&-s;return o=(o&42)!==0?1:va(o),(o&(n.suspendedLanes|s))!==0?0:o}function va(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function gi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Dh(){var n=de.p;return n!==0?n:(n=window.event,n===void 0?32:FT(n.type))}function mr(n,s){var o=de.p;try{return de.p=n,s()}finally{de.p=o}}var pr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+pr,en="__reactProps$"+pr,Lr="__reactContainer$"+pr,wo="__reactEvents$"+pr,Hm="__reactListeners$"+pr,Vh="__reactHandles$"+pr,Oh="__reactResources$"+pr,jr="__reactMarker$"+pr;function Ao(n){delete n[Bt],delete n[en],delete n[wo],delete n[Hm],delete n[Vh]}function Ur(n){var s=n[Bt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Lr]||o[Bt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=IT(n);n!==null;){if(o=n[Bt])return o;n=IT(n)}return s}n=o,o=n.parentNode}return null}function Wn(n){if(n=n[Bt]||n[Lr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function kn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function zr(n){var s=n[Oh];return s||(s=n[Oh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ft(n){n[jr]=!0}var pu=new Set,gu={};function Br(n,s){Fr(n,s),Fr(n+"Capture",s)}function Fr(n,s){for(gu[n]=s,n=0;n<s.length;n++)pu.add(s[n])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},vu={};function Ph(n){return Ct.call(vu,n)?!0:Ct.call(_u,n)?!1:yu.test(n)?vu[n]=!0:(_u[n]=!0,!1)}function So(n,s,o){if(Ph(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Ln(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function qt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ji(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Eu(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ze(n){if(!n._valueTracker){var s=Ji(n)?"checked":"value";n._valueTracker=Eu(n,s,""+n[s])}}function Ea(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Ji(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function qr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ta=/[\n"\\]/g;function wn(n){return n.replace(Ta,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Io(n,s,o,u,f,p,T,A){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),s!=null?T==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+tn(s)):n.value!==""+tn(s)&&(n.value=""+tn(s)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),s!=null?Tu(n,T,tn(s)):o!=null?Tu(n,T,tn(o)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+tn(A):n.removeAttribute("name")}function Mh(n,s,o,u,f,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){Ze(n);return}o=o!=null?""+tn(o):"",s=s!=null?""+tn(s):o,A||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=A?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),Ze(n)}function Tu(n,s,o){s==="number"&&qr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Wi(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+tn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function kh(n,s,o){if(s!=null&&(s=""+tn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+tn(o):""}function Zi(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(It(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=tn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ze(n)}function An(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Lh.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function wu(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&bu(n,f,u)}else for(var p in s)s.hasOwnProperty(p)&&bu(n,p,s[p])}function xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ro(n){return es.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function gr(){}var Au=null;function Zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ts=null,Hr=null;function ba(n){var s=Wn(n);if(s&&(n=s.stateNode)){var o=n[en]||null;e:switch(n=s.stateNode,s.type){case"input":if(Io(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[en]||null;if(!f)throw Error(i(90));Io(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Ea(u)}break e;case"textarea":kh(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Wi(n,!!o.multiple,s,!1)}}}var Co=!1;function ns(n,s,o){if(Co)return n(s,o);Co=!0;try{var u=n(s);return u}finally{if(Co=!1,(ts!==null||Hr!==null)&&(Dd(),ts&&(s=ts,n=Hr,Hr=ts=null,ba(s),n)))for(s=0;s<n.length;s++)ba(n[s])}}function yr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[en]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(er)try{var at={};Object.defineProperty(at,"passive",{get:function(){wa=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{wa=!1}var Gr=null,Su=null,Aa=null;function Iu(){if(Aa)return Aa;var n,s=Su,o=s.length,u,f="value"in Gr?Gr.value:Gr.textContent,p=f.length;for(n=0;n<o&&s[n]===f[n];n++);var T=o-n;for(u=1;u<=T&&s[o-u]===f[p-u];u++);return Aa=f.slice(n,1<u?1-u:void 0)}function Sa(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function yi(){return!0}function _r(){return!1}function ln(n){function s(o,u,f,p,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?yi:_r,this.isPropagationStopped=_r,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),s}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kr=ln(_i),rs=v({},_i,{view:0,detail:0}),xu=ln(rs),is,No,Qr,Do=v({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qr&&(Qr&&n.type==="mousemove"?(is=n.screenX-Qr.screenX,No=n.screenY-Qr.screenY):No=is=0,Qr=n),is)},movementY:function(n){return"movementY"in n?n.movementY:No}}),Ru=ln(Do),Ia=v({},Do,{dataTransfer:0}),Uh=ln(Ia),zh=v({},rs,{relatedTarget:0}),xa=ln(zh),Cu=v({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),Bh=ln(Cu),Vo=v({},_i,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Fh=ln(Vo),qh=v({},_i,{data:0}),$r=ln(qh),Hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qh(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Kh[n])?!!s[n]:!1}function ss(){return Qh}var Tn=v({},rs,{key:function(n){if(n.key){var s=Hh[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Sa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Gh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(n){return n.type==="keypress"?Sa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Sa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$h=ln(Tn),Yh=v({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vi=ln(Yh),h=v({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),y=ln(h),b=v({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=ln(b),q=v({},Do,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=ln(q),ce=v({},_i,{newState:0,oldState:0}),Ne=ln(ce),Pt=[9,13,27,32],Ye=er&&"CompositionEvent"in window,Tt=null;er&&"documentMode"in document&&(Tt=document.documentMode);var tr=er&&"TextEvent"in window&&!Tt,Yr=er&&(!Ye||Tt&&8<Tt&&11>=Tt),vr=" ",Er=!1;function Ra(n,s){switch(n){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Po=!1;function Kx(n,s){switch(n){case"compositionend":return Oo(s);case"keypress":return s.which!==32?null:(Er=!0,vr);case"textInput":return n=s.data,n===vr&&Er?null:n;default:return null}}function Qx(n,s){if(Po)return n==="compositionend"||!Ye&&Ra(n,s)?(n=Iu(),Aa=Su=Gr=null,Po=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yr&&s.locale!=="ko"?null:s.data;default:return null}}var $x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cv(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!$x[n.type]:s==="textarea"}function Nv(n,s,o,u){ts?Hr?Hr.push(u):Hr=[u]:ts=u,s=jd(s,"onChange"),0<s.length&&(o=new Kr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Nu=null,Du=null;function Yx(n){dT(n,0)}function Xh(n){var s=kn(n);if(Ea(s))return n}function Dv(n,s){if(n==="change")return s}var Vv=!1;if(er){var Gm;if(er){var Km="oninput"in document;if(!Km){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),Km=typeof Ov.oninput=="function"}Gm=Km}else Gm=!1;Vv=Gm&&(!document.documentMode||9<document.documentMode)}function Pv(){Nu&&(Nu.detachEvent("onpropertychange",Mv),Du=Nu=null)}function Mv(n){if(n.propertyName==="value"&&Xh(Du)){var s=[];Nv(s,Du,n,Zn(n)),ns(Yx,s)}}function Xx(n,s,o){n==="focusin"?(Pv(),Nu=s,Du=o,Nu.attachEvent("onpropertychange",Mv)):n==="focusout"&&Pv()}function Jx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Xh(Du)}function Wx(n,s){if(n==="click")return Xh(s)}function Zx(n,s){if(n==="input"||n==="change")return Xh(s)}function eR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var jn=typeof Object.is=="function"?Object.is:eR;function Vu(n,s){if(jn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ct.call(s,f)||!jn(n[f],s[f]))return!1}return!0}function kv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Lv(n,s){var o=kv(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kv(o)}}function jv(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?jv(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Uv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=qr(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=qr(n.document)}return s}function Qm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var tR=er&&"documentMode"in document&&11>=document.documentMode,Mo=null,$m=null,Ou=null,Ym=!1;function zv(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ym||Mo==null||Mo!==qr(u)||(u=Mo,"selectionStart"in u&&Qm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ou&&Vu(Ou,u)||(Ou=u,u=jd($m,"onSelect"),0<u.length&&(s=new Kr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Mo)))}function Ca(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var ko={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Xm={},Bv={};er&&(Bv=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Na(n){if(Xm[n])return Xm[n];if(!ko[n])return n;var s=ko[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Bv)return Xm[n]=s[o];return n}var Fv=Na("animationend"),qv=Na("animationiteration"),Hv=Na("animationstart"),nR=Na("transitionrun"),rR=Na("transitionstart"),iR=Na("transitioncancel"),Gv=Na("transitionend"),Kv=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jm.push("scrollEnd");function Tr(n,s){Kv.set(n,s),Br(s,[n])}var Jh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},nr=[],Lo=0,Wm=0;function Wh(){for(var n=Lo,s=Wm=Lo=0;s<n;){var o=nr[s];nr[s++]=null;var u=nr[s];nr[s++]=null;var f=nr[s];nr[s++]=null;var p=nr[s];if(nr[s++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&Qv(o,f,p)}}function Zh(n,s,o,u){nr[Lo++]=n,nr[Lo++]=s,nr[Lo++]=o,nr[Lo++]=u,Wm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Zm(n,s,o,u){return Zh(n,s,o,u),ed(n)}function Da(n,s){return Zh(n,null,null,s),ed(n)}function Qv(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-Ot(o),n=p.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function ed(n){if(50<tc)throw tc=0,lg=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var jo={};function sR(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(n,s,o,u){return new sR(n,s,o,u)}function ep(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ei(n,s){var o=n.alternate;return o===null?(o=Un(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function $v(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function td(n,s,o,u,f,p){var T=0;if(u=n,typeof n=="function")ep(n)&&(T=1);else if(typeof n=="string")T=cC(n,o,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=Un(31,o,s,f),n.elementType=N,n.lanes=p,n;case L:return Va(o.children,f,p,s);case j:T=8,f|=24;break;case J:return n=Un(12,o,s,f|2),n.elementType=J,n.lanes=p,n;case le:return n=Un(13,o,s,f),n.elementType=le,n.lanes=p,n;case pe:return n=Un(19,o,s,f),n.elementType=pe,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:T=10;break e;case ne:T=9;break e;case W:T=11;break e;case C:T=14;break e;case x:T=16,u=null;break e}T=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=Un(T,o,s,f),s.elementType=n,s.type=u,s.lanes=p,s}function Va(n,s,o,u){return n=Un(7,n,u,s),n.lanes=o,n}function tp(n,s,o){return n=Un(6,n,null,s),n.lanes=o,n}function Yv(n){var s=Un(18,null,null,0);return s.stateNode=n,s}function np(n,s,o){return s=Un(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Xv=new WeakMap;function rr(n,s){if(typeof n=="object"&&n!==null){var o=Xv.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Vr(s)},Xv.set(n,s),s)}return{value:n,source:s,stack:Vr(s)}}var Uo=[],zo=0,nd=null,Pu=0,ir=[],sr=0,as=null,Xr=1,Jr="";function Ti(n,s){Uo[zo++]=Pu,Uo[zo++]=nd,nd=n,Pu=s}function Jv(n,s,o){ir[sr++]=Xr,ir[sr++]=Jr,ir[sr++]=as,as=n;var u=Xr;n=Jr;var f=32-Ot(u)-1;u&=~(1<<f),o+=1;var p=32-Ot(s)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Xr=1<<32-Ot(s)+f|o<<f|u,Jr=p+n}else Xr=1<<p|o<<f|u,Jr=n}function rp(n){n.return!==null&&(Ti(n,1),Jv(n,1,0))}function ip(n){for(;n===nd;)nd=Uo[--zo],Uo[zo]=null,Pu=Uo[--zo],Uo[zo]=null;for(;n===as;)as=ir[--sr],ir[sr]=null,Jr=ir[--sr],ir[sr]=null,Xr=ir[--sr],ir[sr]=null}function Wv(n,s){ir[sr++]=Xr,ir[sr++]=Jr,ir[sr++]=as,Xr=s.id,Jr=s.overflow,as=n}var un=null,pt=null,He=!1,os=null,ar=!1,sp=Error(i(519));function ls(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mu(rr(s,n)),sp}function Zv(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Bt]=n,s[en]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<rc.length;o++)Le(rc[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Mh(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),Zi(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||gT(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=gr),s=!0):s=!1,s||ls(n,!0)}function e0(n){for(un=n.return;un;)switch(un.tag){case 5:case 31:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:un=un.return}}function Bo(n){if(n!==un)return!1;if(!He)return e0(n),He=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||wg(n.type,n.memoizedProps)),o=!o),o&&pt&&ls(n),e0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));pt=ST(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));pt=ST(n)}else s===27?(s=pt,bs(n.type)?(n=Rg,Rg=null,pt=n):pt=s):pt=un?lr(n.stateNode.nextSibling):null;return!0}function Oa(){pt=un=null,He=!1}function ap(){var n=os;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),os=null),n}function Mu(n){os===null?os=[n]:os.push(n)}var op=V(null),Pa=null,bi=null;function us(n,s,o){fe(op,s._currentValue),s._currentValue=o}function wi(n){n._currentValue=op.current,se(op)}function lp(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function up(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),lp(p.return,o,n),u||(T=null);break e}p=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),lp(T,o,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function Fo(n,s,o,u){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=f.type;jn(f.pendingProps.value,T.value)||(n!==null?n.push(A):n=[A])}}else if(f===Ue.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(lc):n=[lc])}f=f.return}n!==null&&up(s,n,o,u),s.flags|=262144}function rd(n){for(n=n.firstContext;n!==null;){if(!jn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ma(n){Pa=n,bi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function cn(n){return t0(Pa,n)}function id(n,s){return Pa===null&&Ma(n),t0(n,s)}function t0(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},bi===null){if(n===null)throw Error(i(308));bi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else bi=bi.next=s;return o}var aR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},oR=r.unstable_scheduleCallback,lR=r.unstable_NormalPriority,Ht={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cp(){return{controller:new aR,data:new Map,refCount:0}}function ku(n){n.refCount--,n.refCount===0&&oR(lR,function(){n.controller.abort()})}var Lu=null,hp=0,qo=0,Ho=null;function uR(n,s){if(Lu===null){var o=Lu=[];hp=0,qo=mg(),Ho={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hp++,s.then(n0,n0),s}function n0(){if(--hp===0&&Lu!==null){Ho!==null&&(Ho.status="fulfilled");var n=Lu;Lu=null,qo=0,Ho=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function cR(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var r0=ee.S;ee.S=function(n,s){zE=En(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&uR(n,s),r0!==null&&r0(n,s)};var ka=V(null);function dp(){var n=ka.current;return n!==null?n:dt.pooledCache}function sd(n,s){s===null?fe(ka,ka.current):fe(ka,s.pool)}function i0(){var n=dp();return n===null?null:{parent:Ht._currentValue,pool:n}}var Go=Error(i(460)),fp=Error(i(474)),ad=Error(i(542)),od={then:function(){}};function s0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function a0(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(gr,gr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,l0(n),n;default:if(typeof s.status=="string")s.then(gr,gr);else{if(n=dt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,l0(n),n}throw ja=s,Go}}function La(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ja=o,Go):o}}var ja=null;function o0(){if(ja===null)throw Error(i(459));var n=ja;return ja=null,n}function l0(n){if(n===Go||n===ad)throw Error(i(483))}var Ko=null,ju=0;function ld(n){var s=ju;return ju+=1,Ko===null&&(Ko=[]),a0(Ko,n,s)}function Uu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function ud(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function u0(n){function s(z,P){if(n){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function o(z,P){if(!n)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function u(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Ei(z,P),z.index=0,z.sibling=null,z}function p(z,P,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=67108866,P):H):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function A(z,P,H,re){return P===null||P.tag!==6?(P=tp(H,z.mode,re),P.return=z,P):(P=f(P,H),P.return=z,P)}function D(z,P,H,re){var be=H.type;return be===L?te(z,P,H.props.children,re,H.key):P!==null&&(P.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&La(be)===P.type)?(P=f(P,H.props),Uu(P,H),P.return=z,P):(P=td(H.type,H.key,H.props,null,z.mode,re),Uu(P,H),P.return=z,P)}function K(z,P,H,re){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=np(H,z.mode,re),P.return=z,P):(P=f(P,H.children||[]),P.return=z,P)}function te(z,P,H,re,be){return P===null||P.tag!==7?(P=Va(H,z.mode,re,be),P.return=z,P):(P=f(P,H),P.return=z,P)}function ae(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=tp(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return H=td(P.type,P.key,P.props,null,z.mode,H),Uu(H,P),H.return=z,H;case k:return P=np(P,z.mode,H),P.return=z,P;case x:return P=La(P),ae(z,P,H)}if(It(P)||U(P))return P=Va(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return ae(z,ld(P),H);if(P.$$typeof===G)return ae(z,id(z,P),H);ud(z,P)}return null}function $(z,P,H,re){var be=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return be!==null?null:A(z,P,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===be?D(z,P,H,re):null;case k:return H.key===be?K(z,P,H,re):null;case x:return H=La(H),$(z,P,H,re)}if(It(H)||U(H))return be!==null?null:te(z,P,H,re,null);if(typeof H.then=="function")return $(z,P,ld(H),re);if(H.$$typeof===G)return $(z,P,id(z,H),re);ud(z,H)}return null}function X(z,P,H,re,be){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(H)||null,A(P,z,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case R:return z=z.get(re.key===null?H:re.key)||null,D(P,z,re,be);case k:return z=z.get(re.key===null?H:re.key)||null,K(P,z,re,be);case x:return re=La(re),X(z,P,H,re,be)}if(It(re)||U(re))return z=z.get(H)||null,te(P,z,re,be,null);if(typeof re.then=="function")return X(z,P,H,ld(re),be);if(re.$$typeof===G)return X(z,P,H,id(P,re),be);ud(P,re)}return null}function ye(z,P,H,re){for(var be=null,Ke=null,ve=P,Ve=P=0,Be=null;ve!==null&&Ve<H.length;Ve++){ve.index>Ve?(Be=ve,ve=null):Be=ve.sibling;var Qe=$(z,ve,H[Ve],re);if(Qe===null){ve===null&&(ve=Be);break}n&&ve&&Qe.alternate===null&&s(z,ve),P=p(Qe,P,Ve),Ke===null?be=Qe:Ke.sibling=Qe,Ke=Qe,ve=Be}if(Ve===H.length)return o(z,ve),He&&Ti(z,Ve),be;if(ve===null){for(;Ve<H.length;Ve++)ve=ae(z,H[Ve],re),ve!==null&&(P=p(ve,P,Ve),Ke===null?be=ve:Ke.sibling=ve,Ke=ve);return He&&Ti(z,Ve),be}for(ve=u(ve);Ve<H.length;Ve++)Be=X(ve,z,Ve,H[Ve],re),Be!==null&&(n&&Be.alternate!==null&&ve.delete(Be.key===null?Ve:Be.key),P=p(Be,P,Ve),Ke===null?be=Be:Ke.sibling=Be,Ke=Be);return n&&ve.forEach(function(xs){return s(z,xs)}),He&&Ti(z,Ve),be}function we(z,P,H,re){if(H==null)throw Error(i(151));for(var be=null,Ke=null,ve=P,Ve=P=0,Be=null,Qe=H.next();ve!==null&&!Qe.done;Ve++,Qe=H.next()){ve.index>Ve?(Be=ve,ve=null):Be=ve.sibling;var xs=$(z,ve,Qe.value,re);if(xs===null){ve===null&&(ve=Be);break}n&&ve&&xs.alternate===null&&s(z,ve),P=p(xs,P,Ve),Ke===null?be=xs:Ke.sibling=xs,Ke=xs,ve=Be}if(Qe.done)return o(z,ve),He&&Ti(z,Ve),be;if(ve===null){for(;!Qe.done;Ve++,Qe=H.next())Qe=ae(z,Qe.value,re),Qe!==null&&(P=p(Qe,P,Ve),Ke===null?be=Qe:Ke.sibling=Qe,Ke=Qe);return He&&Ti(z,Ve),be}for(ve=u(ve);!Qe.done;Ve++,Qe=H.next())Qe=X(ve,z,Ve,Qe.value,re),Qe!==null&&(n&&Qe.alternate!==null&&ve.delete(Qe.key===null?Ve:Qe.key),P=p(Qe,P,Ve),Ke===null?be=Qe:Ke.sibling=Qe,Ke=Qe);return n&&ve.forEach(function(TC){return s(z,TC)}),He&&Ti(z,Ve),be}function ut(z,P,H,re){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:e:{for(var be=H.key;P!==null;){if(P.key===be){if(be=H.type,be===L){if(P.tag===7){o(z,P.sibling),re=f(P,H.props.children),re.return=z,z=re;break e}}else if(P.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===x&&La(be)===P.type){o(z,P.sibling),re=f(P,H.props),Uu(re,H),re.return=z,z=re;break e}o(z,P);break}else s(z,P);P=P.sibling}H.type===L?(re=Va(H.props.children,z.mode,re,H.key),re.return=z,z=re):(re=td(H.type,H.key,H.props,null,z.mode,re),Uu(re,H),re.return=z,z=re)}return T(z);case k:e:{for(be=H.key;P!==null;){if(P.key===be)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(z,P.sibling),re=f(P,H.children||[]),re.return=z,z=re;break e}else{o(z,P);break}else s(z,P);P=P.sibling}re=np(H,z.mode,re),re.return=z,z=re}return T(z);case x:return H=La(H),ut(z,P,H,re)}if(It(H))return ye(z,P,H,re);if(U(H)){if(be=U(H),typeof be!="function")throw Error(i(150));return H=be.call(H),we(z,P,H,re)}if(typeof H.then=="function")return ut(z,P,ld(H),re);if(H.$$typeof===G)return ut(z,P,id(z,H),re);ud(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(z,P.sibling),re=f(P,H),re.return=z,z=re):(o(z,P),re=tp(H,z.mode,re),re.return=z,z=re),T(z)):o(z,P)}return function(z,P,H,re){try{ju=0;var be=ut(z,P,H,re);return Ko=null,be}catch(ve){if(ve===Go||ve===ad)throw ve;var Ke=Un(29,ve,null,z.mode);return Ke.lanes=re,Ke.return=z,Ke}}}var Ua=u0(!0),c0=u0(!1),cs=!1;function mp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function hs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ds(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Xe&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=ed(n),Qv(n,null,o),s}return Zh(n,u,s,o),ed(n)}function zu(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,fu(n,o)}}function gp(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var yp=!1;function Bu(){if(yp){var n=Ho;if(n!==null)throw n}}function Fu(n,s,o,u){yp=!1;var f=n.updateQueue;cs=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,K=D.next;D.next=null,T===null?p=K:T.next=K,T=D;var te=n.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==T&&(A===null?te.firstBaseUpdate=K:A.next=K,te.lastBaseUpdate=D))}if(p!==null){var ae=f.baseState;T=0,te=K=D=null,A=p;do{var $=A.lane&-536870913,X=$!==A.lane;if(X?(ze&$)===$:(u&$)===$){$!==0&&$===qo&&(yp=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ye=n,we=A;$=s;var ut=o;switch(we.tag){case 1:if(ye=we.payload,typeof ye=="function"){ae=ye.call(ut,ae,$);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,$=typeof ye=="function"?ye.call(ut,ae,$):ye,$==null)break e;ae=v({},ae,$);break e;case 2:cs=!0}}$=A.callback,$!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(K=te=X,D=ae):te=te.next=X,T|=$;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);te===null&&(D=ae),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),ys|=T,n.lanes=T,n.memoizedState=ae}}function h0(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function d0(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)h0(o[n],s)}var Qo=V(null),cd=V(0);function f0(n,s){n=Vi,fe(cd,n),fe(Qo,s),Vi=n|s.baseLanes}function _p(){fe(cd,Vi),fe(Qo,Qo.current)}function vp(){Vi=cd.current,se(Qo),se(cd)}var zn=V(null),or=null;function fs(n){var s=n.alternate;fe(Mt,Mt.current&1),fe(zn,n),or===null&&(s===null||Qo.current!==null||s.memoizedState!==null)&&(or=n)}function Ep(n){fe(Mt,Mt.current),fe(zn,n),or===null&&(or=n)}function m0(n){n.tag===22?(fe(Mt,Mt.current),fe(zn,n),or===null&&(or=n)):ms()}function ms(){fe(Mt,Mt.current),fe(zn,zn.current)}function Bn(n){se(zn),or===n&&(or=null),se(Mt)}var Mt=V(0);function hd(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ig(o)||xg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ai=0,De=null,ot=null,Gt=null,dd=!1,$o=!1,za=!1,fd=0,qu=0,Yo=null,hR=0;function Nt(){throw Error(i(321))}function Tp(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!jn(n[o],s[o]))return!1;return!0}function bp(n,s,o,u,f,p){return Ai=p,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=n===null||n.memoizedState===null?J0:Lp,za=!1,p=o(u,f),za=!1,$o&&(p=g0(s,o,u,f)),p0(n),p}function p0(n){ee.H=Ku;var s=ot!==null&&ot.next!==null;if(Ai=0,Gt=ot=De=null,dd=!1,qu=0,Yo=null,s)throw Error(i(300));n===null||Kt||(n=n.dependencies,n!==null&&rd(n)&&(Kt=!0))}function g0(n,s,o,u){De=n;var f=0;do{if($o&&(Yo=null),qu=0,$o=!1,25<=f)throw Error(i(301));if(f+=1,Gt=ot=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}ee.H=W0,p=s(o,u)}while($o);return p}function dR(){var n=ee.H,s=n.useState()[0];return s=typeof s.then=="function"?Hu(s):s,n=n.useState()[0],(ot!==null?ot.memoizedState:null)!==n&&(De.flags|=1024),s}function wp(){var n=fd!==0;return fd=0,n}function Ap(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Sp(n){if(dd){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}dd=!1}Ai=0,Gt=ot=De=null,$o=!1,qu=fd=0,Yo=null}function bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?De.memoizedState=Gt=n:Gt=Gt.next=n,Gt}function kt(){if(ot===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var s=Gt===null?De.memoizedState:Gt.next;if(s!==null)Gt=s,ot=n;else{if(n===null)throw De.alternate===null?Error(i(467)):Error(i(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Gt===null?De.memoizedState=Gt=n:Gt=Gt.next=n}return Gt}function md(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hu(n){var s=qu;return qu+=1,Yo===null&&(Yo=[]),n=a0(Yo,n,s),s=De,(Gt===null?s.memoizedState:Gt.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?J0:Lp),n}function pd(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Hu(n);if(n.$$typeof===G)return cn(n)}throw Error(i(438,String(n)))}function Ip(n){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=md(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=M;return s.index++,o}function Si(n,s){return typeof s=="function"?s(n):s}function gd(n){var s=kt();return xp(s,ot,n)}function xp(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}s.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var A=T=null,D=null,K=s,te=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(ze&ae)===ae:(Ai&ae)===ae){var $=K.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===qo&&(te=!0);else if((Ai&$)===$){K=K.next,$===qo&&(te=!0);continue}else ae={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=ae,T=p):D=D.next=ae,De.lanes|=$,ys|=$;ae=K.action,za&&o(p,ae),p=K.hasEagerState?K.eagerState:o(p,ae)}else $={lane:ae,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=$,T=p):D=D.next=$,De.lanes|=ae,ys|=ae;K=K.next}while(K!==null&&K!==s);if(D===null?T=p:D.next=A,!jn(p,n.memoizedState)&&(Kt=!0,te&&(o=Ho,o!==null)))throw o;n.memoizedState=p,n.baseState=T,n.baseQueue=D,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Rp(n){var s=kt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=n(p,T.action),T=T.next;while(T!==f);jn(p,s.memoizedState)||(Kt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function y0(n,s,o){var u=De,f=kt(),p=He;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!jn((ot||f).memoizedState,o);if(T&&(f.memoizedState=o,Kt=!0),f=f.queue,Dp(E0.bind(null,u,f,n),[n]),f.getSnapshot!==s||T||Gt!==null&&Gt.memoizedState.tag&1){if(u.flags|=2048,Xo(9,{destroy:void 0},v0.bind(null,u,f,o,s),null),dt===null)throw Error(i(349));p||(Ai&127)!==0||_0(u,s,o)}return o}function _0(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=md(),De.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function v0(n,s,o,u){s.value=o,s.getSnapshot=u,T0(s)&&b0(n)}function E0(n,s,o){return o(function(){T0(s)&&b0(n)})}function T0(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!jn(n,o)}catch{return!0}}function b0(n){var s=Da(n,2);s!==null&&Cn(s,n,2)}function Cp(n){var s=bn();if(typeof n=="function"){var o=n;if(n=o(),za){Jn(!0);try{o()}finally{Jn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},s}function w0(n,s,o,u){return n.baseState=o,xp(n,ot,typeof u=="function"?u:Si)}function fR(n,s,o,u,f){if(vd(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};ee.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,A0(s,p)):(p.next=o.next,s.pending=o.next=p)}}function A0(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var p=ee.T,T={};ee.T=T;try{var A=o(f,u),D=ee.S;D!==null&&D(T,A),S0(n,s,A)}catch(K){Np(n,s,K)}finally{p!==null&&T.types!==null&&(p.types=T.types),ee.T=p}}else try{p=o(f,u),S0(n,s,p)}catch(K){Np(n,s,K)}}function S0(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){I0(n,s,u)},function(u){return Np(n,s,u)}):I0(n,s,o)}function I0(n,s,o){s.status="fulfilled",s.value=o,x0(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,A0(n,o)))}function Np(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,x0(s),s=s.next;while(s!==u)}n.action=null}function x0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function R0(n,s){return s}function C0(n,s){if(He){var o=dt.formState;if(o!==null){e:{var u=De;if(He){if(pt){t:{for(var f=pt,p=ar;f.nodeType!==8;){if(!p){f=null;break t}if(f=lr(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){pt=lr(f.nextSibling),u=f.data==="F!";break e}}ls(u)}u=!1}u&&(s=o[0])}}return o=bn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:s},o.queue=u,o=$0.bind(null,De,u),u.dispatch=o,u=Cp(!1),p=kp.bind(null,De,!1,u.queue),u=bn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=fR.bind(null,De,f,p,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function N0(n){var s=kt();return D0(s,ot,n)}function D0(n,s,o){if(s=xp(n,s,R0)[0],n=gd(Si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Hu(s)}catch(T){throw T===Go?ad:T}else u=s;s=kt();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(De.flags|=2048,Xo(9,{destroy:void 0},mR.bind(null,f,o),null)),[u,p,n]}function mR(n,s){n.action=s}function V0(n){var s=kt(),o=ot;if(o!==null)return D0(s,o,n);kt(),s=s.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function Xo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=md(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function O0(){return kt().memoizedState}function yd(n,s,o,u){var f=bn();De.flags|=n,f.memoizedState=Xo(1|s,{destroy:void 0},o,u===void 0?null:u)}function _d(n,s,o,u){var f=kt();u=u===void 0?null:u;var p=f.memoizedState.inst;ot!==null&&u!==null&&Tp(u,ot.memoizedState.deps)?f.memoizedState=Xo(s,p,o,u):(De.flags|=n,f.memoizedState=Xo(1|s,p,o,u))}function P0(n,s){yd(8390656,8,n,s)}function Dp(n,s){_d(2048,8,n,s)}function pR(n){De.flags|=4;var s=De.updateQueue;if(s===null)s=md(),De.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function M0(n){var s=kt().memoizedState;return pR({ref:s,nextImpl:n}),function(){if((Xe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function k0(n,s){return _d(4,2,n,s)}function L0(n,s){return _d(4,4,n,s)}function j0(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function U0(n,s,o){o=o!=null?o.concat([n]):null,_d(4,4,j0.bind(null,s,n),o)}function Vp(){}function z0(n,s){var o=kt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Tp(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function B0(n,s){var o=kt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Tp(s,u[1]))return u[0];if(u=n(),za){Jn(!0);try{n()}finally{Jn(!1)}}return o.memoizedState=[u,s],u}function Op(n,s,o){return o===void 0||(Ai&1073741824)!==0&&(ze&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=FE(),De.lanes|=n,ys|=n,o)}function F0(n,s,o,u){return jn(o,s)?o:Qo.current!==null?(n=Op(n,o,u),jn(n,s)||(Kt=!0),n):(Ai&42)===0||(Ai&1073741824)!==0&&(ze&261930)===0?(Kt=!0,n.memoizedState=o):(n=FE(),De.lanes|=n,ys|=n,s)}function q0(n,s,o,u,f){var p=de.p;de.p=p!==0&&8>p?p:8;var T=ee.T,A={};ee.T=A,kp(n,!1,s,o);try{var D=f(),K=ee.S;if(K!==null&&K(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var te=cR(D,u);Gu(n,s,te,Hn(n))}else Gu(n,s,u,Hn(n))}catch(ae){Gu(n,s,{then:function(){},status:"rejected",reason:ae},Hn())}finally{de.p=p,T!==null&&A.types!==null&&(T.types=A.types),ee.T=T}}function gR(){}function Pp(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=H0(n).queue;q0(n,f,s,Te,o===null?gR:function(){return G0(n),o(u)})}function H0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:Te},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function G0(n){var s=H0(n);s.next===null&&(s=n.alternate.memoizedState),Gu(n,s.next.queue,{},Hn())}function Mp(){return cn(lc)}function K0(){return kt().memoizedState}function Q0(){return kt().memoizedState}function yR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Hn();n=hs(o);var u=ds(s,n,o);u!==null&&(Cn(u,s,o),zu(u,s,o)),s={cache:cp()},n.payload=s;return}s=s.return}}function _R(n,s,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vd(n)?Y0(s,o):(o=Zm(n,s,o,u),o!==null&&(Cn(o,n,u),X0(o,s,u)))}function $0(n,s,o){var u=Hn();Gu(n,s,o,u)}function Gu(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(vd(n))Y0(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var T=s.lastRenderedState,A=p(T,o);if(f.hasEagerState=!0,f.eagerState=A,jn(A,T))return Zh(n,s,f,0),dt===null&&Wh(),!1}catch{}if(o=Zm(n,s,f,u),o!==null)return Cn(o,n,u),X0(o,s,u),!0}return!1}function kp(n,s,o,u){if(u={lane:2,revertLane:mg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},vd(n)){if(s)throw Error(i(479))}else s=Zm(n,o,u,2),s!==null&&Cn(s,n,2)}function vd(n){var s=n.alternate;return n===De||s!==null&&s===De}function Y0(n,s){$o=dd=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function X0(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,fu(n,o)}}var Ku={readContext:cn,use:pd,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Ku.useEffectEvent=Nt;var J0={readContext:cn,use:pd,useCallback:function(n,s){return bn().memoizedState=[n,s===void 0?null:s],n},useContext:cn,useEffect:P0,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,yd(4194308,4,j0.bind(null,s,n),o)},useLayoutEffect:function(n,s){return yd(4194308,4,n,s)},useInsertionEffect:function(n,s){yd(4,2,n,s)},useMemo:function(n,s){var o=bn();s=s===void 0?null:s;var u=n();if(za){Jn(!0);try{n()}finally{Jn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=bn();if(o!==void 0){var f=o(s);if(za){Jn(!0);try{o(s)}finally{Jn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=_R.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var s=bn();return n={current:n},s.memoizedState=n},useState:function(n){n=Cp(n);var s=n.queue,o=$0.bind(null,De,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Vp,useDeferredValue:function(n,s){var o=bn();return Op(o,n,s)},useTransition:function(){var n=Cp(!1);return n=q0.bind(null,De,n.queue,!0,!1),bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=De,f=bn();if(He){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),dt===null)throw Error(i(349));(ze&127)!==0||_0(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,P0(E0.bind(null,u,p,n),[n]),u.flags|=2048,Xo(9,{destroy:void 0},v0.bind(null,u,p,o,s),null),o},useId:function(){var n=bn(),s=dt.identifierPrefix;if(He){var o=Jr,u=Xr;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=fd++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=hR++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Mp,useFormState:C0,useActionState:C0,useOptimistic:function(n){var s=bn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=kp.bind(null,De,!0,o),o.dispatch=s,[n,s]},useMemoCache:Ip,useCacheRefresh:function(){return bn().memoizedState=yR.bind(null,De)},useEffectEvent:function(n){var s=bn(),o={impl:n};return s.memoizedState=o,function(){if((Xe&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Lp={readContext:cn,use:pd,useCallback:z0,useContext:cn,useEffect:Dp,useImperativeHandle:U0,useInsertionEffect:k0,useLayoutEffect:L0,useMemo:B0,useReducer:gd,useRef:O0,useState:function(){return gd(Si)},useDebugValue:Vp,useDeferredValue:function(n,s){var o=kt();return F0(o,ot.memoizedState,n,s)},useTransition:function(){var n=gd(Si)[0],s=kt().memoizedState;return[typeof n=="boolean"?n:Hu(n),s]},useSyncExternalStore:y0,useId:K0,useHostTransitionStatus:Mp,useFormState:N0,useActionState:N0,useOptimistic:function(n,s){var o=kt();return w0(o,ot,n,s)},useMemoCache:Ip,useCacheRefresh:Q0};Lp.useEffectEvent=M0;var W0={readContext:cn,use:pd,useCallback:z0,useContext:cn,useEffect:Dp,useImperativeHandle:U0,useInsertionEffect:k0,useLayoutEffect:L0,useMemo:B0,useReducer:Rp,useRef:O0,useState:function(){return Rp(Si)},useDebugValue:Vp,useDeferredValue:function(n,s){var o=kt();return ot===null?Op(o,n,s):F0(o,ot.memoizedState,n,s)},useTransition:function(){var n=Rp(Si)[0],s=kt().memoizedState;return[typeof n=="boolean"?n:Hu(n),s]},useSyncExternalStore:y0,useId:K0,useHostTransitionStatus:Mp,useFormState:V0,useActionState:V0,useOptimistic:function(n,s){var o=kt();return ot!==null?w0(o,ot,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Ip,useCacheRefresh:Q0};W0.useEffectEvent=M0;function jp(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Up={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Hn(),f=hs(u);f.payload=s,o!=null&&(f.callback=o),s=ds(n,f,u),s!==null&&(Cn(s,n,u),zu(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Hn(),f=hs(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ds(n,f,u),s!==null&&(Cn(s,n,u),zu(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Hn(),u=hs(o);u.tag=2,s!=null&&(u.callback=s),s=ds(n,u,o),s!==null&&(Cn(s,n,o),zu(s,n,o))}};function Z0(n,s,o,u,f,p,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,T):s.prototype&&s.prototype.isPureReactComponent?!Vu(o,u)||!Vu(f,p):!0}function eE(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Up.enqueueReplaceState(s,s.state,null)}function Ba(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=v({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function tE(n){Jh(n)}function nE(n){console.error(n)}function rE(n){Jh(n)}function Ed(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function iE(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zp(n,s,o){return o=hs(o),o.tag=3,o.payload={element:null},o.callback=function(){Ed(n,s)},o}function sE(n){return n=hs(n),n.tag=3,n}function aE(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){iE(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){iE(s,o,u),typeof f!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function vR(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Fo(s,o,f,!0),o=zn.current,o!==null){switch(o.tag){case 31:case 13:return or===null?Vd():o.alternate===null&&Dt===0&&(Dt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===od?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),hg(n,u,f)),!1;case 22:return o.flags|=65536,u===od?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),hg(n,u,f)),!1}throw Error(i(435,o.tag))}return hg(n,u,f),Vd(),!1}if(He)return s=zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==sp&&(n=Error(i(422),{cause:u}),Mu(rr(n,o)))):(u!==sp&&(s=Error(i(423),{cause:u}),Mu(rr(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=rr(u,o),f=zp(n.stateNode,u,f),gp(n,f),Dt!==4&&(Dt=2)),!1;var p=Error(i(520),{cause:u});if(p=rr(p,o),ec===null?ec=[p]:ec.push(p),Dt!==4&&(Dt=2),s===null)return!0;u=rr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=zp(o.stateNode,u,n),gp(o,n),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(_s===null||!_s.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=sE(f),aE(f,n,o,u),gp(o,f),!1}o=o.return}while(o!==null);return!1}var Bp=Error(i(461)),Kt=!1;function hn(n,s,o,u){s.child=n===null?c0(s,null,o,u):Ua(s,n.child,o,u)}function oE(n,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return Ma(s),u=bp(n,s,o,T,p,f),A=wp(),n!==null&&!Kt?(Ap(n,s,f),Ii(n,s,f)):(He&&A&&rp(s),s.flags|=1,hn(n,s,u,f),s.child)}function lE(n,s,o,u,f){if(n===null){var p=o.type;return typeof p=="function"&&!ep(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,uE(n,s,p,u,f)):(n=td(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Yp(n,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Vu,o(T,u)&&n.ref===s.ref)return Ii(n,s,f)}return s.flags|=1,n=Ei(p,u),n.ref=s.ref,n.return=s,s.child=n}function uE(n,s,o,u,f){if(n!==null){var p=n.memoizedProps;if(Vu(p,u)&&n.ref===s.ref)if(Kt=!1,s.pendingProps=u=p,Yp(n,f))(n.flags&131072)!==0&&(Kt=!0);else return s.lanes=n.lanes,Ii(n,s,f)}return Fp(n,s,o,u,f)}function cE(n,s,o,u){var f=u.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,s.child=null;return hE(n,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&sd(s,p!==null?p.cachePool:null),p!==null?f0(s,p):_p(),m0(s);else return u=s.lanes=536870912,hE(n,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(sd(s,p.cachePool),f0(s,p),ms(),s.memoizedState=null):(n!==null&&sd(s,null),_p(),ms());return hn(n,s,f,o),s.child}function Qu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function hE(n,s,o,u,f){var p=dp();return p=p===null?null:{parent:Ht._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},n!==null&&sd(s,null),_p(),m0(s),n!==null&&Fo(n,s,u,!0),s.childLanes=f,null}function Td(n,s){return s=wd({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function dE(n,s,o){return Ua(s,n.child,null,o),n=Td(s,s.pendingProps),n.flags|=2,Bn(s),s.memoizedState=null,n}function ER(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(He){if(u.mode==="hidden")return n=Td(s,u),s.lanes=536870912,Qu(null,n);if(Ep(s),(n=pt)?(n=AT(n,ar),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:as!==null?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},o=Yv(n),o.return=s,s.child=o,un=s,pt=null)):n=null,n===null)throw ls(s);return s.lanes=536870912,null}return Td(s,u)}var p=n.memoizedState;if(p!==null){var T=p.dehydrated;if(Ep(s),f)if(s.flags&256)s.flags&=-257,s=dE(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Kt||Fo(n,s,o,!1),f=(o&n.childLanes)!==0,Kt||f){if(u=dt,u!==null&&(T=mu(u,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,Da(n,T),Cn(u,n,T),Bp;Vd(),s=dE(n,s,o)}else n=p.treeContext,pt=lr(T.nextSibling),un=s,He=!0,os=null,ar=!1,n!==null&&Wv(s,n),s=Td(s,u),s.flags|=4096;return s}return n=Ei(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function bd(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Fp(n,s,o,u,f){return Ma(s),o=bp(n,s,o,u,void 0,f),u=wp(),n!==null&&!Kt?(Ap(n,s,f),Ii(n,s,f)):(He&&u&&rp(s),s.flags|=1,hn(n,s,o,f),s.child)}function fE(n,s,o,u,f,p){return Ma(s),s.updateQueue=null,o=g0(s,u,o,f),p0(n),u=wp(),n!==null&&!Kt?(Ap(n,s,p),Ii(n,s,p)):(He&&u&&rp(s),s.flags|=1,hn(n,s,o,p),s.child)}function mE(n,s,o,u,f){if(Ma(s),s.stateNode===null){var p=jo,T=o.contextType;typeof T=="object"&&T!==null&&(p=cn(T)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Up,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},mp(s),T=o.contextType,p.context=typeof T=="object"&&T!==null?cn(T):jo,p.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(jp(s,o,T,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Up.enqueueReplaceState(p,p.state,null),Fu(s,u,p,f),Bu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){p=s.stateNode;var A=s.memoizedProps,D=Ba(o,A);p.props=D;var K=p.context,te=o.contextType;T=jo,typeof te=="object"&&te!==null&&(T=cn(te));var ae=o.getDerivedStateFromProps;te=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||K!==T)&&eE(s,p,u,T),cs=!1;var $=s.memoizedState;p.state=$,Fu(s,u,p,f),Bu(),K=s.memoizedState,A||$!==K||cs?(typeof ae=="function"&&(jp(s,o,ae,u),K=s.memoizedState),(D=cs||Z0(s,o,D,u,$,K,T))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),p.props=u,p.state=K,p.context=T,u=D):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,pp(n,s),T=s.memoizedProps,te=Ba(o,T),p.props=te,ae=s.pendingProps,$=p.context,K=o.contextType,D=jo,typeof K=="object"&&K!==null&&(D=cn(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ae||$!==D)&&eE(s,p,u,D),cs=!1,$=s.memoizedState,p.state=$,Fu(s,u,p,f),Bu();var X=s.memoizedState;T!==ae||$!==X||cs||n!==null&&n.dependencies!==null&&rd(n.dependencies)?(typeof A=="function"&&(jp(s,o,A,u),X=s.memoizedState),(te=cs||Z0(s,o,te,u,$,X,D)||n!==null&&n.dependencies!==null&&rd(n.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,D)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),p.props=u,p.state=X,p.context=D,u=te):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),u=!1)}return p=u,bd(n,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&u?(s.child=Ua(s,n.child,null,f),s.child=Ua(s,null,o,f)):hn(n,s,o,f),s.memoizedState=p.state,n=s.child):n=Ii(n,s,f),n}function pE(n,s,o,u){return Oa(),s.flags|=256,hn(n,s,o,u),s.child}var qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hp(n){return{baseLanes:n,cachePool:i0()}}function Gp(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=qn),n}function gE(n,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,T;if((T=p)||(T=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,n===null){if(He){if(f?fs(s):ms(),(n=pt)?(n=AT(n,ar),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:as!==null?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},o=Yv(n),o.return=s,s.child=o,un=s,pt=null)):n=null,n===null)throw ls(s);return xg(n)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(ms(),f=s.mode,A=wd({mode:"hidden",children:A},f),u=Va(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=Hp(o),u.childLanes=Gp(n,T,o),s.memoizedState=qp,Qu(null,u)):(fs(s),Kp(s,A))}var D=n.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(p)s.flags&256?(fs(s),s.flags&=-257,s=Qp(n,s,o)):s.memoizedState!==null?(ms(),s.child=n.child,s.flags|=128,s=null):(ms(),A=u.fallback,f=s.mode,u=wd({mode:"visible",children:u.children},f),A=Va(A,f,o,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,Ua(s,n.child,null,o),u=s.child,u.memoizedState=Hp(o),u.childLanes=Gp(n,T,o),s.memoizedState=qp,s=Qu(null,u));else if(fs(s),xg(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(i(419)),u.stack="",u.digest=T,Mu({value:u,source:null,stack:null}),s=Qp(n,s,o)}else if(Kt||Fo(n,s,o,!1),T=(o&n.childLanes)!==0,Kt||T){if(T=dt,T!==null&&(u=mu(T,o),u!==0&&u!==D.retryLane))throw D.retryLane=u,Da(n,u),Cn(T,n,u),Bp;Ig(A)||Vd(),s=Qp(n,s,o)}else Ig(A)?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,pt=lr(A.nextSibling),un=s,He=!0,os=null,ar=!1,n!==null&&Wv(s,n),s=Kp(s,u.children),s.flags|=4096);return s}return f?(ms(),A=u.fallback,f=s.mode,D=n.child,K=D.sibling,u=Ei(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,K!==null?A=Ei(K,A):(A=Va(A,f,o,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,Qu(null,u),u=s.child,A=n.child.memoizedState,A===null?A=Hp(o):(f=A.cachePool,f!==null?(D=Ht._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=i0(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=Gp(n,T,o),s.memoizedState=qp,Qu(n.child,u)):(fs(s),o=n.child,n=o.sibling,o=Ei(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(T=s.deletions,T===null?(s.deletions=[n],s.flags|=16):T.push(n)),s.child=o,s.memoizedState=null,o)}function Kp(n,s){return s=wd({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function wd(n,s){return n=Un(22,n,null,s),n.lanes=0,n}function Qp(n,s,o){return Ua(s,n.child,null,o),n=Kp(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function yE(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),lp(n.return,s,o)}function $p(n,s,o,u,f,p){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=p)}function _E(n,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var T=Mt.current,A=(T&2)!==0;if(A?(T=T&1|2,s.flags|=128):T&=1,fe(Mt,T),hn(n,s,u,o),u=He?Pu:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&yE(n,o,s);else if(n.tag===19)yE(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&hd(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),$p(s,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&hd(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}$p(s,!0,o,null,p,u);break;case"together":$p(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ii(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ys|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Fo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=Ei(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Ei(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Yp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&rd(n)))}function TR(n,s,o){switch(s.tag){case 3:Vt(s,s.stateNode.containerInfo),us(s,Ht,n.memoizedState.cache),Oa();break;case 27:case 5:Yn(s);break;case 4:Vt(s,s.stateNode.containerInfo);break;case 10:us(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ep(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(fs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?gE(n,s,o):(fs(s),n=Ii(n,s,o),n!==null?n.sibling:null);fs(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Fo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return _E(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),fe(Mt,Mt.current),u)break;return null;case 22:return s.lanes=0,cE(n,s,o,s.pendingProps);case 24:us(s,Ht,n.memoizedState.cache)}return Ii(n,s,o)}function vE(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Yp(n,o)&&(s.flags&128)===0)return Kt=!1,TR(n,s,o);Kt=(n.flags&131072)!==0}else Kt=!1,He&&(s.flags&1048576)!==0&&Jv(s,Pu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=La(s.elementType),s.type=n,typeof n=="function")ep(n)?(u=Ba(n,u),s.tag=1,s=mE(null,s,n,u,o)):(s.tag=0,s=Fp(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===W){s.tag=11,s=oE(null,s,n,u,o);break e}else if(f===C){s.tag=14,s=lE(null,s,n,u,o);break e}}throw s=Oe(n)||n,Error(i(306,s,""))}}return s;case 0:return Fp(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Ba(u,s.pendingProps),mE(n,s,u,f,o);case 3:e:{if(Vt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,pp(n,s),Fu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,us(s,Ht,u),u!==p.cache&&up(s,[Ht],o,!0),Bu(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=pE(n,s,u,o);break e}else if(u!==f){f=rr(Error(i(424)),s),Mu(f),s=pE(n,s,u,o);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,pt=lr(n.firstChild),un=s,He=!0,os=null,ar=!0,o=c0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Oa(),u===f){s=Ii(n,s,o);break e}hn(n,s,u,o)}s=s.child}return s;case 26:return bd(n,s),n===null?(o=NT(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,n=s.pendingProps,u=Ud(Re.current).createElement(o),u[Bt]=s,u[en]=n,dn(u,o,n),Ft(u),s.stateNode=u):s.memoizedState=NT(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Yn(s),n===null&&He&&(u=s.stateNode=xT(s.type,s.pendingProps,Re.current),un=s,ar=!0,f=pt,bs(s.type)?(Rg=f,pt=lr(u.firstChild)):pt=f),hn(n,s,s.pendingProps.children,o),bd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&He&&((f=u=pt)&&(u=JR(u,s.type,s.pendingProps,ar),u!==null?(s.stateNode=u,un=s,pt=lr(u.firstChild),ar=!1,f=!0):f=!1),f||ls(s)),Yn(s),f=s.type,p=s.pendingProps,T=n!==null?n.memoizedProps:null,u=p.children,wg(f,p)?u=null:T!==null&&wg(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=bp(n,s,dR,null,null,o),lc._currentValue=f),bd(n,s),hn(n,s,u,o),s.child;case 6:return n===null&&He&&((n=o=pt)&&(o=WR(o,s.pendingProps,ar),o!==null?(s.stateNode=o,un=s,pt=null,n=!0):n=!1),n||ls(s)),null;case 13:return gE(n,s,o);case 4:return Vt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Ua(s,null,u,o):hn(n,s,u,o),s.child;case 11:return oE(n,s,s.type,s.pendingProps,o);case 7:return hn(n,s,s.pendingProps,o),s.child;case 8:return hn(n,s,s.pendingProps.children,o),s.child;case 12:return hn(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,us(s,s.type,u.value),hn(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Ma(s),f=cn(f),u=u(f),s.flags|=1,hn(n,s,u,o),s.child;case 14:return lE(n,s,s.type,s.pendingProps,o);case 15:return uE(n,s,s.type,s.pendingProps,o);case 19:return _E(n,s,o);case 31:return ER(n,s,o);case 22:return cE(n,s,o,s.pendingProps);case 24:return Ma(s),u=cn(Ht),n===null?(f=dp(),f===null&&(f=dt,p=cp(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},mp(s),us(s,Ht,f)):((n.lanes&o)!==0&&(pp(n,s),Fu(s,null,null,o),Bu()),f=n.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),us(s,Ht,u)):(u=p.cache,us(s,Ht,u),u!==f.cache&&up(s,[Ht],o,!0))),hn(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function xi(n){n.flags|=4}function Xp(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(KE())n.flags|=8192;else throw ja=od,fp}else n.flags&=-16777217}function EE(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!MT(s))if(KE())n.flags|=8192;else throw ja=od,fp}function Ad(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Nh():536870912,n.lanes|=s,el|=s)}function $u(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function gt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function bR(n,s,o){var u=s.pendingProps;switch(ip(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),wi(Ht),ft(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Bo(s)?xi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ap())),gt(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(xi(s),p!==null?(gt(s),EE(s,p)):(gt(s),Xp(s,f,null,u,o))):p?p!==n.memoizedState?(xi(s),gt(s),EE(s,p)):(gt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&xi(s),gt(s),Xp(s,f,n,u,o)),null;case 27:if(Z(s),o=Re.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&xi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}n=ge.current,Bo(s)?Zv(s):(n=xT(f,u,o),s.stateNode=n,xi(s))}return gt(s),null;case 5:if(Z(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&xi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(p=ge.current,Bo(s))Zv(s);else{var T=Ud(Re.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}p[Bt]=s,p[en]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=p;e:switch(dn(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&xi(s)}}return gt(s),Xp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&xi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=Re.current,Bo(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=un,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Bt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||gT(n.nodeValue,o)),n||ls(s,!0)}else n=Ud(n).createTextNode(u),n[Bt]=s,s.stateNode=n}return gt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=Bo(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Bt]=s}else Oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),n=!1}else o=ap(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Bn(s),s):(Bn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return gt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Bo(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Bt]=s}else Oa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),f=!1}else f=ap(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Bn(s),s):(Bn(s),null)}return Bn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Ad(s,s.updateQueue),gt(s),null);case 4:return ft(),n===null&&_g(s.stateNode.containerInfo),gt(s),null;case 10:return wi(s.type),gt(s),null;case 19:if(se(Mt),u=s.memoizedState,u===null)return gt(s),null;if(f=(s.flags&128)!==0,p=u.rendering,p===null)if(f)$u(u,!1);else{if(Dt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=hd(n),p!==null){for(s.flags|=128,$u(u,!1),n=p.updateQueue,s.updateQueue=n,Ad(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)$v(o,n),o=o.sibling;return fe(Mt,Mt.current&1|2),He&&Ti(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&En()>Cd&&(s.flags|=128,f=!0,$u(u,!1),s.lanes=4194304)}else{if(!f)if(n=hd(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Ad(s,n),$u(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!He)return gt(s),null}else 2*En()-u.renderingStartTime>Cd&&o!==536870912&&(s.flags|=128,f=!0,$u(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(n=u.last,n!==null?n.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=En(),n.sibling=null,o=Mt.current,fe(Mt,f?o&1|2:o&1),He&&Ti(s,u.treeForkCount),n):(gt(s),null);case 22:case 23:return Bn(s),vp(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&Ad(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&se(ka),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),wi(Ht),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function wR(n,s){switch(ip(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return wi(Ht),ft(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Z(s),null;case 31:if(s.memoizedState!==null){if(Bn(s),s.alternate===null)throw Error(i(340));Oa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Bn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Oa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return se(Mt),null;case 4:return ft(),null;case 10:return wi(s.type),null;case 22:case 23:return Bn(s),vp(),n!==null&&se(ka),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return wi(Ht),null;case 25:return null;default:return null}}function TE(n,s){switch(ip(s),s.tag){case 3:wi(Ht),ft();break;case 26:case 27:case 5:Z(s);break;case 4:ft();break;case 31:s.memoizedState!==null&&Bn(s);break;case 13:Bn(s);break;case 19:se(Mt);break;case 10:wi(s.type);break;case 22:case 23:Bn(s),vp(),n!==null&&se(ka);break;case 24:wi(Ht)}}function Yu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==f)}}catch(A){tt(s,s.return,A)}}function ps(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=s;var D=o,K=A;try{K()}catch(te){tt(f,D,te)}}}u=u.next}while(u!==p)}}catch(te){tt(s,s.return,te)}}function bE(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{d0(s,o)}catch(u){tt(n,n.return,u)}}}function wE(n,s,o){o.props=Ba(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,s,u)}}function Xu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,s,f)}}function Wr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,s,f)}else o.current=null}function AE(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function Jp(n,s,o){try{var u=n.stateNode;GR(u,n.type,o,s),u[en]=s}catch(f){tt(n,n.return,f)}}function SE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&bs(n.type)||n.tag===4}function Wp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||SE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&bs(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zp(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=gr));else if(u!==4&&(u===27&&bs(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Zp(n,s,o),n=n.sibling;n!==null;)Zp(n,s,o),n=n.sibling}function Sd(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&bs(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Sd(n,s,o),n=n.sibling;n!==null;)Sd(n,s,o),n=n.sibling}function IE(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);dn(s,u,o),s[Bt]=n,s[en]=o}catch(p){tt(n,n.return,p)}}var Ri=!1,Qt=!1,eg=!1,xE=typeof WeakSet=="function"?WeakSet:Set,nn=null;function AR(n,s){if(n=n.containerInfo,Tg=Kd,n=Uv(n),Qm(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,A=-1,D=-1,K=0,te=0,ae=n,$=null;t:for(;;){for(var X;ae!==o||f!==0&&ae.nodeType!==3||(A=T+f),ae!==p||u!==0&&ae.nodeType!==3||(D=T+u),ae.nodeType===3&&(T+=ae.nodeValue.length),(X=ae.firstChild)!==null;)$=ae,ae=X;for(;;){if(ae===n)break t;if($===o&&++K===f&&(A=T),$===p&&++te===u&&(D=T),(X=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=X}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(bg={focusedElem:n,selectionRange:o},Kd=!1,nn=s;nn!==null;)if(s=nn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,nn=n;else for(;nn!==null;){switch(s=nn,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ye=Ba(o.type,f);n=u.getSnapshotBeforeUpdate(ye,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(we){tt(o,o.return,we)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Sg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,nn=n;break}nn=s.return}}function RE(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ni(n,o),u&4&&Yu(5,o);break;case 1:if(Ni(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(T){tt(o,o.return,T)}else{var f=Ba(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(T){tt(o,o.return,T)}}u&64&&bE(o),u&512&&Xu(o,o.return);break;case 3:if(Ni(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{d0(n,s)}catch(T){tt(o,o.return,T)}}break;case 27:s===null&&u&4&&IE(o);case 26:case 5:Ni(n,o),s===null&&u&4&&AE(o),u&512&&Xu(o,o.return);break;case 12:Ni(n,o);break;case 31:Ni(n,o),u&4&&DE(n,o);break;case 13:Ni(n,o),u&4&&VE(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=OR.bind(null,o),ZR(n,o))));break;case 22:if(u=o.memoizedState!==null||Ri,!u){s=s!==null&&s.memoizedState!==null||Qt,f=Ri;var p=Qt;Ri=u,(Qt=s)&&!p?Di(n,o,(o.subtreeFlags&8772)!==0):Ni(n,o),Ri=f,Qt=p}break;case 30:break;default:Ni(n,o)}}function CE(n){var s=n.alternate;s!==null&&(n.alternate=null,CE(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ao(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bt=null,Sn=!1;function Ci(n,s,o){for(o=o.child;o!==null;)NE(n,s,o),o=o.sibling}function NE(n,s,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(dr,o)}catch{}switch(o.tag){case 26:Qt||Wr(o,s),Ci(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qt||Wr(o,s);var u=bt,f=Sn;bs(o.type)&&(bt=o.stateNode,Sn=!1),Ci(n,s,o),sc(o.stateNode),bt=u,Sn=f;break;case 5:Qt||Wr(o,s);case 6:if(u=bt,f=Sn,bt=null,Ci(n,s,o),bt=u,Sn=f,bt!==null)if(Sn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(p){tt(o,s,p)}else try{bt.removeChild(o.stateNode)}catch(p){tt(o,s,p)}break;case 18:bt!==null&&(Sn?(n=bt,bT(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ll(n)):bT(bt,o.stateNode));break;case 4:u=bt,f=Sn,bt=o.stateNode.containerInfo,Sn=!0,Ci(n,s,o),bt=u,Sn=f;break;case 0:case 11:case 14:case 15:ps(2,o,s),Qt||ps(4,o,s),Ci(n,s,o);break;case 1:Qt||(Wr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&wE(o,s,u)),Ci(n,s,o);break;case 21:Ci(n,s,o);break;case 22:Qt=(u=Qt)||o.memoizedState!==null,Ci(n,s,o),Qt=u;break;default:Ci(n,s,o)}}function DE(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ll(n)}catch(o){tt(s,s.return,o)}}}function VE(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ll(n)}catch(o){tt(s,s.return,o)}}function SR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new xE),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new xE),s;default:throw Error(i(435,n.tag))}}function Id(n,s){var o=SR(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=PR.bind(null,n,u);u.then(f,f)}})}function In(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=n,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(bs(A.type)){bt=A.stateNode,Sn=!1;break e}break;case 5:bt=A.stateNode,Sn=!1;break e;case 3:case 4:bt=A.stateNode.containerInfo,Sn=!0;break e}A=A.return}if(bt===null)throw Error(i(160));NE(p,T,f),bt=null,Sn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)OE(s,n),s=s.sibling}var br=null;function OE(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:In(s,n),xn(n),u&4&&(ps(3,n,n.return),Yu(3,n),ps(5,n,n.return));break;case 1:In(s,n),xn(n),u&512&&(Qt||o===null||Wr(o,o.return)),u&64&&Ri&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=br;if(In(s,n),xn(n),u&512&&(Qt||o===null||Wr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[jr]||p[Bt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),dn(p,u,o),p[Bt]=n,Ft(p),u=p;break e;case"link":var T=OT("link","href",f).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}p=f.createElement(u),dn(p,u,o),f.head.appendChild(p);break;case"meta":if(T=OT("meta","content",f).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}p=f.createElement(u),dn(p,u,o),f.head.appendChild(p);break;default:throw Error(i(468,u))}p[Bt]=n,Ft(p),u=p}n.stateNode=u}else PT(f,n.type,n.stateNode);else n.stateNode=VT(f,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?PT(f,n.type,n.stateNode):VT(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Jp(n,n.memoizedProps,o.memoizedProps)}break;case 27:In(s,n),xn(n),u&512&&(Qt||o===null||Wr(o,o.return)),o!==null&&u&4&&Jp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(In(s,n),xn(n),u&512&&(Qt||o===null||Wr(o,o.return)),n.flags&32){f=n.stateNode;try{An(f,"")}catch(ye){tt(n,n.return,ye)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Jp(n,f,o!==null?o.memoizedProps:f)),u&1024&&(eg=!0);break;case 6:if(In(s,n),xn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ye){tt(n,n.return,ye)}}break;case 3:if(Fd=null,f=br,br=zd(s.containerInfo),In(s,n),br=f,xn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ll(s.containerInfo)}catch(ye){tt(n,n.return,ye)}eg&&(eg=!1,PE(n));break;case 4:u=br,br=zd(n.stateNode.containerInfo),In(s,n),xn(n),br=u;break;case 12:In(s,n),xn(n);break;case 31:In(s,n),xn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Id(n,u)));break;case 13:In(s,n),xn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rd=En()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Id(n,u)));break;case 22:f=n.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,K=Ri,te=Qt;if(Ri=K||f,Qt=te||D,In(s,n),Qt=te,Ri=K,xn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||D||Ri||Qt||Fa(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(p=D.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=D.stateNode;var ae=D.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ye){tt(D,D.return,ye)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ye){tt(D,D.return,ye)}}}else if(s.tag===18){if(o===null){D=s;try{var X=D.stateNode;f?wT(X,!0):wT(D.stateNode,!1)}catch(ye){tt(D,D.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Id(n,o))));break;case 19:In(s,n),xn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Id(n,u)));break;case 30:break;case 21:break;default:In(s,n),xn(n)}}function xn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(SE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=Wp(n);Sd(n,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(An(T,""),o.flags&=-33);var A=Wp(n);Sd(n,A,T);break;case 3:case 4:var D=o.stateNode.containerInfo,K=Wp(n);Zp(n,K,D);break;default:throw Error(i(161))}}catch(te){tt(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function PE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;PE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ni(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)RE(n,s.alternate,s),s=s.sibling}function Fa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Fa(s);break;case 1:Wr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&wE(s,s.return,o),Fa(s);break;case 27:sc(s.stateNode);case 26:case 5:Wr(s,s.return),Fa(s);break;case 22:s.memoizedState===null&&Fa(s);break;case 30:Fa(s);break;default:Fa(s)}n=n.sibling}}function Di(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,p=s,T=p.flags;switch(p.tag){case 0:case 11:case 15:Di(f,p,o),Yu(4,p);break;case 1:if(Di(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){tt(u,u.return,K)}if(u=p,f=u.updateQueue,f!==null){var A=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)h0(D[f],A)}catch(K){tt(u,u.return,K)}}o&&T&64&&bE(p),Xu(p,p.return);break;case 27:IE(p);case 26:case 5:Di(f,p,o),o&&u===null&&T&4&&AE(p),Xu(p,p.return);break;case 12:Di(f,p,o);break;case 31:Di(f,p,o),o&&T&4&&DE(f,p);break;case 13:Di(f,p,o),o&&T&4&&VE(f,p);break;case 22:p.memoizedState===null&&Di(f,p,o),Xu(p,p.return);break;case 30:break;default:Di(f,p,o)}s=s.sibling}}function tg(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&ku(o))}function ng(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ku(n))}function wr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)ME(n,s,o,u),s=s.sibling}function ME(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:wr(n,s,o,u),f&2048&&Yu(9,s);break;case 1:wr(n,s,o,u);break;case 3:wr(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ku(n)));break;case 12:if(f&2048){wr(n,s,o,u),n=s.stateNode;try{var p=s.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){tt(s,s.return,D)}}else wr(n,s,o,u);break;case 31:wr(n,s,o,u);break;case 13:wr(n,s,o,u);break;case 23:break;case 22:p=s.stateNode,T=s.alternate,s.memoizedState!==null?p._visibility&2?wr(n,s,o,u):Ju(n,s):p._visibility&2?wr(n,s,o,u):(p._visibility|=2,Jo(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&tg(T,s);break;case 24:wr(n,s,o,u),f&2048&&ng(s.alternate,s);break;default:wr(n,s,o,u)}}function Jo(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,T=s,A=o,D=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Jo(p,T,A,D,f),Yu(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?Jo(p,T,A,D,f):Ju(p,T):(te._visibility|=2,Jo(p,T,A,D,f)),f&&K&2048&&tg(T.alternate,T);break;case 24:Jo(p,T,A,D,f),f&&K&2048&&ng(T.alternate,T);break;default:Jo(p,T,A,D,f)}s=s.sibling}}function Ju(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:Ju(o,u),f&2048&&tg(u.alternate,u);break;case 24:Ju(o,u),f&2048&&ng(u.alternate,u);break;default:Ju(o,u)}s=s.sibling}}var Wu=8192;function Wo(n,s,o){if(n.subtreeFlags&Wu)for(n=n.child;n!==null;)kE(n,s,o),n=n.sibling}function kE(n,s,o){switch(n.tag){case 26:Wo(n,s,o),n.flags&Wu&&n.memoizedState!==null&&hC(o,br,n.memoizedState,n.memoizedProps);break;case 5:Wo(n,s,o);break;case 3:case 4:var u=br;br=zd(n.stateNode.containerInfo),Wo(n,s,o),br=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Wu,Wu=16777216,Wo(n,s,o),Wu=u):Wo(n,s,o));break;default:Wo(n,s,o)}}function LE(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Zu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,UE(u,n)}LE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jE(n),n=n.sibling}function jE(n){switch(n.tag){case 0:case 11:case 15:Zu(n),n.flags&2048&&ps(9,n,n.return);break;case 3:Zu(n);break;case 12:Zu(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,xd(n)):Zu(n);break;default:Zu(n)}}function xd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,UE(u,n)}LE(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ps(8,s,s.return),xd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,xd(s));break;default:xd(s)}n=n.sibling}}function UE(n,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ku(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=n;nn!==null;){u=nn;var f=u.sibling,p=u.return;if(CE(u),u===o){nn=null;break e}if(f!==null){f.return=p,nn=f;break e}nn=p}}}var IR={getCacheForType:function(n){var s=cn(Ht),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return cn(Ht).controller.signal}},xR=typeof WeakMap=="function"?WeakMap:Map,Xe=0,dt=null,ke=null,ze=0,et=0,Fn=null,gs=!1,Zo=!1,rg=!1,Vi=0,Dt=0,ys=0,qa=0,ig=0,qn=0,el=0,ec=null,Rn=null,sg=!1,Rd=0,zE=0,Cd=1/0,Nd=null,_s=null,Xt=0,vs=null,tl=null,Oi=0,ag=0,og=null,BE=null,tc=0,lg=null;function Hn(){return(Xe&2)!==0&&ze!==0?ze&-ze:ee.T!==null?mg():Dh()}function FE(){if(qn===0)if((ze&536870912)===0||He){var n=ga;ga<<=1,(ga&3932160)===0&&(ga=262144),qn=n}else qn=536870912;return n=zn.current,n!==null&&(n.flags|=32),qn}function Cn(n,s,o){(n===dt&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(nl(n,0),Es(n,ze,qn,!1)),ya(n,o),((Xe&2)===0||n!==dt)&&(n===dt&&((Xe&2)===0&&(qa|=o),Dt===4&&Es(n,ze,qn,!1)),Zr(n))}function qE(n,s,o){if((Xe&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||fr(n,s),f=u?NR(n,s):cg(n,s,!0),p=u;do{if(f===0){Zo&&!u&&Es(n,s,0,!1);break}else{if(o=n.current.alternate,p&&!RR(o)){f=cg(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var A=n;f=ec;var D=A.current.memoizedState.isDehydrated;if(D&&(nl(A,T).flags|=256),T=cg(A,T,!1),T!==2){if(rg&&!D){A.errorRecoveryDisabledLanes|=p,qa|=p,f=4;break e}p=Rn,Rn=f,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){nl(n,0),Es(n,s,0,!0);break}e:{switch(u=n,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Es(u,s,qn,!gs);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Rd+300-En(),10<f)){if(Es(u,s,qn,!gs),Mr(u,0,!0)!==0)break e;Oi=s,u.timeoutHandle=ET(HE.bind(null,u,o,Rn,Nd,sg,s,qn,qa,el,gs,p,"Throttled",-0,0),f);break e}HE(u,o,Rn,Nd,sg,s,qn,qa,el,gs,p,null,-0,0)}}break}while(!0);Zr(n)}function HE(n,s,o,u,f,p,T,A,D,K,te,ae,$,X){if(n.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gr},kE(s,p,ae);var ye=(p&62914560)===p?Rd-En():(p&4194048)===p?zE-En():0;if(ye=dC(ae,ye),ye!==null){Oi=p,n.cancelPendingCommit=ye(WE.bind(null,n,s,p,o,u,f,T,A,D,te,ae,null,$,X)),Es(n,p,T,!K);return}}WE(n,s,p,o,u,f,T,A,D)}function RR(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!jn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Es(n,s,o,u){s&=~ig,s&=~qa,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var p=31-Ot(f),T=1<<p;u[p]=-1,f&=~T}o!==0&&_a(n,o,s)}function Dd(){return(Xe&6)===0?(nc(0),!1):!0}function ug(){if(ke!==null){if(et===0)var n=ke.return;else n=ke,bi=Pa=null,Sp(n),Ko=null,ju=0,n=ke;for(;n!==null;)TE(n.alternate,n),n=n.return;ke=null}}function nl(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,$R(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Oi=0,ug(),dt=n,ke=o=Ei(n.current,null),ze=s,et=0,Fn=null,gs=!1,Zo=fr(n,s),rg=!1,el=qn=ig=qa=ys=Dt=0,Rn=ec=null,sg=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Ot(u),p=1<<f;s|=n[f],u&=~p}return Vi=s,Wh(),o}function GE(n,s){De=null,ee.H=Ku,s===Go||s===ad?(s=o0(),et=3):s===fp?(s=o0(),et=4):et=s===Bp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,ke===null&&(Dt=1,Ed(n,rr(s,n.current)))}function KE(){var n=zn.current;return n===null?!0:(ze&4194048)===ze?or===null:(ze&62914560)===ze||(ze&536870912)!==0?n===or:!1}function QE(){var n=ee.H;return ee.H=Ku,n===null?Ku:n}function $E(){var n=ee.A;return ee.A=IR,n}function Vd(){Dt=4,gs||(ze&4194048)!==ze&&zn.current!==null||(Zo=!0),(ys&134217727)===0&&(qa&134217727)===0||dt===null||Es(dt,ze,qn,!1)}function cg(n,s,o){var u=Xe;Xe|=2;var f=QE(),p=$E();(dt!==n||ze!==s)&&(Nd=null,nl(n,s)),s=!1;var T=Dt;e:do try{if(et!==0&&ke!==null){var A=ke,D=Fn;switch(et){case 8:ug(),T=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(s=!0);var K=et;if(et=0,Fn=null,rl(n,A,D,K),o&&Zo){T=0;break e}break;default:K=et,et=0,Fn=null,rl(n,A,D,K)}}CR(),T=Dt;break}catch(te){GE(n,te)}while(!0);return s&&n.shellSuspendCounter++,bi=Pa=null,Xe=u,ee.H=f,ee.A=p,ke===null&&(dt=null,ze=0,Wh()),T}function CR(){for(;ke!==null;)YE(ke)}function NR(n,s){var o=Xe;Xe|=2;var u=QE(),f=$E();dt!==n||ze!==s?(Nd=null,Cd=En()+500,nl(n,s)):Zo=fr(n,s);e:do try{if(et!==0&&ke!==null){s=ke;var p=Fn;t:switch(et){case 1:et=0,Fn=null,rl(n,s,p,1);break;case 2:case 9:if(s0(p)){et=0,Fn=null,XE(s);break}s=function(){et!==2&&et!==9||dt!==n||(et=7),Zr(n)},p.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:s0(p)?(et=0,Fn=null,XE(s)):(et=0,Fn=null,rl(n,s,p,7));break;case 5:var T=null;switch(ke.tag){case 26:T=ke.memoizedState;case 5:case 27:var A=ke;if(T?MT(T):A.stateNode.complete){et=0,Fn=null;var D=A.sibling;if(D!==null)ke=D;else{var K=A.return;K!==null?(ke=K,Od(K)):ke=null}break t}}et=0,Fn=null,rl(n,s,p,5);break;case 6:et=0,Fn=null,rl(n,s,p,6);break;case 8:ug(),Dt=6;break e;default:throw Error(i(462))}}DR();break}catch(te){GE(n,te)}while(!0);return bi=Pa=null,ee.H=u,ee.A=f,Xe=o,ke!==null?0:(dt=null,ze=0,Wh(),Dt)}function DR(){for(;ke!==null&&!zm();)YE(ke)}function YE(n){var s=vE(n.alternate,n,Vi);n.memoizedProps=n.pendingProps,s===null?Od(n):ke=s}function XE(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=fE(o,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=fE(o,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:Sp(s);default:TE(o,s),s=ke=$v(s,Vi),s=vE(o,s,Vi)}n.memoizedProps=n.pendingProps,s===null?Od(n):ke=s}function rl(n,s,o,u){bi=Pa=null,Sp(s),Ko=null,ju=0;var f=s.return;try{if(vR(n,f,s,o,ze)){Dt=1,Ed(n,rr(o,n.current)),ke=null;return}}catch(p){if(f!==null)throw ke=f,p;Dt=1,Ed(n,rr(o,n.current)),ke=null;return}s.flags&32768?(He||u===1?n=!0:Zo||(ze&536870912)!==0?n=!1:(gs=n=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),JE(s,n)):Od(s)}function Od(n){var s=n;do{if((s.flags&32768)!==0){JE(s,gs);return}n=s.return;var o=bR(s.alternate,s,Vi);if(o!==null){ke=o;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=n}while(s!==null);Dt===0&&(Dt=5)}function JE(n,s){do{var o=wR(n.alternate,n);if(o!==null){o.flags&=32767,ke=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){ke=n;return}ke=n=o}while(n!==null);Dt=6,ke=null}function WE(n,s,o,u,f,p,T,A,D){n.cancelPendingCommit=null;do Pd();while(Xt!==0);if((Xe&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Wm,qm(n,o,p,T,A,D),n===dt&&(ke=dt=null,ze=0),tl=s,vs=n,Oi=o,ag=p,og=f,BE=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,MR(Xi,function(){return rT(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,f=de.p,de.p=2,T=Xe,Xe|=4;try{AR(n,s,o)}finally{Xe=T,de.p=f,ee.T=u}}Xt=1,ZE(),eT(),tT()}}function ZE(){if(Xt===1){Xt=0;var n=vs,s=tl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=de.p;de.p=2;var f=Xe;Xe|=4;try{OE(s,n);var p=bg,T=Uv(n.containerInfo),A=p.focusedElem,D=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&jv(A.ownerDocument.documentElement,A)){if(D!==null&&Qm(A)){var K=D.start,te=D.end;if(te===void 0&&(te=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(te,A.value.length);else{var ae=A.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var X=$.getSelection(),ye=A.textContent.length,we=Math.min(D.start,ye),ut=D.end===void 0?we:Math.min(D.end,ye);!X.extend&&we>ut&&(T=ut,ut=we,we=T);var z=Lv(A,we),P=Lv(A,ut);if(z&&P&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var H=ae.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),we>ut?(X.addRange(H),X.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),X.addRange(H))}}}}for(ae=[],X=A;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var re=ae[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Kd=!!Tg,bg=Tg=null}finally{Xe=f,de.p=u,ee.T=o}}n.current=s,Xt=2}}function eT(){if(Xt===2){Xt=0;var n=vs,s=tl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=de.p;de.p=2;var f=Xe;Xe|=4;try{RE(n,s.alternate,s)}finally{Xe=f,de.p=u,ee.T=o}}Xt=3}}function tT(){if(Xt===4||Xt===3){Xt=0,Ah();var n=vs,s=tl,o=Oi,u=BE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xt=5:(Xt=0,tl=vs=null,nT(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(_s=null),gi(o),s=s.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(dr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,f=de.p,de.p=2,ee.T=null;try{for(var p=n.onRecoverableError,T=0;T<u.length;T++){var A=u[T];p(A.value,{componentStack:A.stack})}}finally{ee.T=s,de.p=f}}(Oi&3)!==0&&Pd(),Zr(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===lg?tc++:(tc=0,lg=n):tc=0,nc(0)}}function nT(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,ku(s)))}function Pd(){return ZE(),eT(),tT(),rT()}function rT(){if(Xt!==5)return!1;var n=vs,s=ag;ag=0;var o=gi(Oi),u=ee.T,f=de.p;try{de.p=32>o?32:o,ee.T=null,o=og,og=null;var p=vs,T=Oi;if(Xt=0,tl=vs=null,Oi=0,(Xe&6)!==0)throw Error(i(331));var A=Xe;if(Xe|=4,jE(p.current),ME(p,p.current,T,o),Xe=A,nc(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(dr,p)}catch{}return!0}finally{de.p=f,ee.T=u,nT(n,s)}}function iT(n,s,o){s=rr(o,s),s=zp(n.stateNode,s,2),n=ds(n,s,2),n!==null&&(ya(n,2),Zr(n))}function tt(n,s,o){if(n.tag===3)iT(n,n,o);else for(;s!==null;){if(s.tag===3){iT(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(_s===null||!_s.has(u))){n=rr(o,n),o=sE(2),u=ds(s,o,2),u!==null&&(aE(o,u,s,n),ya(u,2),Zr(u));break}}s=s.return}}function hg(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new xR;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(rg=!0,f.add(o),n=VR.bind(null,n,s,o),s.then(n,n))}function VR(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,dt===n&&(ze&o)===o&&(Dt===4||Dt===3&&(ze&62914560)===ze&&300>En()-Rd?(Xe&2)===0&&nl(n,0):ig|=o,el===ze&&(el=0)),Zr(n)}function sT(n,s){s===0&&(s=Nh()),n=Da(n,s),n!==null&&(ya(n,s),Zr(n))}function OR(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),sT(n,o)}function PR(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),sT(n,o)}function MR(n,s){return Ut(n,s)}var Md=null,il=null,dg=!1,kd=!1,fg=!1,Ts=0;function Zr(n){n!==il&&n.next===null&&(il===null?Md=il=n:il=il.next=n),kd=!0,dg||(dg=!0,LR())}function nc(n,s){if(!fg&&kd){fg=!0;do for(var o=!1,u=Md;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-Ot(42|n)+1)-1,p&=f&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,uT(u,p))}else p=ze,p=Mr(u,u===dt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||fr(u,p)||(o=!0,uT(u,p));u=u.next}while(o);fg=!1}}function kR(){aT()}function aT(){kd=dg=!1;var n=0;Ts!==0&&QR()&&(n=Ts);for(var s=En(),o=null,u=Md;u!==null;){var f=u.next,p=oT(u,s);p===0?(u.next=null,o===null?Md=f:o.next=f,f===null&&(il=o)):(o=u,(n!==0||(p&3)!==0)&&(kd=!0)),u=f}Xt!==0&&Xt!==5||nc(n),Ts!==0&&(Ts=0)}function oT(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var T=31-Ot(p),A=1<<T,D=f[T];D===-1?((A&o)===0||(A&u)!==0)&&(f[T]=Fm(A,s)):D<=s&&(n.expiredLanes|=A),p&=~A}if(s=dt,o=ze,o=Mr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Xn(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||fr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Xn(u),gi(o)){case 2:case 8:o=du;break;case 32:o=Xi;break;case 268435456:o=Sh;break;default:o=Xi}return u=lT.bind(null,n),o=Ut(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Xn(u),n.callbackPriority=2,n.callbackNode=null,2}function lT(n,s){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Pd()&&n.callbackNode!==o)return null;var u=ze;return u=Mr(n,n===dt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(qE(n,u,s),oT(n,En()),n.callbackNode!=null&&n.callbackNode===o?lT.bind(null,n):null)}function uT(n,s){if(Pd())return null;qE(n,s,!0)}function LR(){YR(function(){(Xe&6)!==0?Ut(hu,kR):aT()})}function mg(){if(Ts===0){var n=qo;n===0&&(n=Or,Or<<=1,(Or&261888)===0&&(Or=256)),Ts=n}return Ts}function cT(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ro(""+n)}function hT(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function jR(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=cT((f[en]||null).action),T=u.submitter;T&&(s=(s=T[en]||null)?cT(s.formAction):T.getAttribute("formAction"),s!==null&&(p=s,T=null));var A=new Kr("action","action",null,u,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ts!==0){var D=T?hT(f,T):new FormData(f);Pp(o,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(A.preventDefault(),D=T?hT(f,T):new FormData(f),Pp(o,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var pg=0;pg<Jm.length;pg++){var gg=Jm[pg],UR=gg.toLowerCase(),zR=gg[0].toUpperCase()+gg.slice(1);Tr(UR,"on"+zR)}Tr(Fv,"onAnimationEnd"),Tr(qv,"onAnimationIteration"),Tr(Hv,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(nR,"onTransitionRun"),Tr(rR,"onTransitionStart"),Tr(iR,"onTransitionCancel"),Tr(Gv,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rc));function dT(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var T=u.length-1;0<=T;T--){var A=u[T],D=A.instance,K=A.currentTarget;if(A=A.listener,D!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=K;try{p(f)}catch(te){Jh(te)}f.currentTarget=null,p=D}else for(T=0;T<u.length;T++){if(A=u[T],D=A.instance,K=A.currentTarget,A=A.listener,D!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=K;try{p(f)}catch(te){Jh(te)}f.currentTarget=null,p=D}}}}function Le(n,s){var o=s[wo];o===void 0&&(o=s[wo]=new Set);var u=n+"__bubble";o.has(u)||(fT(s,n,2,!1),o.add(u))}function yg(n,s,o){var u=0;s&&(u|=4),fT(o,n,u,s)}var Ld="_reactListening"+Math.random().toString(36).slice(2);function _g(n){if(!n[Ld]){n[Ld]=!0,pu.forEach(function(o){o!=="selectionchange"&&(BR.has(o)||yg(o,!1,n),yg(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Ld]||(s[Ld]=!0,yg("selectionchange",!1,s))}}function fT(n,s,o,u){switch(FT(s)){case 2:var f=pC;break;case 8:f=gC;break;default:f=Og}o=f.bind(null,s,o,n),f=void 0,!wa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function vg(n,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=Ur(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=p=T;continue e}A=A.parentNode}}u=u.return}ns(function(){var K=p,te=Zn(o),ae=[];e:{var $=Kv.get(n);if($!==void 0){var X=Kr,ye=n;switch(n){case"keypress":if(Sa(o)===0)break e;case"keydown":case"keyup":X=$h;break;case"focusin":ye="focus",X=xa;break;case"focusout":ye="blur",X=xa;break;case"beforeblur":case"afterblur":X=xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Fv:case qv:case Hv:X=Bh;break;case Gv:X=S;break;case"scroll":case"scrollend":X=xu;break;case"wheel":X=Y;break;case"copy":case"cut":case"paste":X=Fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=vi;break;case"toggle":case"beforetoggle":X=Ne}var we=(s&4)!==0,ut=!we&&(n==="scroll"||n==="scrollend"),z=we?$!==null?$+"Capture":null:$;we=[];for(var P=K,H;P!==null;){var re=P;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||z===null||(re=yr(P,z),re!=null&&we.push(ic(P,re,H))),ut)break;P=P.return}0<we.length&&($=new X($,ye,null,o,te),ae.push({event:$,listeners:we}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",$&&o!==Au&&(ye=o.relatedTarget||o.fromElement)&&(Ur(ye)||ye[Lr]))break e;if((X||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,X?(ye=o.relatedTarget||o.toElement,X=K,ye=ye?Ur(ye):null,ye!==null&&(ut=l(ye),we=ye.tag,ye!==ut||we!==5&&we!==27&&we!==6)&&(ye=null)):(X=null,ye=K),X!==ye)){if(we=Ru,re="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(we=vi,re="onPointerLeave",z="onPointerEnter",P="pointer"),ut=X==null?$:kn(X),H=ye==null?$:kn(ye),$=new we(re,P+"leave",X,o,te),$.target=ut,$.relatedTarget=H,re=null,Ur(te)===K&&(we=new we(z,P+"enter",ye,o,te),we.target=H,we.relatedTarget=ut,re=we),ut=re,X&&ye)t:{for(we=FR,z=X,P=ye,H=0,re=z;re;re=we(re))H++;re=0;for(var be=P;be;be=we(be))re++;for(;0<H-re;)z=we(z),H--;for(;0<re-H;)P=we(P),re--;for(;H--;){if(z===P||P!==null&&z===P.alternate){we=z;break t}z=we(z),P=we(P)}we=null}else we=null;X!==null&&mT(ae,$,X,we,!1),ye!==null&&ut!==null&&mT(ae,ut,ye,we,!0)}}e:{if($=K?kn(K):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var Ke=Dv;else if(Cv($))if(Vv)Ke=Zx;else{Ke=Jx;var ve=Xx}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&xo(K.elementType)&&(Ke=Dv):Ke=Wx;if(Ke&&(Ke=Ke(n,K))){Nv(ae,Ke,o,te);break e}ve&&ve(n,$,K),n==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&Tu($,"number",$.value)}switch(ve=K?kn(K):window,n){case"focusin":(Cv(ve)||ve.contentEditable==="true")&&(Mo=ve,$m=K,Ou=null);break;case"focusout":Ou=$m=Mo=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,zv(ae,o,te);break;case"selectionchange":if(tR)break;case"keydown":case"keyup":zv(ae,o,te)}var Ve;if(Ye)e:{switch(n){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Po?Ra(n,o)&&(Be="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(Yr&&o.locale!=="ko"&&(Po||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Po&&(Ve=Iu()):(Gr=te,Su="value"in Gr?Gr.value:Gr.textContent,Po=!0)),ve=jd(K,Be),0<ve.length&&(Be=new $r(Be,n,null,o,te),ae.push({event:Be,listeners:ve}),Ve?Be.data=Ve:(Ve=Oo(o),Ve!==null&&(Be.data=Ve)))),(Ve=tr?Kx(n,o):Qx(n,o))&&(Be=jd(K,"onBeforeInput"),0<Be.length&&(ve=new $r("onBeforeInput","beforeinput",null,o,te),ae.push({event:ve,listeners:Be}),ve.data=Ve)),jR(ae,n,K,o,te)}dT(ae,s)})}function ic(n,s,o){return{instance:n,listener:s,currentTarget:o}}function jd(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=yr(n,o),f!=null&&u.unshift(ic(n,f,p)),f=yr(n,s),f!=null&&u.push(ic(n,f,p))),n.tag===3)return u;n=n.return}return[]}function FR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function mT(n,s,o,u,f){for(var p=s._reactName,T=[];o!==null&&o!==u;){var A=o,D=A.alternate,K=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||K===null||(D=K,f?(K=yr(o,p),K!=null&&T.unshift(ic(o,K,D))):f||(K=yr(o,p),K!=null&&T.push(ic(o,K,D)))),o=o.return}T.length!==0&&n.push({event:s,listeners:T})}var qR=/\r\n?/g,HR=/\u0000|\uFFFD/g;function pT(n){return(typeof n=="string"?n:""+n).replace(qR,`
`).replace(HR,"")}function gT(n,s){return s=pT(s),pT(n)===s}function lt(n,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||An(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&An(n,""+u);break;case"className":Ln(n,"class",u);break;case"tabIndex":Ln(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(n,o,u);break;case"style":wu(n,u,p);break;case"data":if(s!=="object"){Ln(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ro(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&lt(n,s,"name",f.name,f,null),lt(n,s,"formEncType",f.formEncType,f,null),lt(n,s,"formMethod",f.formMethod,f,null),lt(n,s,"formTarget",f.formTarget,f,null)):(lt(n,s,"encType",f.encType,f,null),lt(n,s,"method",f.method,f,null),lt(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ro(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=gr);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ro(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Le("beforetoggle",n),Le("toggle",n),So(n,"popover",u);break;case"xlinkActuate":qt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":So(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=jh.get(o)||o,So(n,o,u))}}function Eg(n,s,o,u,f,p){switch(o){case"style":wu(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?An(n,u):(typeof u=="number"||typeof u=="bigint")&&An(n,""+u);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"onClick":u!=null&&(n.onclick=gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=n[en]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):So(n,o,u)}}}function dn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(n,s,p,T,o,null)}}f&&lt(n,s,"srcSet",o.srcSet,o,null),u&&lt(n,s,"src",o.src,o,null);return;case"input":Le("invalid",n);var A=p=T=f=null,D=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":T=te;break;case"checked":D=te;break;case"defaultChecked":K=te;break;case"value":p=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:lt(n,s,u,te,o,null)}}Mh(n,p,A,D,K,T,f,!1);return;case"select":Le("invalid",n),u=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:lt(n,s,f,A,o,null)}s=p,o=T,n.multiple=!!u,s!=null?Wi(n,!!u,s,!1):o!=null&&Wi(n,!!u,o,!0);return;case"textarea":Le("invalid",n),p=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:lt(n,s,T,A,o,null)}Zi(n,u,f,p);return;case"option":for(D in o)o.hasOwnProperty(D)&&(u=o[D],u!=null)&&(D==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":lt(n,s,D,u,o,null));return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(u=0;u<rc.length;u++)Le(rc[u],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:lt(n,s,K,u,o,null)}return;default:if(xo(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&Eg(n,s,te,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&lt(n,s,A,u,o,null))}function GR(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,A=null,D=null,K=null,te=null;for(X in o){var ae=o[X];if(o.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ae;default:u.hasOwnProperty(X)||lt(n,s,X,null,u,ae)}}for(var $ in u){var X=u[$];if(ae=o[$],u.hasOwnProperty($)&&(X!=null||ae!=null))switch($){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":te=X;break;case"value":T=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==ae&&lt(n,s,$,X,u,ae)}}Io(n,T,A,D,K,te,p,f);return;case"select":X=T=A=$=null;for(p in o)if(D=o[p],o.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":X=D;default:u.hasOwnProperty(p)||lt(n,s,p,null,u,D)}for(f in u)if(p=u[f],D=o[f],u.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":$=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==D&&lt(n,s,f,p,u,D)}s=A,o=T,u=X,$!=null?Wi(n,!!o,$,!1):!!u!=!!o&&(s!=null?Wi(n,!!o,s,!0):Wi(n,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:lt(n,s,A,null,u,f)}for(T in u)if(f=u[T],p=o[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&lt(n,s,T,f,u,p)}kh(n,$,X);return;case"option":for(var ye in o)$=o[ye],o.hasOwnProperty(ye)&&$!=null&&!u.hasOwnProperty(ye)&&(ye==="selected"?n.selected=!1:lt(n,s,ye,null,u,$));for(D in u)$=u[D],X=o[D],u.hasOwnProperty(D)&&$!==X&&($!=null||X!=null)&&(D==="selected"?n.selected=$&&typeof $!="function"&&typeof $!="symbol":lt(n,s,D,$,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!=null&&!u.hasOwnProperty(we)&&lt(n,s,we,null,u,$);for(K in u)if($=u[K],X=o[K],u.hasOwnProperty(K)&&$!==X&&($!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:lt(n,s,K,$,u,X)}return;default:if(xo(s)){for(var ut in o)$=o[ut],o.hasOwnProperty(ut)&&$!==void 0&&!u.hasOwnProperty(ut)&&Eg(n,s,ut,void 0,u,$);for(te in u)$=u[te],X=o[te],!u.hasOwnProperty(te)||$===X||$===void 0&&X===void 0||Eg(n,s,te,$,u,X);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&lt(n,s,z,null,u,$);for(ae in u)$=u[ae],X=o[ae],!u.hasOwnProperty(ae)||$===X||$==null&&X==null||lt(n,s,ae,$,u,X)}function yT(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KR(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,T=f.initiatorType,A=f.duration;if(p&&A&&yT(T)){for(T=0,A=f.responseEnd,u+=1;u<o.length;u++){var D=o[u],K=D.startTime;if(K>A)break;var te=D.transferSize,ae=D.initiatorType;te&&yT(ae)&&(D=D.responseEnd,T+=te*(D<A?1:(A-K)/(D-K)))}if(--u,s+=8*(p+T)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Tg=null,bg=null;function Ud(n){return n.nodeType===9?n:n.ownerDocument}function _T(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vT(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function wg(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ag=null;function QR(){var n=window.event;return n&&n.type==="popstate"?n===Ag?!1:(Ag=n,!0):(Ag=null,!1)}var ET=typeof setTimeout=="function"?setTimeout:void 0,$R=typeof clearTimeout=="function"?clearTimeout:void 0,TT=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof TT<"u"?function(n){return TT.resolve(null).then(n).catch(XR)}:ET;function XR(n){setTimeout(function(){throw n})}function bs(n){return n==="head"}function bT(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),ll(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")sc(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,sc(o);for(var p=o.firstChild;p;){var T=p.nextSibling,A=p.nodeName;p[jr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&sc(n.ownerDocument.body);o=f}while(o);ll(s)}function wT(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Sg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sg(o),Ao(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function JR(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[jr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=lr(n.nextSibling),n===null)break}return null}function WR(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=lr(n.nextSibling),n===null))return null;return n}function AT(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=lr(n.nextSibling),n===null))return null;return n}function Ig(n){return n.data==="$?"||n.data==="$~"}function xg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function ZR(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function lr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Rg=null;function ST(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return lr(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function IT(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function xT(n,s,o){switch(s=Ud(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function sc(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ao(n)}var ur=new Map,RT=new Set;function zd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Pi=de.d;de.d={f:eC,r:tC,D:nC,C:rC,L:iC,m:sC,X:oC,S:aC,M:lC};function eC(){var n=Pi.f(),s=Dd();return n||s}function tC(n){var s=Wn(n);s!==null&&s.tag===5&&s.type==="form"?G0(s):Pi.r(n)}var sl=typeof document>"u"?null:document;function CT(n,s,o){var u=sl;if(u&&typeof s=="string"&&s){var f=wn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),RT.has(f)||(RT.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),dn(s,"link",n),Ft(s),u.head.appendChild(s)))}}function nC(n){Pi.D(n),CT("dns-prefetch",n,null)}function rC(n,s){Pi.C(n,s),CT("preconnect",n,s)}function iC(n,s,o){Pi.L(n,s,o);var u=sl;if(u&&n&&s){var f='link[rel="preload"][as="'+wn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+wn(o.imageSizes)+'"]')):f+='[href="'+wn(n)+'"]';var p=f;switch(s){case"style":p=al(n);break;case"script":p=ol(n)}ur.has(p)||(n=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),ur.set(p,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(ac(p))||s==="script"&&u.querySelector(oc(p))||(s=u.createElement("link"),dn(s,"link",n),Ft(s),u.head.appendChild(s)))}}function sC(n,s){Pi.m(n,s);var o=sl;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+wn(u)+'"][href="'+wn(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ol(n)}if(!ur.has(p)&&(n=v({rel:"modulepreload",href:n},s),ur.set(p,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oc(p)))return}u=o.createElement("link"),dn(u,"link",n),Ft(u),o.head.appendChild(u)}}}function aC(n,s,o){Pi.S(n,s,o);var u=sl;if(u&&n){var f=zr(u).hoistableStyles,p=al(n);s=s||"default";var T=f.get(p);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(ac(p)))A.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},o),(o=ur.get(p))&&Cg(n,o);var D=T=u.createElement("link");Ft(D),dn(D,"link",n),D._p=new Promise(function(K,te){D.onload=K,D.onerror=te}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Bd(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(p,T)}}}function oC(n,s){Pi.X(n,s);var o=sl;if(o&&n){var u=zr(o).hoistableScripts,f=ol(n),p=u.get(f);p||(p=o.querySelector(oc(f)),p||(n=v({src:n,async:!0},s),(s=ur.get(f))&&Ng(n,s),p=o.createElement("script"),Ft(p),dn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function lC(n,s){Pi.M(n,s);var o=sl;if(o&&n){var u=zr(o).hoistableScripts,f=ol(n),p=u.get(f);p||(p=o.querySelector(oc(f)),p||(n=v({src:n,async:!0,type:"module"},s),(s=ur.get(f))&&Ng(n,s),p=o.createElement("script"),Ft(p),dn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function NT(n,s,o,u){var f=(f=Re.current)?zd(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=al(o.href),o=zr(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=al(o.href);var p=zr(f).hoistableStyles,T=p.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,T),(p=f.querySelector(ac(n)))&&!p._p&&(T.instance=p,T.state.loading=5),ur.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(n,o),p||uC(f,n,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ol(o),o=zr(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function al(n){return'href="'+wn(n)+'"'}function ac(n){return'link[rel="stylesheet"]['+n+"]"}function DT(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function uC(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),dn(s,"link",o),Ft(s),n.head.appendChild(s))}function ol(n){return'[src="'+wn(n)+'"]'}function oc(n){return"script[async]"+n}function VT(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+wn(o.href)+'"]');if(u)return s.instance=u,Ft(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ft(u),dn(u,"style",f),Bd(u,o.precedence,n),s.instance=u;case"stylesheet":f=al(o.href);var p=n.querySelector(ac(f));if(p)return s.state.loading|=4,s.instance=p,Ft(p),p;u=DT(o),(f=ur.get(f))&&Cg(u,f),p=(n.ownerDocument||n).createElement("link"),Ft(p);var T=p;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),dn(p,"link",u),s.state.loading|=4,Bd(p,o.precedence,n),s.instance=p;case"script":return p=ol(o.src),(f=n.querySelector(oc(p)))?(s.instance=f,Ft(f),f):(u=o,(f=ur.get(p))&&(u=v({},o),Ng(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ft(f),dn(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Bd(u,o.precedence,n));return s.instance}function Bd(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===s)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Cg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Ng(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Fd=null;function OT(n,s,o){if(Fd===null){var u=new Map,f=Fd=new Map;f.set(o,u)}else f=Fd,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[jr]||p[Bt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(s)||"";T=n+T;var A=u.get(T);A?A.push(p):u.set(T,[p])}}return u}function PT(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function cC(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function MT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function hC(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=al(u.href),p=s.querySelector(ac(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=qd.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=p,Ft(p);return}p=s.ownerDocument||s,u=DT(u),(f=ur.get(f))&&Cg(u,f),p=p.createElement("link"),Ft(p);var T=p;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),dn(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=qd.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Dg=0;function dC(n,s){return n.stylesheets&&n.count===0&&Gd(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Gd(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&Dg===0&&(Dg=62500*KR());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Gd(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Dg?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function qd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Hd=null;function Gd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Hd=new Map,s.forEach(fC,n),Hd=null,qd.call(n))}function fC(n,s){if(!(s.state.loading&4)){var o=Hd.get(n);if(o)var u=o.get(null);else{o=new Map,Hd.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=s.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,f),o.set(T,f),this.count++,u=qd.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var lc={$$typeof:G,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function mC(n,s,o,u,f,p,T,A,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function kT(n,s,o,u,f,p,T,A,D,K,te,ae){return n=new mC(n,s,o,T,D,K,te,ae,A),s=1,p===!0&&(s|=24),p=Un(3,null,null,s),n.current=p,p.stateNode=n,s=cp(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},mp(p),n}function LT(n){return n?(n=jo,n):jo}function jT(n,s,o,u,f,p){f=LT(f),u.context===null?u.context=f:u.pendingContext=f,u=hs(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=ds(n,u,s),o!==null&&(Cn(o,n,s),zu(o,n,s))}function UT(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Vg(n,s){UT(n,s),(n=n.alternate)&&UT(n,s)}function zT(n){if(n.tag===13||n.tag===31){var s=Da(n,67108864);s!==null&&Cn(s,n,67108864),Vg(n,67108864)}}function BT(n){if(n.tag===13||n.tag===31){var s=Hn();s=va(s);var o=Da(n,s);o!==null&&Cn(o,n,s),Vg(n,s)}}var Kd=!0;function pC(n,s,o,u){var f=ee.T;ee.T=null;var p=de.p;try{de.p=2,Og(n,s,o,u)}finally{de.p=p,ee.T=f}}function gC(n,s,o,u){var f=ee.T;ee.T=null;var p=de.p;try{de.p=8,Og(n,s,o,u)}finally{de.p=p,ee.T=f}}function Og(n,s,o,u){if(Kd){var f=Pg(u);if(f===null)vg(n,s,u,Qd,o),qT(n,u);else if(_C(f,n,s,o,u))u.stopPropagation();else if(qT(n,u),s&4&&-1<yC.indexOf(n)){for(;f!==null;){var p=Wn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Pr(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-Ot(T);A.entanglements[1]|=D,T&=~D}Zr(p),(Xe&6)===0&&(Cd=En()+500,nc(0))}}break;case 31:case 13:A=Da(p,2),A!==null&&Cn(A,p,2),Dd(),Vg(p,2)}if(p=Pg(u),p===null&&vg(n,s,u,Qd,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else vg(n,s,u,null,o)}}function Pg(n){return n=Zn(n),Mg(n)}var Qd=null;function Mg(n){if(Qd=null,n=Ur(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Qd=n,null}function FT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pa()){case hu:return 2;case du:return 8;case Xi:case Bm:return 32;case Sh:return 268435456;default:return 32}default:return 32}}var kg=!1,ws=null,As=null,Ss=null,uc=new Map,cc=new Map,Is=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qT(n,s){switch(n){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":uc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(s.pointerId)}}function hc(n,s,o,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Wn(s),s!==null&&zT(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function _C(n,s,o,u,f){switch(s){case"focusin":return ws=hc(ws,n,s,o,u,f),!0;case"dragenter":return As=hc(As,n,s,o,u,f),!0;case"mouseover":return Ss=hc(Ss,n,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return uc.set(p,hc(uc.get(p)||null,n,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,cc.set(p,hc(cc.get(p)||null,n,s,o,u,f)),!0}return!1}function HT(n){var s=Ur(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,mr(n.priority,function(){BT(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,mr(n.priority,function(){BT(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $d(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Pg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Au=u,o.target.dispatchEvent(u),Au=null}else return s=Wn(o),s!==null&&zT(s),n.blockedOn=o,!1;s.shift()}return!0}function GT(n,s,o){$d(n)&&o.delete(s)}function vC(){kg=!1,ws!==null&&$d(ws)&&(ws=null),As!==null&&$d(As)&&(As=null),Ss!==null&&$d(Ss)&&(Ss=null),uc.forEach(GT),cc.forEach(GT)}function Yd(n,s){n.blockedOn===s&&(n.blockedOn=null,kg||(kg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vC)))}var Xd=null;function KT(n){Xd!==n&&(Xd=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xd===n&&(Xd=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Mg(u||o)===null)continue;break}var p=Wn(o);p!==null&&(n.splice(s,3),s-=3,Pp(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ll(n){function s(D){return Yd(D,n)}ws!==null&&Yd(ws,n),As!==null&&Yd(As,n),Ss!==null&&Yd(Ss,n),uc.forEach(s),cc.forEach(s);for(var o=0;o<Is.length;o++){var u=Is[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Is.length&&(o=Is[0],o.blockedOn===null);)HT(o),o.blockedOn===null&&Is.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],T=f[en]||null;if(typeof p=="function")T||KT(o);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[en]||null)A=T.formAction;else if(Mg(f)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),KT(o)}}}function QT(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Lg(n){this._internalRoot=n}Jd.prototype.render=Lg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Hn();jT(o,u,n,s,null,null)},Jd.prototype.unmount=Lg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;jT(n.current,2,null,n,null,null),Dd(),s[Lr]=null}};function Jd(n){this._internalRoot=n}Jd.prototype.unstable_scheduleHydration=function(n){if(n){var s=Dh();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Is.length&&s!==0&&s<Is[o].priority;o++);Is.splice(o,0,n),o===0&&HT(n)}};var $T=e.version;if($T!=="19.2.3")throw Error(i(527,$T,"19.2.3"));de.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var EC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{dr=Wd.inject(EC),on=Wd}catch{}}return fc.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=tE,p=nE,T=rE;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=kT(n,1,!1,null,null,o,u,null,f,p,T,QT),n[Lr]=s.current,_g(n),new Lg(s)},fc.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",p=tE,T=nE,A=rE,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),s=kT(n,1,!0,s,o??null,u,f,D,p,T,A,QT),s.context=LT(null),o=s.current,u=Hn(),u=va(u),f=hs(u),f.callback=null,ds(o,f,u),o=u,s.current.lanes=o,ya(s,o),Zr(s),n[Lr]=s.current,_g(n),new Jd(s)},fc.version="19.2.3",fc}var ib;function NC(){if(ib)return zg.exports;ib=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zg.exports=CC(),zg.exports}var DC=NC();var sb="popstate";function VC(r={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return dy("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:jc(a)}return PC(e,t,null,r)}function xt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Cr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OC(){return Math.random().toString(36).substring(2,10)}function ab(r,e){return{usr:r.state,key:r.key,idx:e}}function dy(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Yl(e):e,state:t,key:e&&e.key||i||OC()}}function jc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Yl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function PC(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function v(){d="POP";let j=_(),J=j==null?null:j-g;g=j,m&&m({action:d,location:L.location,delta:J})}function w(j,J){d="PUSH";let ne=dy(L.location,j,J);g=_()+1;let G=ab(ne,g),W=L.createHref(ne);try{c.pushState(G,"",W)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(W)}l&&m&&m({action:d,location:L.location,delta:1})}function R(j,J){d="REPLACE";let ne=dy(L.location,j,J);g=_();let G=ab(ne,g),W=L.createHref(ne);c.replaceState(G,"",W),l&&m&&m({action:d,location:L.location,delta:0})}function k(j){return MC(j)}let L={get action(){return d},get location(){return r(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(sb,v),m=j,()=>{a.removeEventListener(sb,v),m=null}},createHref(j){return e(a,j)},createURL:k,encodeLocation(j){let J=k(j);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:R,go(j){return c.go(j)}};return L}function MC(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),xt(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:jc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function _A(r,e,t="/"){return kC(r,e,t,!1)}function kC(r,e,t,i){let a=typeof e=="string"?Yl(e):e,l=Bi(a.pathname||"/",t);if(l==null)return null;let c=vA(r);LC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=$C(l);d=KC(c[m],g,i)}return d}function vA(r,e=[],t=[],i="",a=!1){let l=(c,d,m=a,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&m)return;xt(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let v=Ui([i,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(xt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),vA(c.children,e,w,v,m)),!(c.path==null&&!c.index)&&e.push({path:v,score:HC(v,c.index),routesMeta:w})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of EA(c.path))l(c,d,!0,m)}),e}function EA(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=EA(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function LC(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:GC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var jC=/^:[\w-]+$/,UC=3,zC=2,BC=1,FC=10,qC=-2,ob=r=>r==="*";function HC(r,e){let t=r.split("/"),i=t.length;return t.some(ob)&&(i+=qC),e&&(i+=zC),t.filter(a=>!ob(a)).reduce((a,l)=>a+(jC.test(l)?UC:l===""?BC:FC),i)}function GC(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function KC(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",v=Cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),w=m.route;if(!v&&g&&t&&!i[i.length-1].route.index&&(v=Cf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!v)return null;Object.assign(a,v.params),c.push({params:a,pathname:Ui([l,v.pathname]),pathnameBase:WC(Ui([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=Ui([l,v.pathnameBase]))}return c}function Cf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=QC(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:v},w)=>{if(_==="*"){let k=d[w]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const R=d[w];return v&&!R?g[_]=void 0:g[_]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function QC(r,e=!1,t=!0){Cr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function $C(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Bi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YC=r=>TA.test(r);function XC(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?Yl(r):r,l;if(t)if(YC(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Cr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=lb(t.substring(1),"/"):l=lb(t,e)}else l=e;return{pathname:l,search:ZC(i),hash:eN(a)}}function lb(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Hg(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JC(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bA(r){let e=JC(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function wA(r,e,t,i=!1){let a;typeof r=="string"?a=Yl(r):(a={...r},xt(!a.pathname||!a.pathname.includes("?"),Hg("?","pathname","search",a)),xt(!a.pathname||!a.pathname.includes("#"),Hg("#","pathname","hash",a)),xt(!a.search||!a.search.includes("#"),Hg("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let v=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}d=v>=0?e[v]:"/"}let m=XC(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var Ui=r=>r.join("/").replace(/\/\/+/g,"/"),WC=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ZC=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,eN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,tN=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function nN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function rN(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var AA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function SA(r,e){let t=r;if(typeof t!="string"||!TA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(AA)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=Bi(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{Cr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var IA=["POST","PUT","PATCH","DELETE"];new Set(IA);var iN=["GET",...IA];new Set(iN);var Xl=F.createContext(null);Xl.displayName="DataRouter";var rm=F.createContext(null);rm.displayName="DataRouterState";var sN=F.createContext(!1),xA=F.createContext({isTransitioning:!1});xA.displayName="ViewTransition";var aN=F.createContext(new Map);aN.displayName="Fetchers";var oN=F.createContext(null);oN.displayName="Await";var hr=F.createContext(null);hr.displayName="Navigation";var th=F.createContext(null);th.displayName="Location";var di=F.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var n_=F.createContext(null);n_.displayName="RouteError";var RA="REACT_ROUTER_ERROR",lN="REDIRECT",uN="ROUTE_ERROR_RESPONSE";function cN(r){if(r.startsWith(`${RA}:${lN}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function hN(r){if(r.startsWith(`${RA}:${uN}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new tN(e.status,e.statusText,e.data)}catch{}}function dN(r,{relative:e}={}){xt(nh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(hr),{hash:a,pathname:l,search:c}=rh(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ui([t,l])),i.createHref({pathname:d,search:c,hash:a})}function nh(){return F.useContext(th)!=null}function ta(){return xt(nh(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(th).location}var CA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function NA(r){F.useContext(hr).static||F.useLayoutEffect(r)}function im(){let{isDataRoute:r}=F.useContext(di);return r?IN():fN()}function fN(){xt(nh(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(Xl),{basename:e,navigator:t}=F.useContext(hr),{matches:i}=F.useContext(di),{pathname:a}=ta(),l=JSON.stringify(bA(i)),c=F.useRef(!1);return NA(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Cr(c.current,CA),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=wA(m,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ui([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,r])}F.createContext(null);function mN(){let{matches:r}=F.useContext(di),e=r[r.length-1];return e?e.params:{}}function rh(r,{relative:e}={}){let{matches:t}=F.useContext(di),{pathname:i}=ta(),a=JSON.stringify(bA(t));return F.useMemo(()=>wA(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function pN(r,e){return DA(r,e)}function DA(r,e,t,i,a){xt(nh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(hr),{matches:c}=F.useContext(di),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",v=d&&d.route;{let ne=v&&v.path||"";OA(g,!v||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=ta(),R;if(e){let ne=typeof e=="string"?Yl(e):e;xt(_==="/"||ne.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),R=ne}else R=w;let k=R.pathname||"/",L=k;if(_!=="/"){let ne=_.replace(/^\//,"").split("/");L="/"+k.replace(/^\//,"").split("/").slice(ne.length).join("/")}let j=_A(r,{pathname:L});Cr(v||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Cr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=EN(j&&j.map(ne=>Object.assign({},ne,{params:Object.assign({},m,ne.params),pathname:Ui([_,l.encodeLocation?l.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?_:Ui([_,l.encodeLocation?l.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),c,t,i,a);return e&&J?F.createElement(th.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},J):J}function gN(){let r=SN(),e=nN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var yN=F.createElement(gN,null),VA=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=hN(r.digest);t&&(r=t)}let e=r!==void 0?F.createElement(di.Provider,{value:this.props.routeContext},F.createElement(n_.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?F.createElement(_N,{error:r},e):e}};VA.contextType=sN;var Gg=new WeakMap;function _N({children:r,error:e}){let{basename:t}=F.useContext(hr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=cN(e.digest);if(i){let a=Gg.get(e);if(a)throw a;let l=SA(i.location,t);if(AA&&!Gg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Gg.set(e,c),c}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function vN({routeContext:r,match:e,children:t}){let i=F.useContext(Xl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(di.Provider,{value:r},t)}function EN(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let _=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);xt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,m=-1;if(t)for(let _=0;_<l.length;_++){let v=l[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=_),v.route.id){let{loaderData:w,errors:R}=t,k=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||k){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&i?(_,v)=>{i(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:rN(t.matches),errorInfo:v})}:void 0;return l.reduceRight((_,v,w)=>{let R,k=!1,L=null,j=null;t&&(R=c&&v.route.id?c[v.route.id]:void 0,L=v.route.errorElement||yN,d&&(m<0&&w===0?(OA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,j=null):m===w&&(k=!0,j=v.route.hydrateFallbackElement||null)));let J=e.concat(l.slice(0,w+1)),ne=()=>{let G;return R?G=L:k?G=j:v.route.Component?G=F.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=_,F.createElement(vN,{match:v,routeContext:{outlet:_,matches:J,isDataRoute:t!=null},children:G})};return t&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?F.createElement(VA,{location:t.location,revalidation:t.revalidation,component:L,error:R,children:ne(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):ne()},null)}function r_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TN(r){let e=F.useContext(Xl);return xt(e,r_(r)),e}function bN(r){let e=F.useContext(rm);return xt(e,r_(r)),e}function wN(r){let e=F.useContext(di);return xt(e,r_(r)),e}function i_(r){let e=wN(r),t=e.matches[e.matches.length-1];return xt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function AN(){return i_("useRouteId")}function SN(){let r=F.useContext(n_),e=bN("useRouteError"),t=i_("useRouteError");return r!==void 0?r:e.errors?.[t]}function IN(){let{router:r}=TN("useNavigate"),e=i_("useNavigate"),t=F.useRef(!1);return NA(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{Cr(t.current,CA),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var ub={};function OA(r,e,t){!e&&!ub[r]&&(ub[r]=!0,Cr(!1,t))}F.memo(xN);function xN({routes:r,future:e,state:t,onError:i}){return DA(r,void 0,t,i,e)}function Vs(r){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function RN({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){xt(!nh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=Yl(t));let{pathname:g="/",search:_="",hash:v="",state:w=null,key:R="default"}=t,k=F.useMemo(()=>{let L=Bi(g,d);return L==null?null:{location:{pathname:L,search:_,hash:v,state:w,key:R},navigationType:i}},[d,g,_,v,w,R,i]);return Cr(k!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:F.createElement(hr.Provider,{value:m},F.createElement(th.Provider,{children:e,value:k}))}function CN({children:r,location:e}){return pN(fy(r),e)}function fy(r,e=[]){let t=[];return F.Children.forEach(r,(i,a)=>{if(!F.isValidElement(i))return;let l=[...e,a];if(i.type===F.Fragment){t.push.apply(t,fy(i.props.children,l));return}xt(i.type===Vs,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=fy(i.props.children,l)),t.push(c)}),t}var df="get",ff="application/x-www-form-urlencoded";function sm(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function NN(r){return sm(r)&&r.tagName.toLowerCase()==="button"}function DN(r){return sm(r)&&r.tagName.toLowerCase()==="form"}function VN(r){return sm(r)&&r.tagName.toLowerCase()==="input"}function ON(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function PN(r,e){return r.button===0&&(!e||e==="_self")&&!ON(r)}var Zd=null;function MN(){if(Zd===null)try{new FormData(document.createElement("form"),0),Zd=!1}catch{Zd=!0}return Zd}var kN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kg(r){return r!=null&&!kN.has(r)?(Cr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ff}"`),null):r}function LN(r,e){let t,i,a,l,c;if(DN(r)){let d=r.getAttribute("action");i=d?Bi(d,e):null,t=r.getAttribute("method")||df,a=Kg(r.getAttribute("enctype"))||ff,l=new FormData(r)}else if(NN(r)||VN(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(i=m?Bi(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||df,a=Kg(r.getAttribute("formenctype"))||Kg(d.getAttribute("enctype"))||ff,l=new FormData(d,r),!MN()){let{name:g,type:_,value:v}=r;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,v)}}else{if(sm(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=df,i=null,a=ff,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function s_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jN(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Bi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function UN(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zN(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BN(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await UN(l,t);return c.links?c.links():[]}return[]}));return GN(i.flat(1).filter(zN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function cb(r,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function FN(r,e,{includeHydrateFallback:t}={}){return qN(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function qN(r){return[...new Set(r)]}function HN(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function GN(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(HN(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function PA(){let r=F.useContext(Xl);return s_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function KN(){let r=F.useContext(rm);return s_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var a_=F.createContext(void 0);a_.displayName="FrameworkContext";function MA(){let r=F.useContext(a_);return s_(r,"You must render this element inside a <HydratedRouter> element"),r}function QN(r,e){let t=F.useContext(a_),[i,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:v}=e,w=F.useRef(null);F.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let L=J=>{J.forEach(ne=>{c(ne.isIntersecting)})},j=new IntersectionObserver(L,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),F.useEffect(()=>{if(i){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[i]);let R=()=>{a(!0)},k=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,w,{}]:[l,w,{onFocus:mc(d,R),onBlur:mc(m,k),onMouseEnter:mc(g,R),onMouseLeave:mc(_,k),onTouchStart:mc(v,R)}]:[!1,w,{}]}function mc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function $N({page:r,...e}){let{router:t}=PA(),i=F.useMemo(()=>_A(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?F.createElement(XN,{page:r,matches:i,...e}):null}function YN(r){let{manifest:e,routeModules:t}=MA(),[i,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return BN(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function XN({page:r,matches:e,...t}){let i=ta(),{manifest:a,routeModules:l}=MA(),{basename:c}=PA(),{loaderData:d,matches:m}=KN(),g=F.useMemo(()=>cb(r,e,m,a,i,"data"),[r,e,m,a,i]),_=F.useMemo(()=>cb(r,e,m,a,i,"assets"),[r,e,m,a,i]),v=F.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let k=new Set,L=!1;if(e.forEach(J=>{let ne=a.routes[J.route.id];!ne||!ne.hasLoader||(!g.some(G=>G.route.id===J.route.id)&&J.route.id in d&&l[J.route.id]?.shouldRevalidate||ne.hasClientLoader?L=!0:k.add(J.route.id))}),k.size===0)return[];let j=jN(r,c,"data");return L&&k.size>0&&j.searchParams.set("_routes",e.filter(J=>k.has(J.route.id)).map(J=>J.route.id).join(",")),[j.pathname+j.search]},[c,d,i,a,g,e,r,l]),w=F.useMemo(()=>FN(_,a),[_,a]),R=YN(_);return F.createElement(F.Fragment,null,v.map(k=>F.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),w.map(k=>F.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),R.map(({key:k,link:L})=>F.createElement("link",{key:k,nonce:t.nonce,...L})))}function JN(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var WN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WN&&(window.__reactRouterVersion="7.11.0")}catch{}function ZN({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=F.useRef();a.current==null&&(a.current=VC({window:i,v5Compat:!0}));let l=a.current,[c,d]=F.useState({action:l.action,location:l.location}),m=F.useCallback(g=>{t===!1?d(g):F.startTransition(()=>d(g))},[t]);return F.useLayoutEffect(()=>l.listen(m),[l,m]),F.createElement(RN,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var kA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ui=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:w,...R},k){let{basename:L,unstable_useTransitions:j}=F.useContext(hr),J=typeof g=="string"&&kA.test(g),ne=SA(g,L);g=ne.to;let G=dN(g,{relative:a}),[W,le,pe]=QN(i,R),C=r2(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:j});function x(M){e&&e(M),M.defaultPrevented||C(M)}let N=F.createElement("a",{...R,...pe,href:ne.absoluteURL||G,onClick:ne.isExternal||l?e:x,ref:JN(k,le),target:m,"data-discover":!J&&t==="render"?"true":void 0});return W&&!J?F.createElement(F.Fragment,null,N,F.createElement($N,{page:G})):N});ui.displayName="Link";var e2=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let v=rh(c,{relative:g.relative}),w=ta(),R=F.useContext(rm),{navigator:k,basename:L}=F.useContext(hr),j=R!=null&&l2(v)&&d===!0,J=k.encodeLocation?k.encodeLocation(v).pathname:v.pathname,ne=w.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),G=G?G.toLowerCase():null,J=J.toLowerCase()),G&&L&&(G=Bi(G,L)||G);const W=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let le=ne===J||!a&&ne.startsWith(J)&&ne.charAt(W)==="/",pe=G!=null&&(G===J||!a&&G.startsWith(J)&&G.charAt(J.length)==="/"),C={isActive:le,isPending:pe,isTransitioning:j},x=le?e:void 0,N;typeof i=="function"?N=i(C):N=[i,le?"active":null,pe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(C):l;return F.createElement(ui,{...g,"aria-current":x,className:N,ref:_,style:M,to:c,viewTransition:d},typeof m=="function"?m(C):m)});e2.displayName="NavLink";var t2=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=df,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:w,...R},k)=>{let{unstable_useTransitions:L}=F.useContext(hr),j=a2(),J=o2(d,{relative:g}),ne=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&kA.test(d),W=le=>{if(m&&m(le),le.defaultPrevented)return;le.preventDefault();let pe=le.nativeEvent.submitter,C=pe?.getAttribute("formmethod")||c,x=()=>j(pe||le.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:v,unstable_defaultShouldRevalidate:w});L&&t!==!1?F.startTransition(()=>x()):x()};return F.createElement("form",{ref:k,method:ne,action:J,onSubmit:i?m:W,...R,"data-discover":!G&&r==="render"?"true":void 0})});t2.displayName="Form";function n2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LA(r){let e=F.useContext(Xl);return xt(e,n2(r)),e}function r2(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=im(),_=ta(),v=rh(r,{relative:l});return F.useCallback(w=>{if(PN(w,e)){w.preventDefault();let R=t!==void 0?t:jc(_)===jc(v),k=()=>g(r,{replace:R,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?F.startTransition(()=>k()):k()}},[_,g,v,t,i,e,r,a,l,c,d,m])}var i2=0,s2=()=>`__${String(++i2)}__`;function a2(){let{router:r}=LA("useSubmit"),{basename:e}=F.useContext(hr),t=AN(),i=r.fetch,a=r.navigate;return F.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:_,body:v}=LN(l,e);if(c.navigate===!1){let w=c.fetcherKey||s2();await i(w,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:v,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:v,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function o2(r,{relative:e}={}){let{basename:t}=F.useContext(hr),i=F.useContext(di);xt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...rh(r||".",{relative:e})},c=ta();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let _=d.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ui([t,l.pathname])),jc(l)}function l2(r,{relative:e}={}){let t=F.useContext(xA);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=LA("useViewTransitionState"),a=rh(r,{relative:e});if(!t.isTransitioning)return!1;let l=Bi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Bi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Cf(a.pathname,c)!=null||Cf(a.pathname,l)!=null}const u2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),hb=r=>{const e=c2(r);return e.charAt(0).toUpperCase()+e.slice(1)},jA=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),h2=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var d2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f2=F.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>F.createElement("svg",{ref:m,...d2,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:jA("lucide",a),...!l&&!h2(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>F.createElement(g,_)),...Array.isArray(l)?l:[l]]));const We=(r,e)=>{const t=F.forwardRef(({className:i,...a},l)=>F.createElement(f2,{ref:l,iconNode:e,className:jA(`lucide-${u2(hb(r))}`,`lucide-${r}`,i),...a}));return t.displayName=hb(r),t};const m2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nf=We("arrow-left",m2);const p2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],g2=We("arrow-right",p2);const y2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],_2=We("briefcase",y2);const v2=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],E2=We("building-2",v2);const T2=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],am=We("building",T2);const b2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],o_=We("calendar",b2);const w2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],A2=We("circle-alert",w2);const S2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UA=We("circle-check-big",S2);const I2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x2=We("circle-check",I2);const R2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C2=We("circle-question-mark",R2);const N2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],D2=We("file-text",N2);const V2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zA=We("funnel",V2);const O2=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],P2=We("graduation-cap",O2);const M2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],k2=We("heart",M2);const L2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],j2=We("house",L2);const U2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],z2=We("info",U2);const B2=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],l_=We("loader",B2);const F2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],q2=We("lock",F2);const H2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],G2=We("log-out",H2);const K2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],om=We("map-pin",K2);const Q2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],$2=We("pen",Q2);const Y2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],X2=We("plus",Y2);const J2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],W2=We("save",J2);const Z2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],BA=We("search",Z2);const eD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tD=We("trash-2",eD);const nD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],rD=We("trending-up",nD);const iD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sD=We("upload",iD);const aD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],oD=We("user-plus",aD);const lD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tl=We("x",lD);const uD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],cD=We("zap",uD),hD="modulepreload",dD=function(r){return"/"+r},db={},fD=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let g=function(_){return Promise.all(_.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=g(t.map(_=>{if(_=dD(_),_ in db)return;db[_]=!0;const v=_.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${w}`))return;const R=document.createElement("link");if(R.rel=v?"stylesheet":hD,v||(R.as="script"),R.crossOrigin="",R.href=_,m&&R.setAttribute("nonce",m),document.head.appendChild(R),v)return new Promise((k,L)=>{R.addEventListener("load",k),R.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${_}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},mD=()=>{};var fb={};const FA=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},pD=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},qA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,m=a+2<r.length,g=m?r[a+2]:0,_=l>>2,v=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(w=64)),i.push(t[_],t[v],t[w],t[R])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(FA(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pD(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const v=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||v==null)throw new gD;const w=l<<2|d>>4;if(i.push(w),g!==64){const R=d<<4&240|g>>2;if(i.push(R),v!==64){const k=g<<6&192|v;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yD=function(r){const e=FA(r);return qA.encodeByteArray(e,!0)},Df=function(r){return yD(r).replace(/\./g,"")},HA=function(r){try{return qA.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _D=()=>GA().__FIREBASE_DEFAULTS__,vD=()=>{if(typeof process>"u"||typeof fb>"u")return;const r=fb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ED=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&HA(r[1]);return e&&JSON.parse(e)},lm=()=>{try{return mD()||_D()||vD()||ED()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KA=r=>lm()?.emulatorHosts?.[r],QA=r=>{const e=KA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},$A=()=>lm()?.config,YA=r=>lm()?.[`_${r}`];class TD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function na(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function um(r){return(await fetch(r,{credentials:"include"})).ok}function XA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Df(JSON.stringify(t)),Df(JSON.stringify(c)),""].join(".")}const Ic={};function bD(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ic))Ic[e]?r.emulator.push(e):r.prod.push(e);return r}function wD(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let mb=!1;function u_(r,e){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||Ic[r]===e||Ic[r]||mb)return;Ic[r]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=bD().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{mb=!0,c()},w}function _(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=wD(i),R=t("text"),k=document.getElementById(R)||document.createElement("span"),L=t("learnmore"),j=document.getElementById(L)||document.createElement("a"),J=t("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const G=w.element;d(G),_(j,L);const W=g();m(ne,J),G.append(ne,k,j,W),document.body.appendChild(G)}l?(k.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function JA(){const r=lm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ID(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RD(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function WA(){return!JA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZA(){return!JA()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function CD(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const ND="FirebaseError";class fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ND,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.create)}}class ih{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?DD(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new fi(a,d,i)}}function DD(r,e){return r.replace(VD,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const VD=/\{\$([^}]+)}/g;function OD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Nr(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(pb(l)&&pb(c)){if(!Nr(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function pb(r){return r!==null&&typeof r=="object"}function sh(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ec(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Tc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function PD(r,e){const t=new MD(r,e);return t.subscribe.bind(t)}class MD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Qg),a.error===void 0&&(a.error=Qg),a.complete===void 0&&(a.complete=Qg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kD(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Qg(){}function st(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ga="[DEFAULT]";class LD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new TD;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UD(e))try{this.getOrInitializeService({instanceIdentifier:Ga})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ga){return this.instances.has(e)}getOptions(e=Ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:jD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ga){return this.component?this.component.multipleInstances?e:Ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jD(r){return r===Ga?void 0:r}function UD(r){return r.instantiationMode==="EAGER"}class zD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const BD={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},FD=Fe.INFO,qD={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},HD=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=qD[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=FD,this._logHandler=HD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const GD=(r,e)=>e.some(t=>r instanceof t);let gb,yb;function KD(){return gb||(gb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QD(){return yb||(yb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tS=new WeakMap,my=new WeakMap,nS=new WeakMap,$g=new WeakMap,h_=new WeakMap;function $D(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Fs(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&tS.set(t,r)}).catch(()=>{}),h_.set(e,r),e}function YD(r){if(my.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});my.set(r,e)}let py={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return my.get(r);if(e==="objectStoreNames")return r.objectStoreNames||nS.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Fs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function XD(r){py=r(py)}function JD(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Yg(this),e,...t);return nS.set(i,e.sort?e.sort():[e]),Fs(i)}:QD().includes(r)?function(...e){return r.apply(Yg(this),e),Fs(tS.get(this))}:function(...e){return Fs(r.apply(Yg(this),e))}}function WD(r){return typeof r=="function"?JD(r):(r instanceof IDBTransaction&&YD(r),GD(r,KD())?new Proxy(r,py):r)}function Fs(r){if(r instanceof IDBRequest)return $D(r);if($g.has(r))return $g.get(r);const e=WD(r);return e!==r&&($g.set(r,e),h_.set(e,r)),e}const Yg=r=>h_.get(r);function ZD(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Fs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(Fs(c.result),m.oldVersion,m.newVersion,Fs(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const eV=["get","getKey","getAll","getAllKeys","count"],tV=["put","add","delete","clear"],Xg=new Map;function _b(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xg.get(e))return Xg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=tV.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||eV.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return Xg.set(e,l),l}XD(r=>({...r,get:(e,t,i)=>_b(e,t)||r.get(e,t,i),has:(e,t)=>!!_b(e,t)||r.has(e,t)}));class nV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(rV(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function rV(r){return r.getComponent()?.type==="VERSION"}const gy="@firebase/app",vb="0.14.6";const Fi=new c_("@firebase/app"),iV="@firebase/app-compat",sV="@firebase/analytics-compat",aV="@firebase/analytics",oV="@firebase/app-check-compat",lV="@firebase/app-check",uV="@firebase/auth",cV="@firebase/auth-compat",hV="@firebase/database",dV="@firebase/data-connect",fV="@firebase/database-compat",mV="@firebase/functions",pV="@firebase/functions-compat",gV="@firebase/installations",yV="@firebase/installations-compat",_V="@firebase/messaging",vV="@firebase/messaging-compat",EV="@firebase/performance",TV="@firebase/performance-compat",bV="@firebase/remote-config",wV="@firebase/remote-config-compat",AV="@firebase/storage",SV="@firebase/storage-compat",IV="@firebase/firestore",xV="@firebase/ai",RV="@firebase/firestore-compat",CV="firebase",NV="12.6.0";const Vf="[DEFAULT]",DV={[gy]:"fire-core",[iV]:"fire-core-compat",[aV]:"fire-analytics",[sV]:"fire-analytics-compat",[lV]:"fire-app-check",[oV]:"fire-app-check-compat",[uV]:"fire-auth",[cV]:"fire-auth-compat",[hV]:"fire-rtdb",[dV]:"fire-data-connect",[fV]:"fire-rtdb-compat",[mV]:"fire-fn",[pV]:"fire-fn-compat",[gV]:"fire-iid",[yV]:"fire-iid-compat",[_V]:"fire-fcm",[vV]:"fire-fcm-compat",[EV]:"fire-perf",[TV]:"fire-perf-compat",[bV]:"fire-rc",[wV]:"fire-rc-compat",[AV]:"fire-gcs",[SV]:"fire-gcs-compat",[IV]:"fire-fst",[RV]:"fire-fst-compat",[xV]:"fire-vertex","fire-js":"fire-js",[CV]:"fire-js-all"};const Of=new Map,VV=new Map,yy=new Map;function Eb(r,e){try{r.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function no(r){const e=r.name;if(yy.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;yy.set(e,r);for(const t of Of.values())Eb(t,r);for(const t of VV.values())Eb(t,r);return!0}function Jl(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function OV(r,e,t=Vf){Jl(r,e).clearInstance(t)}function Kn(r){return r==null?!1:r.settings!==void 0}const PV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new ih("app","Firebase",PV);class MV{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const po=NV;function rS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Vf,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw qs.create("bad-app-name",{appName:String(a)});if(t||(t=$A()),!t)throw qs.create("no-options");const l=Of.get(a);if(l){if(Nr(t,l.options)&&Nr(i,l.config))return l;throw qs.create("duplicate-app",{appName:a})}const c=new zD(a);for(const m of yy.values())c.addComponent(m);const d=new MV(t,i,c);return Of.set(a,d),d}function d_(r=Vf){const e=Of.get(r);if(!e&&r===Vf&&$A())return rS();if(!e)throw qs.create("no-app",{appName:r});return e}function ii(r,e,t){let i=DV[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(c.join(" "));return}no(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const kV="firebase-heartbeat-database",LV=1,Uc="firebase-heartbeat-store";let Jg=null;function iS(){return Jg||(Jg=ZD(kV,LV,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Uc)}catch(t){console.warn(t)}}}}).catch(r=>{throw qs.create("idb-open",{originalErrorMessage:r.message})})),Jg}async function jV(r){try{const t=(await iS()).transaction(Uc),i=await t.objectStore(Uc).get(sS(r));return await t.done,i}catch(e){if(e instanceof fi)Fi.warn(e.message);else{const t=qs.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(t.message)}}}async function Tb(r,e){try{const i=(await iS()).transaction(Uc,"readwrite");await i.objectStore(Uc).put(e,sS(r)),await i.done}catch(t){if(t instanceof fi)Fi.warn(t.message);else{const i=qs.create("idb-set",{originalErrorMessage:t?.message});Fi.warn(i.message)}}}function sS(r){return`${r.name}!${r.options.appId}`}const UV=1024,zV=30;class BV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qV(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>zV){const a=HV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bb(),{heartbeatsToSend:t,unsentEntries:i}=FV(this._heartbeatsCache.heartbeats),a=Df(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Fi.warn(e),""}}}function bb(){return new Date().toISOString().substring(0,10)}function FV(r,e=UV){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),wb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),wb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class qV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?CD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Tb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wb(r){return Df(JSON.stringify({version:2,heartbeats:r})).length}function HV(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function GV(r){no(new Ks("platform-logger",e=>new nV(e),"PRIVATE")),no(new Ks("heartbeat",e=>new BV(e),"PRIVATE")),ii(gy,vb,r),ii(gy,vb,"esm2020"),ii("fire-js","")}GV("");var KV="firebase",QV="12.7.0";ii(KV,QV,"app");function aS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $V=aS,oS=new ih("auth","Firebase",aS());const Pf=new c_("@firebase/auth");function YV(r,...e){Pf.logLevel<=Fe.WARN&&Pf.warn(`Auth (${po}): ${r}`,...e)}function mf(r,...e){Pf.logLevel<=Fe.ERROR&&Pf.error(`Auth (${po}): ${r}`,...e)}function Dr(r,...e){throw f_(r,...e)}function si(r,...e){return f_(r,...e)}function lS(r,e,t){const i={...$V(),[e]:t};return new ih("auth","Firebase",i).create(e,{appName:r.name})}function zi(r){return lS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f_(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return oS.create(r,...e)}function Ae(r,e,...t){if(!r)throw f_(e,...t)}function Mi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mf(e),new Error(e)}function qi(r,e){r||Mi(e)}function _y(){return typeof self<"u"&&self.location?.href||""}function XV(){return Ab()==="http:"||Ab()==="https:"}function Ab(){return typeof self<"u"&&self.location?.protocol||null}function JV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(XV()||ID()||"connection"in navigator)?navigator.onLine:!0}function WV(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class ah{constructor(e,t){this.shortDelay=e,this.longDelay=t,qi(t>e,"Short delay should be less than long delay!"),this.isMobile=AD()||xD()}get(){return JV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function m_(r,e){qi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class uS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ZV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tO=new ah(3e4,6e4);function ra(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ia(r,e,t,i,a={}){return cS(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=sh({key:r.config.apiKey,...c}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...l};return SD()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&na(r.emulatorConfig.host)&&(g.credentials="include"),uS.fetch()(await hS(r,r.config.apiHost,t,d),g)})}async function cS(r,e,t){r._canInitEmulator=!1;const i={...ZV,...e};try{const a=new rO(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ef(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ef(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw ef(r,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw lS(r,_,g);Dr(r,_)}}catch(a){if(a instanceof fi)throw a;Dr(r,"network-request-failed",{message:String(a)})}}async function oh(r,e,t,i,a={}){const l=await ia(r,e,t,i,a);return"mfaPendingCredential"in l&&Dr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function hS(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?m_(r.config,a):`${r.config.apiScheme}://${a}`;return eO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function nO(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(si(this.auth,"network-request-failed")),tO.get())})}}function ef(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=si(r,e,i);return a.customData._tokenResponse=t,a}function Sb(r){return r!==void 0&&r.enterprise!==void 0}class iO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sO(r,e){return ia(r,"GET","/v2/recaptchaConfig",ra(r,e))}async function aO(r,e){return ia(r,"POST","/v1/accounts:delete",e)}async function Mf(r,e){return ia(r,"POST","/v1/accounts:lookup",e)}function xc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oO(r,e=!1){const t=st(r),i=await t.getIdToken(e),a=p_(i);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:xc(Wg(a.auth_time)),issuedAtTime:xc(Wg(a.iat)),expirationTime:xc(Wg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Wg(r){return Number(r)*1e3}function p_(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return mf("JWT malformed, contained fewer than 3 sections"),null;try{const a=HA(t);return a?JSON.parse(a):(mf("Failed to decode base64 JWT payload"),null)}catch(a){return mf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Ib(r){const e=p_(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function zc(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof fi&&lO(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function lO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class uO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kf(r){const e=r.auth,t=await r.getIdToken(),i=await zc(r,Mf(e,{idToken:t}));Ae(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?dS(a.providerUserInfo):[],c=hO(r.providerData,l),d=r.isAnonymous,m=!(r.email&&a.passwordHash)&&!c?.length,g=d?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new vy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function cO(r){const e=st(r);await kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hO(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function dS(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function dO(r,e){const t=await cS(r,{},async()=>{const i=sh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await hS(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return r.emulatorConfig&&na(r.emulatorConfig.host)&&(m.credentials="include"),uS.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fO(r,e){return ia(r,"POST","/v2/accounts:revokeToken",ra(r,e))}class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ib(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=Ib(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await dO(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new wl;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ae(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Mi("not implemented")}}function Rs(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new uO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new vy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await zc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return oO(this,e)}reload(){return cO(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await kf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await zc(this,aO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:R,providerData:k,stsTokenManager:L}=t;Ae(v&&L,e,"internal-error");const j=wl.fromJSON(this.name,L);Ae(typeof v=="string",e,"internal-error"),Rs(i,e.name),Rs(a,e.name),Ae(typeof w=="boolean",e,"internal-error"),Ae(typeof R=="boolean",e,"internal-error"),Rs(l,e.name),Rs(c,e.name),Rs(d,e.name),Rs(m,e.name),Rs(g,e.name),Rs(_,e.name);const J=new Sr({uid:v,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(J.providerData=k.map(ne=>({...ne}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(e,t,i=!1){const a=new wl;a.updateFromServerResponse(t);const l=new Sr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await kf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?dS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new wl;d.updateFromIdToken(i);const m=new Sr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new vy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const xb=new Map;function ki(r){qi(r instanceof Function,"Expected a class definition");let e=xb.get(r);return e?(qi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,xb.set(r,e),e)}class fS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fS.type="NONE";const Rb=fS;function pf(r,e,t){return`firebase:${r}:${e}:${t}`}class Al{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=pf(this.userKey,a.apiKey,l),this.fullPersistenceKey=pf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Mf(this.auth,{idToken:e}).catch(()=>{});return t?Sr._fromGetAccountInfoResponse(this.auth,t,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Al(ki(Rb),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ki(Rb);const c=pf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let v;if(typeof _=="string"){const w=await Mf(e,{idToken:_}).catch(()=>{});if(!w)break;v=await Sr._fromGetAccountInfoResponse(e,w,_)}else v=Sr._fromJSON(e,_);g!==l&&(d=v),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Al(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Al(l,e,i))}}function Cb(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vS(e))return"Blackberry";if(ES(e))return"Webos";if(pS(e))return"Safari";if((e.includes("chrome/")||gS(e))&&!e.includes("edge/"))return"Chrome";if(_S(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function mS(r=Jt()){return/firefox\//i.test(r)}function pS(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gS(r=Jt()){return/crios\//i.test(r)}function yS(r=Jt()){return/iemobile/i.test(r)}function _S(r=Jt()){return/android/i.test(r)}function vS(r=Jt()){return/blackberry/i.test(r)}function ES(r=Jt()){return/webos/i.test(r)}function g_(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mO(r=Jt()){return g_(r)&&!!window.navigator?.standalone}function pO(){return RD()&&document.documentMode===10}function TS(r=Jt()){return g_(r)||_S(r)||ES(r)||vS(r)||/windows phone/i.test(r)||yS(r)}function bS(r,e=[]){let t;switch(r){case"Browser":t=Cb(Jt());break;case"Worker":t=`${Cb(Jt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${po}/${i}`}class gO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function yO(r,e={}){return ia(r,"GET","/v2/passwordPolicy",ra(r,e))}const _O=6;class vO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_O,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class EO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nb(this),this.idTokenSubscription=new Nb(this),this.beforeStateQueue=new gO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ki(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Al.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Mf(this,{idToken:e}),i=await Sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(zi(this));const t=e?st(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yO(this),t=new vO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ih("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await fO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ki(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&YV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function go(r){return st(r)}class Nb{constructor(e){this.auth=e,this.observer=null,this.addObserver=PD(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TO(r){cm=r}function wS(r){return cm.loadJS(r)}function bO(){return cm.recaptchaEnterpriseScript}function wO(){return cm.gapiScript}function AO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class SO{constructor(){this.enterprise=new IO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class IO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xO="recaptcha-enterprise",AS="NO_RECAPTCHA";class RO{constructor(e){this.type=xO,this.auth=go(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{sO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new iO(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;Sb(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(AS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Sb(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=bO();m.length!==0&&(m+=d),wS(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Db(r,e,t,i=!1,a=!1){const l=new RO(r);let c;if(a)c=AS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ey(r,e,t,i,a){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Db(r,e,t,t==="getOobCode");return i(r,l)}else return i(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Db(r,e,t,t==="getOobCode");return i(r,c)}else return Promise.reject(l)})}function CO(r,e){const t=Jl(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Nr(l,e??{}))return a;Dr(a,"already-initialized")}return t.initialize({options:e})}function NO(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ki);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function DO(r,e,t){const i=go(r);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=SS(e),{host:c,port:d}=VO(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(Nr(g,i.config.emulator)&&Nr(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,na(c)?(um(`${l}//${c}${m}`),u_("Auth",!0)):OO()}function SS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function VO(r){const e=SS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Vb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Vb(c)}}}function Vb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function OO(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class y_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,t){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function PO(r,e){return ia(r,"POST","/v1/accounts:signUp",e)}async function MO(r,e){return oh(r,"POST","/v1/accounts:signInWithPassword",ra(r,e))}async function kO(r,e){return oh(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}async function LO(r,e){return oh(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}class Bc extends y_{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Bc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Bc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,t,"signInWithPassword",MO);case"emailLink":return kO(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,i,"signUpPassword",PO);case"emailLink":return LO(e,{idToken:t,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Sl(r,e){return oh(r,"POST","/v1/accounts:signInWithIdp",ra(r,e))}const jO="http://localhost";class ro extends y_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new ro(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Sl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Sl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sl(e,t)}buildRequest(){const e={requestUri:jO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=sh(t)}return e}}function UO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zO(r){const e=Ec(Tc(r)).link,t=e?Ec(Tc(e)).deep_link_id:null,i=Ec(Tc(r)).deep_link_id;return(i?Ec(Tc(i)).link:null)||i||t||e||r}class __{constructor(e){const t=Ec(Tc(e)),i=t.apiKey??null,a=t.oobCode??null,l=UO(t.mode??null);Ae(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=zO(e);try{return new __(t)}catch{return null}}}class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(e,t){return Bc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=__.parseLink(t);return Ae(i,"argument-error"),Bc._fromEmailAndCode(e,i.code,i.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class IS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class lh extends IS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Os extends lh{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";class Ps extends lh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ro._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ps.credential(t,i)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class Ms extends lh{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";class ks extends lh{constructor(){super("twitter.com")}static credential(e,t){return ro._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ks.credential(t,i)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";async function BO(r,e){return oh(r,"POST","/v1/accounts:signUp",ra(r,e))}class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Sr._fromIdTokenResponse(e,i,a),c=Ob(i);return new io({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Ob(i);return new io({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Ob(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Lf extends fi{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Lf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Lf(e,t,i,a)}}function xS(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lf._fromErrorAndOperation(r,l,e,i):l})}async function FO(r,e,t=!1){const i=await zc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return io._forOperation(r,"link",i)}async function qO(r,e,t=!1){const{auth:i}=r;if(Kn(i.app))return Promise.reject(zi(i));const a="reauthenticate";try{const l=await zc(r,xS(i,a,e,r),t);Ae(l.idToken,i,"internal-error");const c=p_(l.idToken);Ae(c,i,"internal-error");const{sub:d}=c;return Ae(r.uid===d,i,"user-mismatch"),io._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Dr(i,"user-mismatch"),l}}async function RS(r,e,t=!1){if(Kn(r.app))return Promise.reject(zi(r));const i="signIn",a=await xS(r,i,e),l=await io._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}async function HO(r,e){return RS(go(r),e)}async function CS(r){const e=go(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GO(r,e,t){if(Kn(r.app))return Promise.reject(zi(r));const i=go(r),c=await Ey(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&CS(r),m}),d=await io._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function KO(r,e,t){return Kn(r.app)?Promise.reject(zi(r)):HO(st(r),Wl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&CS(r),i})}function QO(r,e,t,i){return st(r).onIdTokenChanged(e,t,i)}function $O(r,e,t){return st(r).beforeAuthStateChanged(e,t)}function YO(r,e,t,i){return st(r).onAuthStateChanged(e,t,i)}function XO(r){return st(r).signOut()}const jf="__sak";class NS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JO=1e3,WO=10;class DS extends NS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);pO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,WO):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},JO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DS.type="LOCAL";const ZO=DS;class VS extends NS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}VS.type="SESSION";const OS=VS;function eP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new hm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await eP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];function v_(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class tP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=v_("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ai(){return window}function nP(r){ai().location.href=r}function PS(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function rP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iP(){return navigator?.serviceWorker?.controller||null}function sP(){return PS()?self:null}const MS="firebaseLocalStorageDb",aP=1,Uf="firebaseLocalStorage",kS="fbase_key";class uh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dm(r,e){return r.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function oP(){const r=indexedDB.deleteDatabase(MS);return new uh(r).toPromise()}function Ty(){const r=indexedDB.open(MS,aP);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Uf,{keyPath:kS})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Uf)?e(i):(i.close(),await oP(),e(await Ty()))})})}async function Pb(r,e,t){const i=dm(r,!0).put({[kS]:e,value:t});return new uh(i).toPromise()}async function lP(r,e){const t=dm(r,!1).get(e),i=await new uh(t).toPromise();return i===void 0?null:i.value}function Mb(r,e){const t=dm(r,!0).delete(e);return new uh(t).toPromise()}const uP=800,cP=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ty(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>cP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(sP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rP(),!this.activeServiceWorker)return;this.sender=new tP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ty();return await Pb(e,jf,"1"),await Mb(e,jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>lP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=dm(a,!1).getAll();return new uh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const hP=LS;new ah(3e4,6e4);function dP(r,e){return e?ki(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class E_ extends y_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fP(r){return RS(r.auth,new E_(r),r.bypassAuthState)}function mP(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),qO(t,new E_(r),r.bypassAuthState)}async function pP(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),FO(t,new E_(r),r.bypassAuthState)}class jS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fP;case"linkViaPopup":case"linkViaRedirect":return pP;case"reauthViaPopup":case"reauthViaRedirect":return mP;default:Dr(this.auth,"internal-error")}}resolve(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gP=new ah(2e3,1e4);class bl extends jS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){qi(this.filter.length===1,"Popup operations only handle one event");const e=v_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gP.get())};e()}}bl.currentPopupAction=null;const yP="pendingRedirect",gf=new Map;class _P extends jS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=gf.get(this.auth._key());if(!e){try{const i=await vP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}gf.set(this.auth._key(),e)}return this.bypassAuthState||gf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vP(r,e){const t=bP(e),i=TP(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function EP(r,e){gf.set(r._key(),e)}function TP(r){return ki(r._redirectPersistence)}function bP(r){return pf(yP,r.config.apiKey,r.name)}async function wP(r,e,t=!1){if(Kn(r.app))return Promise.reject(zi(r));const i=go(r),a=dP(i,e),c=await new _P(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const AP=600*1e3;class SP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!US(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(si(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AP&&this.cachedEventUids.clear(),this.cachedEventUids.has(kb(e))}saveEventToCache(e){this.cachedEventUids.add(kb(e)),this.lastProcessedEventTime=Date.now()}}function kb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function US({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function IP(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return US(r);default:return!1}}async function xP(r,e={}){return ia(r,"GET","/v1/projects",e)}const RP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CP=/^https?/;async function NP(r){if(r.config.emulator)return;const{authorizedDomains:e}=await xP(r);for(const t of e)try{if(DP(t))return}catch{}Dr(r,"unauthorized-domain")}function DP(r){const e=_y(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!CP.test(t))return!1;if(RP.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const VP=new ah(3e4,6e4);function Lb(){const r=ai().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function OP(r){return new Promise((e,t)=>{function i(){Lb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lb(),t(si(r,"network-request-failed"))},timeout:VP.get()})}if(ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ai().gapi?.load)i();else{const a=AO("iframefcb");return ai()[a]=()=>{gapi.load?i():t(si(r,"network-request-failed"))},wS(`${wO()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw yf=null,e})}let yf=null;function PP(r){return yf=yf||OP(r),yf}const MP=new ah(5e3,15e3),kP="__/auth/iframe",LP="emulator/auth/iframe",jP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zP(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?m_(e,LP):`https://${r.config.authDomain}/${kP}`,i={apiKey:e.apiKey,appName:r.name,v:po},a=UP.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${sh(i).slice(1)}`}async function BP(r){const e=await PP(r),t=ai().gapi;return Ae(t,r,"internal-error"),e.open({where:document.body,url:zP(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=si(r,"network-request-failed"),d=ai().setTimeout(()=>{l(c)},MP.get());function m(){ai().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const FP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qP=500,HP=600,GP="_blank",KP="http://localhost";class jb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QP(r,e,t,i=qP,a=HP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...FP,width:i.toString(),height:a.toString(),top:l,left:c},g=Jt().toLowerCase();t&&(d=gS(g)?GP:t),mS(g)&&(e=e||KP,m.scrollbars="yes");const _=Object.entries(m).reduce((w,[R,k])=>`${w}${R}=${k},`,"");if(mO(g)&&d!=="_self")return $P(e||"",d),new jb(null);const v=window.open(e||"",d,_);Ae(v,r,"popup-blocked");try{v.focus()}catch{}return new jb(v)}function $P(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const YP="__/auth/handler",XP="emulator/auth/handler",JP=encodeURIComponent("fac");async function Ub(r,e,t,i,a,l){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:po,eventId:a};if(e instanceof IS){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",OD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))c[_]=v}if(e instanceof lh){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await r._getAppCheckToken(),g=m?`#${JP}=${encodeURIComponent(m)}`:"";return`${WP(r)}?${sh(d).slice(1)}${g}`}function WP({config:r}){return r.emulator?m_(r,XP):`https://${r.authDomain}/${YP}`}const Zg="webStorageSupport";class ZP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OS,this._completeRedirectFn=wP,this._overrideRedirectResult=EP}async _openPopup(e,t,i,a){qi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Ub(e,t,i,_y(),a);return QP(e,l,v_())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Ub(e,t,i,_y(),a);return nP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(qi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await BP(e),i=new SP(e);return t.register("authEvent",a=>(Ae(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zg,{type:Zg},a=>{const l=a?.[0]?.[Zg];l!==void 0&&t(!!l),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=NP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return TS()||pS()||g_()}}const eM=ZP;var zb="@firebase/auth",Bb="1.12.0";class tM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rM(r){no(new Ks("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bS(r)},g=new EO(i,a,l,m);return NO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),no(new Ks("auth-internal",e=>{const t=go(e.getProvider("auth").getImmediate());return(i=>new tM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(zb,Bb,nM(r)),ii(zb,Bb,"esm2020")}const iM=300,sM=YA("authIdTokenMaxAge")||iM;let Fb=null;const aM=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>sM)return;const a=t?.token;Fb!==a&&(Fb=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function oM(r=d_()){const e=Jl(r,"auth");if(e.isInitialized())return e.getImmediate();const t=CO(r,{popupRedirectResolver:eM,persistence:[hP,ZO,OS]}),i=YA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=aM(l.toString());$O(t,c,()=>c(t.currentUser)),QO(t,d=>c(d))}}const a=KA("auth");return a&&DO(t,`http://${a}`),t}function lM(){return document.getElementsByTagName("head")?.[0]??document}TO({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=si("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",lM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rM("Browser");var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hs,zS;(function(){var r;function e(C,x){function N(){}N.prototype=x.prototype,C.F=x.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(M,O,U){for(var I=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)I[Oe-2]=arguments[Oe];return x.prototype[O].apply(M,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,x,N){N||(N=0);const M=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)M[O]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(O=0;O<16;++O)M[O]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=C.g[0],N=C.g[1],O=C.g[2];let U=C.g[3],I;I=x+(U^N&(O^U))+M[0]+3614090360&4294967295,x=N+(I<<7&4294967295|I>>>25),I=U+(O^x&(N^O))+M[1]+3905402710&4294967295,U=x+(I<<12&4294967295|I>>>20),I=O+(N^U&(x^N))+M[2]+606105819&4294967295,O=U+(I<<17&4294967295|I>>>15),I=N+(x^O&(U^x))+M[3]+3250441966&4294967295,N=O+(I<<22&4294967295|I>>>10),I=x+(U^N&(O^U))+M[4]+4118548399&4294967295,x=N+(I<<7&4294967295|I>>>25),I=U+(O^x&(N^O))+M[5]+1200080426&4294967295,U=x+(I<<12&4294967295|I>>>20),I=O+(N^U&(x^N))+M[6]+2821735955&4294967295,O=U+(I<<17&4294967295|I>>>15),I=N+(x^O&(U^x))+M[7]+4249261313&4294967295,N=O+(I<<22&4294967295|I>>>10),I=x+(U^N&(O^U))+M[8]+1770035416&4294967295,x=N+(I<<7&4294967295|I>>>25),I=U+(O^x&(N^O))+M[9]+2336552879&4294967295,U=x+(I<<12&4294967295|I>>>20),I=O+(N^U&(x^N))+M[10]+4294925233&4294967295,O=U+(I<<17&4294967295|I>>>15),I=N+(x^O&(U^x))+M[11]+2304563134&4294967295,N=O+(I<<22&4294967295|I>>>10),I=x+(U^N&(O^U))+M[12]+1804603682&4294967295,x=N+(I<<7&4294967295|I>>>25),I=U+(O^x&(N^O))+M[13]+4254626195&4294967295,U=x+(I<<12&4294967295|I>>>20),I=O+(N^U&(x^N))+M[14]+2792965006&4294967295,O=U+(I<<17&4294967295|I>>>15),I=N+(x^O&(U^x))+M[15]+1236535329&4294967295,N=O+(I<<22&4294967295|I>>>10),I=x+(O^U&(N^O))+M[1]+4129170786&4294967295,x=N+(I<<5&4294967295|I>>>27),I=U+(N^O&(x^N))+M[6]+3225465664&4294967295,U=x+(I<<9&4294967295|I>>>23),I=O+(x^N&(U^x))+M[11]+643717713&4294967295,O=U+(I<<14&4294967295|I>>>18),I=N+(U^x&(O^U))+M[0]+3921069994&4294967295,N=O+(I<<20&4294967295|I>>>12),I=x+(O^U&(N^O))+M[5]+3593408605&4294967295,x=N+(I<<5&4294967295|I>>>27),I=U+(N^O&(x^N))+M[10]+38016083&4294967295,U=x+(I<<9&4294967295|I>>>23),I=O+(x^N&(U^x))+M[15]+3634488961&4294967295,O=U+(I<<14&4294967295|I>>>18),I=N+(U^x&(O^U))+M[4]+3889429448&4294967295,N=O+(I<<20&4294967295|I>>>12),I=x+(O^U&(N^O))+M[9]+568446438&4294967295,x=N+(I<<5&4294967295|I>>>27),I=U+(N^O&(x^N))+M[14]+3275163606&4294967295,U=x+(I<<9&4294967295|I>>>23),I=O+(x^N&(U^x))+M[3]+4107603335&4294967295,O=U+(I<<14&4294967295|I>>>18),I=N+(U^x&(O^U))+M[8]+1163531501&4294967295,N=O+(I<<20&4294967295|I>>>12),I=x+(O^U&(N^O))+M[13]+2850285829&4294967295,x=N+(I<<5&4294967295|I>>>27),I=U+(N^O&(x^N))+M[2]+4243563512&4294967295,U=x+(I<<9&4294967295|I>>>23),I=O+(x^N&(U^x))+M[7]+1735328473&4294967295,O=U+(I<<14&4294967295|I>>>18),I=N+(U^x&(O^U))+M[12]+2368359562&4294967295,N=O+(I<<20&4294967295|I>>>12),I=x+(N^O^U)+M[5]+4294588738&4294967295,x=N+(I<<4&4294967295|I>>>28),I=U+(x^N^O)+M[8]+2272392833&4294967295,U=x+(I<<11&4294967295|I>>>21),I=O+(U^x^N)+M[11]+1839030562&4294967295,O=U+(I<<16&4294967295|I>>>16),I=N+(O^U^x)+M[14]+4259657740&4294967295,N=O+(I<<23&4294967295|I>>>9),I=x+(N^O^U)+M[1]+2763975236&4294967295,x=N+(I<<4&4294967295|I>>>28),I=U+(x^N^O)+M[4]+1272893353&4294967295,U=x+(I<<11&4294967295|I>>>21),I=O+(U^x^N)+M[7]+4139469664&4294967295,O=U+(I<<16&4294967295|I>>>16),I=N+(O^U^x)+M[10]+3200236656&4294967295,N=O+(I<<23&4294967295|I>>>9),I=x+(N^O^U)+M[13]+681279174&4294967295,x=N+(I<<4&4294967295|I>>>28),I=U+(x^N^O)+M[0]+3936430074&4294967295,U=x+(I<<11&4294967295|I>>>21),I=O+(U^x^N)+M[3]+3572445317&4294967295,O=U+(I<<16&4294967295|I>>>16),I=N+(O^U^x)+M[6]+76029189&4294967295,N=O+(I<<23&4294967295|I>>>9),I=x+(N^O^U)+M[9]+3654602809&4294967295,x=N+(I<<4&4294967295|I>>>28),I=U+(x^N^O)+M[12]+3873151461&4294967295,U=x+(I<<11&4294967295|I>>>21),I=O+(U^x^N)+M[15]+530742520&4294967295,O=U+(I<<16&4294967295|I>>>16),I=N+(O^U^x)+M[2]+3299628645&4294967295,N=O+(I<<23&4294967295|I>>>9),I=x+(O^(N|~U))+M[0]+4096336452&4294967295,x=N+(I<<6&4294967295|I>>>26),I=U+(N^(x|~O))+M[7]+1126891415&4294967295,U=x+(I<<10&4294967295|I>>>22),I=O+(x^(U|~N))+M[14]+2878612391&4294967295,O=U+(I<<15&4294967295|I>>>17),I=N+(U^(O|~x))+M[5]+4237533241&4294967295,N=O+(I<<21&4294967295|I>>>11),I=x+(O^(N|~U))+M[12]+1700485571&4294967295,x=N+(I<<6&4294967295|I>>>26),I=U+(N^(x|~O))+M[3]+2399980690&4294967295,U=x+(I<<10&4294967295|I>>>22),I=O+(x^(U|~N))+M[10]+4293915773&4294967295,O=U+(I<<15&4294967295|I>>>17),I=N+(U^(O|~x))+M[1]+2240044497&4294967295,N=O+(I<<21&4294967295|I>>>11),I=x+(O^(N|~U))+M[8]+1873313359&4294967295,x=N+(I<<6&4294967295|I>>>26),I=U+(N^(x|~O))+M[15]+4264355552&4294967295,U=x+(I<<10&4294967295|I>>>22),I=O+(x^(U|~N))+M[6]+2734768916&4294967295,O=U+(I<<15&4294967295|I>>>17),I=N+(U^(O|~x))+M[13]+1309151649&4294967295,N=O+(I<<21&4294967295|I>>>11),I=x+(O^(N|~U))+M[4]+4149444226&4294967295,x=N+(I<<6&4294967295|I>>>26),I=U+(N^(x|~O))+M[11]+3174756917&4294967295,U=x+(I<<10&4294967295|I>>>22),I=O+(x^(U|~N))+M[2]+718787259&4294967295,O=U+(I<<15&4294967295|I>>>17),I=N+(U^(O|~x))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}i.prototype.v=function(C,x){x===void 0&&(x=C.length);const N=x-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<x;){if(O==0)for(;U<=N;)a(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<x;)if(M[O++]=C.charCodeAt(U++),O==this.blockSize){a(this,M),O=0;break}}else for(;U<x;)if(M[O++]=C[U++],O==this.blockSize){a(this,M),O=0;break}}this.h=O,this.o+=x},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;x=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=x&255,x/=256;for(this.v(C),C=Array(16),x=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)C[x++]=this.g[N]>>>M&255;return C};function l(C,x){var N=d;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=x(C)}function c(C,x){this.h=x;const N=[];let M=!0;for(let O=C.length-1;O>=0;O--){const U=C[O]|0;M&&U==x||(N[O]=U,M=!1)}this.g=N}var d={};function m(C){return-128<=C&&C<128?l(C,function(x){return new c([x|0],x<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return j(g(-C));const x=[];let N=1;for(let M=0;C>=N;M++)x[M]=C/N|0,N*=4294967296;return new c(x,0)}function _(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return j(_(C.substring(1),x));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(x,8));let M=v;for(let U=0;U<C.length;U+=8){var O=Math.min(8,C.length-U);const I=parseInt(C.substring(U,U+O),x);O<8?(O=g(Math.pow(x,O)),M=M.j(O).add(g(I))):(M=M.j(N),M=M.add(g(I)))}return M}var v=m(0),w=m(1),R=m(16777216);r=c.prototype,r.m=function(){if(L(this))return-j(this).m();let C=0,x=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);C+=(M>=0?M:4294967296+M)*x,x*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(L(this))return"-"+j(this).toString(C);const x=g(Math.pow(C,6));var N=this;let M="";for(;;){const O=W(N,x).g;N=J(N,O.j(x));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=O,k(N))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(let x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function L(C){return C.h==-1}r.l=function(C){return C=J(this,C),L(C)?-1:k(C)?0:1};function j(C){const x=C.g.length,N=[];for(let M=0;M<x;M++)N[M]=~C.g[M];return new c(N,~C.h).add(w)}r.abs=function(){return L(this)?j(this):this},r.add=function(C){const x=Math.max(this.g.length,C.g.length),N=[];let M=0;for(let O=0;O<=x;O++){let U=M+(this.i(O)&65535)+(C.i(O)&65535),I=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=I>>>16,U&=65535,I&=65535,N[O]=I<<16|U}return new c(N,N[N.length-1]&-2147483648?-1:0)};function J(C,x){return C.add(j(x))}r.j=function(C){if(k(this)||k(C))return v;if(L(this))return L(C)?j(this).j(j(C)):j(j(this).j(C));if(L(C))return j(this.j(j(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const x=this.g.length+C.g.length,N=[];for(var M=0;M<2*x;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const U=this.i(M)>>>16,I=this.i(M)&65535,Oe=C.i(O)>>>16,It=C.i(O)&65535;N[2*M+2*O]+=I*It,ne(N,2*M+2*O),N[2*M+2*O+1]+=U*It,ne(N,2*M+2*O+1),N[2*M+2*O+1]+=I*Oe,ne(N,2*M+2*O+1),N[2*M+2*O+2]+=U*Oe,ne(N,2*M+2*O+2)}for(C=0;C<x;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=x;C<2*x;C++)N[C]=0;return new c(N,0)};function ne(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function G(C,x){this.g=C,this.h=x}function W(C,x){if(k(x))throw Error("division by zero");if(k(C))return new G(v,v);if(L(C))return x=W(j(C),x),new G(j(x.g),j(x.h));if(L(x))return x=W(C,j(x)),new G(j(x.g),x.h);if(C.g.length>30){if(L(C)||L(x))throw Error("slowDivide_ only works with positive integers.");for(var N=w,M=x;M.l(C)<=0;)N=le(N),M=le(M);var O=pe(N,1),U=pe(M,1);for(M=pe(M,2),N=pe(N,2);!k(M);){var I=U.add(M);I.l(C)<=0&&(O=O.add(N),U=I),M=pe(M,1),N=pe(N,1)}return x=J(C,O.j(x)),new G(O,x)}for(O=v;C.l(x)>=0;){for(N=Math.max(1,Math.floor(C.m()/x.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=g(N),I=U.j(x);L(I)||I.l(C)>0;)N-=M,U=g(N),I=U.j(x);k(U)&&(U=w),O=O.add(U),C=J(C,I)}return new G(O,C)}r.B=function(C){return W(this,C).h},r.and=function(C){const x=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<x;M++)N[M]=this.i(M)&C.i(M);return new c(N,this.h&C.h)},r.or=function(C){const x=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<x;M++)N[M]=this.i(M)|C.i(M);return new c(N,this.h|C.h)},r.xor=function(C){const x=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<x;M++)N[M]=this.i(M)^C.i(M);return new c(N,this.h^C.h)};function le(C){const x=C.g.length+1,N=[];for(let M=0;M<x;M++)N[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(N,C.h)}function pe(C,x){const N=x>>5;x%=32;const M=C.g.length-N,O=[];for(let U=0;U<M;U++)O[U]=x>0?C.i(U+N)>>>x|C.i(U+N+1)<<32-x:C.i(U+N);return new c(O,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,zS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Hs=c}).apply(typeof qb<"u"?qb:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var BS,bc,FS,_f,by,qS,HS,GS;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var y=0;y<h.length;++y){var b=h[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var b=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in b))break e;b=b[q]}h=h[h.length-1],S=b[h],y=y(S),y!=S&&y!=null&&e(b,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var b=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&b.push([S,y[S]]);return b}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,b){return h.call.apply(h.bind,arguments)}function g(h,y,b){return g=m,g.apply(null,arguments)}function _(h,y){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function v(h,y){function b(){}b.prototype=y.prototype,h.Z=y.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(S,q,Y){for(var ce=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ce[Ne-2]=arguments[Ne];return y.prototype[q].apply(S,ce)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const b=Array(y);for(let S=0;S<y;S++)b[S]=h[S];return b}return[]}function k(h,y){for(let S=1;S<arguments.length;S++){const q=arguments[S];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=h.length||0;const Y=q.length||0;h.length=b+Y;for(let ce=0;ce<Y;ce++)h[b+ce]=q[ce]}else h.push(q)}}class L{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function J(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,b){const S=G.get();S.set(y,b),this.h?this.h.next=S:this.g=S,this.h=S}}var G=new L(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,C=new ne,x=()=>{const h=Promise.resolve(void 0);le=()=>{h.then(N)}};function N(){for(var h;h=J();){try{h.h.call(h.g)}catch(b){j(b)}var y=G;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}pe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,y),c.removeEventListener("test",b,y)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function Oe(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}v(Oe,O),Oe.prototype.init=function(h,y){const b=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(b=="mouseover"?y=h.fromElement:b=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),ee=0;function de(h,y,b,S,q){this.listener=h,this.proxy=null,this.src=y,this.type=b,this.capture=!!S,this.ha=q,this.key=++ee,this.da=this.fa=!1}function Te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function je(h,y,b){for(const S in h)y.call(b,h[S],S,h)}function $e(h,y){for(const b in h)y.call(void 0,h[b],b,h)}function V(h){const y={};for(const b in h)y[b]=h[b];return y}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,y){let b,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(b in S)h[b]=S[b];for(let Y=0;Y<se.length;Y++)b=se[Y],Object.prototype.hasOwnProperty.call(S,b)&&(h[b]=S[b])}}function ge(h){this.src=h,this.g={},this.h=0}ge.prototype.add=function(h,y,b,S,q){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ce=Re(h,y,S,q);return ce>-1?(y=h[ce],b||(y.fa=!1)):(y=new de(y,this.src,Y,!!S,q),y.fa=b,h.push(y)),y};function Ie(h,y){const b=y.type;if(b in h.g){var S=h.g[b],q=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(S,q,1),Y&&(Te(y),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Re(h,y,b,S){for(let q=0;q<h.length;++q){const Y=h[q];if(!Y.da&&Y.listener==y&&Y.capture==!!b&&Y.ha==S)return q}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Vt={};function ft(h,y,b,S,q){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)ft(h,y[Y],b,S,q);return null}return b=Vr(b),h&&h[It]?h.J(y,b,d(S)?!!S.capture:!1,q):Yn(h,y,b,!1,S,q)}function Yn(h,y,b,S,q,Y){if(!y)throw Error("Invalid event type");const ce=d(q)?!!q.capture:!!q;let Ne=pi(h);if(Ne||(h[Ue]=Ne=new ge(h)),b=Ne.add(y,b,S,ce,Y),b.proxy)return b;if(S=Z(),b.proxy=S,S.src=h,S.listener=b,h.addEventListener)U||(q=ce),q===void 0&&(q=!1),h.addEventListener(y.toString(),S,q);else if(h.attachEvent)h.attachEvent(Et(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Z(){function h(b){return y.call(h.src,h.listener,b)}const y=fa;return h}function ht(h,y,b,S,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)ht(h,y[Y],b,S,q);else S=d(S)?!!S.capture:!!S,b=Vr(b),h&&h[It]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],b=Re(y,b,S,q),b>-1&&(Te(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=pi(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Re(y,b,S,q)),(b=h>-1?y[h]:null)&&vt(b))}function vt(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[It])Ie(y.i,h);else{var b=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(b,S,h.capture):y.detachEvent?y.detachEvent(Et(b),S):y.addListener&&y.removeListener&&y.removeListener(S),(b=pi(y))?(Ie(b,h),b.h==0&&(b.src=null,y[Ue]=null)):Te(h)}}}function Et(h){return h in Vt?Vt[h]:Vt[h]="on"+h}function fa(h,y){if(h.da)h=!0;else{y=new Oe(y,this);const b=h.listener,S=h.ha||h.src;h.fa&&vt(h),h=b.call(S,y)}return h}function pi(h){return h=h[Ue],h instanceof ge?h:null}var ma="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vr(h){return typeof h=="function"?h:(h[ma]||(h[ma]=function(y){return h.handleEvent(y)}),h[ma])}function Ct(){M.call(this),this.i=new ge(this),this.M=this,this.G=null}v(Ct,M),Ct.prototype[It]=!0,Ct.prototype.removeEventListener=function(h,y,b,S){ht(this,h,y,b,S)};function Ut(h,y){var b,S=h.G;if(S)for(b=[];S;S=S.G)b.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var q=y;y=new O(S,h),fe(y,q)}q=!0;let Y,ce;if(b)for(ce=b.length-1;ce>=0;ce--)Y=y.g=b[ce],q=Xn(Y,S,!0,y)&&q;if(Y=y.g=h,q=Xn(Y,S,!0,y)&&q,q=Xn(Y,S,!1,y)&&q,b)for(ce=0;ce<b.length;ce++)Y=y.g=b[ce],q=Xn(Y,S,!1,y)&&q}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const b=h.g[y];for(let S=0;S<b.length;S++)Te(b[S]);delete h.g[y],h.h--}}this.G=null},Ct.prototype.J=function(h,y,b,S){return this.i.add(String(h),y,!1,b,S)},Ct.prototype.K=function(h,y,b,S){return this.i.add(String(h),y,!0,b,S)};function Xn(h,y,b,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Y=0;Y<y.length;++Y){const ce=y[Y];if(ce&&!ce.da&&ce.capture==b){const Ne=ce.listener,Pt=ce.ha||ce.src;ce.fa&&Ie(h.i,ce),q=Ne.call(Pt,S)!==!1&&q}}return q&&!S.defaultPrevented}function zm(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Ah(h){h.g=zm(()=>{h.g=null,h.i&&(h.i=!1,Ah(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class En extends M{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ah(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(h){M.call(this),this.h=h,this.g={}}v(pa,M);var hu=[];function du(h){je(h.g,function(y,b){this.g.hasOwnProperty(b)&&vt(y)},h),h.g={}}pa.prototype.N=function(){pa.Z.N.call(this),du(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xi=c.JSON.stringify,Bm=c.JSON.parse,Sh=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ih(){}function xh(){}var dr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){O.call(this,"d")}v(on,O);function Jn(){O.call(this,"c")}v(Jn,O);var Ot={},Rh=null;function bo(){return Rh=Rh||new Ct}Ot.Ia="serverreachability";function Ch(h){O.call(this,Ot.Ia,h)}v(Ch,O);function Or(h){const y=bo();Ut(y,new Ch(y))}Ot.STAT_EVENT="statevent";function ga(h,y){O.call(this,Ot.STAT_EVENT,h),this.stat=y}v(ga,O);function zt(h){const y=bo();Ut(y,new ga(y,h))}Ot.Ja="timingevent";function Pr(h,y){O.call(this,Ot.Ja,h),this.size=y}v(Pr,O);function Mr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function Fm(h,y,b,S,q,Y){h.info(function(){if(h.g)if(Y){var ce="",Ne=Y.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var Pt=Ne[Ye].split("=");if(Pt.length>1){const Tt=Pt[0];Pt=Pt[1];const tr=Tt.split("_");ce=tr.length>=2&&tr[1]=="type"?ce+(Tt+"="+Pt+"&"):ce+(Tt+"=redacted&")}}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+b+`
`+ce})}function Nh(h,y,b,S,q,Y,ce){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+b+`
`+Y+" "+ce})}function kr(h,y,b,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+qm(h,b)+(S?" "+S:"")})}function ya(h,y){h.info(function(){return"TIMEOUT: "+y})}fr.prototype.info=function(){};function qm(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var b=Y[h];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ce=1;ce<S.length;ce++)S[ce]=""}}}}return Xi(Y)}catch{return y}}var _a={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mu;function va(){}v(va,Ih),va.prototype.g=function(){return new XMLHttpRequest},mu=new va;function gi(h){return encodeURIComponent(String(h))}function Dh(h){var y=1;h=h.split(":");const b=[];for(;y>0&&h.length;)b.push(h.shift()),y--;return h.length&&b.push(h.join(":")),b}function mr(h,y,b,S){this.j=h,this.i=y,this.l=b,this.S=S||1,this.V=new pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var Bt={},en={};function Lr(h,y,b){h.M=1,h.A=Ea(qt(y)),h.u=b,h.R=!0,wo(h,null)}function wo(h,y){h.F=Date.now(),jr(h),h.B=qt(h.A);var b=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),xo(b.i,"t",S),h.C=0,b=h.j.L,h.h=new pr,h.g=Kh(h.j,b?y:null,!h.u),h.P>0&&(h.O=new En(g(h.Y,h,h.g),h.P)),y=h.V,b=h.g,S=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(hu[0]=q.toString()),q=hu);for(let Y=0;Y<q.length;Y++){const ce=ft(b,q[Y],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Or(),Fm(h.i,h.v,h.B,h.l,h.S,h.u)}mr.prototype.ba=function(h){h=h.target;const y=this.O;y&&_r(h)==3?y.j():this.Y(h)},mr.prototype.Y=function(h){try{if(h==this.g)e:{const Ne=_r(this.g),Pt=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Ne!=4||Pt==7||(Pt==8||Ye<=0?Or(3):Or(2)),Ur(this);var y=this.g.ca();this.X=y;var b=Hm(this);if(this.o=y==200,Nh(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var Y=S;break t}}Y=null}if(h=Y)kr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zr(this,h);else{this.o=!1,this.m=3,zt(12),kn(this),Wn(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<b.length;)if(Tt=Oh(this,b),Tt==en){Ne==4&&(this.m=4,zt(14),h=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Bt){this.m=4,zt(15),kr(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else kr(this.i,this.l,Tt,null),zr(this,Tt);if(Vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,zt(16),h=!1),this.o=this.o&&h,!h)kr(this.i,this.l,b,"[Invalid Chunked Response]"),kn(this),Wn(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Cu(ce),ce.P=!0,zt(11))}}else kr(this.i,this.l,b,null),zr(this,b);Ne==4&&kn(this),this.o&&!this.K&&(Ne==4?Fh(this.j,this):(this.o=!1,jr(this)))}else _i(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),kn(this),Wn(this)}}}catch{}};function Hm(h){if(!Vh(h))return h.g.la();const y=ln(h.g);if(y==="")return"";let b="";const S=y.length,q=_r(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Wn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<S;Y++)h.h.h=!0,b+=h.h.i.decode(y[Y],{stream:!(q&&Y==S-1)});return y.length=0,h.h.g+=b,h.C=0,h.h.g}function Vh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Oh(h,y){var b=h.C,S=y.indexOf(`
`,b);return S==-1?en:(b=Number(y.substring(b,S)),isNaN(b)?Bt:(S+=1,S+b>y.length?en:(y=y.slice(S,S+b),h.C=S+b,y)))}mr.prototype.cancel=function(){this.K=!0,kn(this)};function jr(h){h.T=Date.now()+h.H,Ao(h,h.H)}function Ao(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Mr(g(h.aa,h),y)}function Ur(h){h.D&&(c.clearTimeout(h.D),h.D=null)}mr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(ya(this.i,this.B),this.M!=2&&(Or(),zt(17)),kn(this),this.m=2,Wn(this)):Ao(this,this.T-h)};function Wn(h){h.j.I==0||h.K||Fh(h.j,h)}function kn(h){Ur(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,du(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function zr(h,y){try{var b=h.j;if(b.I!=0&&(b.g==h||Fr(b.h,h))){if(!h.L&&Fr(b.h,h)&&b.I==3){try{var S=b.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Vo(b),is(b);else break e;xa(b),zt(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Mr(g(b.Va,b),6e3));Br(b.h)<=1&&b.ta&&(b.ta=void 0)}else $r(b,11)}else if((h.L||b.g==h)&&Vo(b),!I(y))for(q=b.Ba.g.parse(y),y=0;y<q.length;y++){let Ye=q[y];const Tt=Ye[0];if(!(Tt<=b.K))if(b.K=Tt,Ye=Ye[1],b.I==2)if(Ye[0]=="c"){b.M=Ye[1],b.ba=Ye[2];const tr=Ye[3];tr!=null&&(b.ka=tr,b.j.info("VER="+b.ka));const Yr=Ye[4];Yr!=null&&(b.za=Yr,b.j.info("SVER="+b.za));const vr=Ye[5];vr!=null&&typeof vr=="number"&&vr>0&&(S=1.5*vr,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Er=h.g;if(Er){const Ra=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ra){var Y=S.h;Y.g||Ra.indexOf("spdy")==-1&&Ra.indexOf("quic")==-1&&Ra.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(yu(Y,Y.h),Y.h=null))}if(S.G){const Oo=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(S.wa=Oo,Ze(S.J,S.G,Oo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ce=h;if(S.na=Gh(S,S.L?S.ba:null,S.W),ce.L){_u(S.h,ce);var Ne=ce,Pt=S.O;Pt&&(Ne.H=Pt),Ne.D&&(Ur(Ne),jr(Ne)),S.g=ce}else zh(S);b.i.length>0&&Qr(b)}else Ye[0]!="stop"&&Ye[0]!="close"||$r(b,7);else b.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?$r(b,7):xu(b):Ye[0]!="noop"&&b.l&&b.l.qa(Ye),b.A=0)}}Or(4)}catch{}}var Ft=class{constructor(h,y){this.g=h,this.map=y}};function pu(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Br(h){return h.h?1:h.g?h.g.size:0}function Fr(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function yu(h,y){h.g?h.g.add(y):h.h=y}function _u(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}pu.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vu(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const b of h.g.values())y=y.concat(b.G);return y}return R(h.i)}var Ph=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function So(h,y){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const S=h[b].indexOf("=");let q,Y=null;S>=0?(q=h[b].substring(0,S),Y=h[b].substring(S+1)):q=h[b],y(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ln(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Ln?(this.l=h.l,tn(this,h.j),this.o=h.o,this.g=h.g,Ji(this,h.u),this.h=h.h,Eu(this,jh(h.i)),this.m=h.m):h&&(y=String(h).match(Ph))?(this.l=!1,tn(this,y[1]||"",!0),this.o=qr(y[2]||""),this.g=qr(y[3]||"",!0),Ji(this,y[4]),this.h=qr(y[5]||"",!0),Eu(this,y[6]||"",!0),this.m=qr(y[7]||"")):(this.l=!1,this.i=new Zi(null,this.l))}Ln.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ta(y,Io,!0),":");var b=this.g;return(b||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ta(y,Io,!0),"@"),h.push(gi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Ta(b,b.charAt(0)=="/"?Tu:Mh,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Ta(b,kh)),h.join("")},Ln.prototype.resolve=function(h){const y=qt(this);let b=!!h.j;b?tn(y,h.j):b=!!h.o,b?y.o=h.o:b=!!h.g,b?y.g=h.g:b=h.u!=null;var S=h.h;if(b)Ji(y,h.u);else if(b=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=y.h.lastIndexOf("/");q!=-1&&(S=y.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let ce=0;ce<q.length;){const Ne=q[ce++];Ne=="."?S&&ce==q.length&&Y.push(""):Ne==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&ce==q.length&&Y.push("")):(Y.push(Ne),S=!0)}S=Y.join("/")}else S=q}return b?y.h=S:b=h.i.toString()!=="",b?Eu(y,jh(h.i)):b=!!h.m,b&&(y.m=h.m),y};function qt(h){return new Ln(h)}function tn(h,y,b){h.j=b?qr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ji(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Eu(h,y,b){y instanceof Zi?(h.i=y,Ro(h.i,h.l)):(b||(y=Ta(y,Wi)),h.i=new Zi(y,h.l))}function Ze(h,y,b){h.i.set(y,b)}function Ea(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function qr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ta(h,y,b){return typeof h=="string"?(h=encodeURI(h).replace(y,wn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Io=/[#\/\?@]/g,Mh=/[#\?:]/g,Tu=/[#\?]/g,Wi=/[#\?@]/g,kh=/#/g;function Zi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function An(h){h.g||(h.g=new Map,h.h=0,h.i&&So(h.i,function(y,b){h.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=Zi.prototype,r.add=function(h,y){An(this),this.i=null,h=es(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(y),this.h+=1,this};function Lh(h,y){An(h),y=es(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function bu(h,y){return An(h),y=es(h,y),h.g.has(y)}r.forEach=function(h,y){An(this),this.g.forEach(function(b,S){b.forEach(function(q){h.call(y,q,S,this)},this)},this)};function wu(h,y){An(h);let b=[];if(typeof y=="string")bu(h,y)&&(b=b.concat(h.g.get(es(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)b=b.concat(h[y]);return b}r.set=function(h,y){return An(this),this.i=null,h=es(this,h),bu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=wu(this,h),h.length>0?String(h[0]):y):y};function xo(h,y,b){Lh(h,y),b.length>0&&(h.i=null,h.g.set(es(h,y),R(b)),h.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var b=y[S];const q=gi(b);b=wu(this,b);for(let Y=0;Y<b.length;Y++){let ce=q;b[Y]!==""&&(ce+="="+gi(b[Y])),h.push(ce)}}return this.i=h.join("&")};function jh(h){const y=new Zi;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function es(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ro(h,y){y&&!h.j&&(An(h),h.i=null,h.g.forEach(function(b,S){const q=S.toLowerCase();S!=q&&(Lh(this,S),xo(this,q,b))},h)),h.j=y}function gr(h,y){const b=new fr;if(c.Image){const S=new Image;S.onload=_(Zn,b,"TestLoadImage: loaded",!0,y,S),S.onerror=_(Zn,b,"TestLoadImage: error",!1,y,S),S.onabort=_(Zn,b,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(Zn,b,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Au(h,y){const b=new fr,S=new AbortController,q=setTimeout(()=>{S.abort(),Zn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(q),Y.ok?Zn(b,"TestPingServer: ok",!0,y):Zn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Zn(b,"TestPingServer: error",!1,y)})}function Zn(h,y,b,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(b)}catch{}}function ts(){this.g=new Sh}function Hr(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Hr,Ih),Hr.prototype.g=function(){return new ba(this.i,this.h)};function ba(h,y){Ct.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ba,Ct),r=ba.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,yr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Co(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Co(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?ns(this):yr(this),this.readyState==3&&Co(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,ns(this))},r.Na=function(h){this.g&&(this.response=h,ns(this))},r.ga=function(){this.g&&ns(this)};function ns(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yr(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=y.next();return h.join(`\r
`)};function yr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function er(h){let y="";return je(h,function(b,S){y+=S,y+=":",y+=b,y+=`\r
`}),y}function wa(h,y,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=er(b),typeof h=="string"?b!=null&&gi(b):Ze(h,y,b))}function at(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(at,Ct);var Gr=/^https?$/i,Su=["POST","PUT"];r=at.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mu.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Aa(this,Y);return}if(h=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)b.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())b.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Su,y,void 0)>=0)||S||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of b)this.g.setRequestHeader(Y,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Aa(this,Y)}};function Aa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Iu(h),yi(h)}function Iu(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),yi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yi(this,!0)),at.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},r.Xa=function(){Sa(this)};function Sa(h){if(h.h&&typeof l<"u"){if(h.v&&_r(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),_r(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var S;if(S=Y===0){let ce=String(h.D).match(Ph)[1]||null;!ce&&c.self&&c.self.location&&(ce=c.self.location.protocol.slice(0,-1)),S=!Gr.test(ce?ce.toLowerCase():"")}b=S}if(b)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var q=_r(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Iu(h)}}finally{yi(h)}}}}function yi(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,y||Ut(h,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function _r(h){return h.g?h.g.readyState:0}r.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Bm(y)}};function ln(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _i(h){const y={};h=(h.g&&_r(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(I(h[S]))continue;var b=Dh(h[S]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=y[q]||[];y[q]=Y,Y.push(b)}$e(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(h,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||y}function rs(h){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Kr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Kr("baseRetryDelayMs",5e3,h),this.Za=Kr("retryDelaySeedMs",1e4,h),this.Ta=Kr("forwardChannelMaxRetries",2,h),this.va=Kr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new pu(h&&h.concurrentRequestLimit),this.Ba=new ts,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=rs.prototype,r.ka=8,r.I=1,r.connect=function(h,y,b,S){zt(0),this.W=h,this.H=y||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Gh(this,null,this.W),Qr(this)};function xu(h){if(No(h),h.I==3){var y=h.V++,b=qt(h.J);if(Ze(b,"SID",h.M),Ze(b,"RID",y),Ze(b,"TYPE","terminate"),Ia(h,b),y=new mr(h,h.j,y),y.M=2,y.A=Ea(qt(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=y.A,b=!0),b||(y.g=Kh(y.j,null),y.g.ea(y.A)),y.F=Date.now(),jr(y)}Hh(h)}function is(h){h.g&&(Cu(h),h.g.cancel(),h.g=null)}function No(h){is(h),h.v&&(c.clearTimeout(h.v),h.v=null),Vo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Qr(h){if(!gu(h.h)&&!h.m){h.m=!0;var y=h.Ea;le||x(),pe||(le(),pe=!0),C.add(y,h),h.D=0}}function Do(h,y){return Br(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Mr(g(h.Ea,h,y),qh(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new mr(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=V(Y),fe(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=Uh(this,q,y),b=qt(this.J),Ze(b,"RID",h),Ze(b,"CVER",22),this.G&&Ze(b,"X-HTTP-Session-Id",this.G),Ia(this,b),Y&&(this.R?y="headers="+gi(er(Y))+"&"+y:this.u&&wa(b,this.u,Y)),yu(this.h,q),this.Ra&&Ze(b,"TYPE","init"),this.S?(Ze(b,"$req",y),Ze(b,"SID","null"),q.U=!0,Lr(q,b,null)):Lr(q,b,y),this.I=2}}else this.I==3&&(h?Ru(this,h):this.i.length==0||gu(this.h)||Ru(this))};function Ru(h,y){var b;y?b=y.l:b=h.V++;const S=qt(h.J);Ze(S,"SID",h.M),Ze(S,"RID",b),Ze(S,"AID",h.K),Ia(h,S),h.u&&h.o&&wa(S,h.u,h.o),b=new mr(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Uh(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),yu(h.h,b),Lr(b,S,y)}function Ia(h,y){h.H&&je(h.H,function(b,S){Ze(y,S,b)}),h.l&&je({},function(b,S){Ze(y,S,b)})}function Uh(h,y,b){b=Math.min(h.i.length,b);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ne=-1;for(;;){const Pt=["count="+b];Ne==-1?b>0?(Ne=q[0].g,Pt.push("ofs="+Ne)):Ne=0:Pt.push("ofs="+Ne);let Ye=!0;for(let Tt=0;Tt<b;Tt++){var Y=q[Tt].g;const tr=q[Tt].map;if(Y-=Ne,Y<0)Ne=Math.max(0,q[Tt].g-100),Ye=!1;else try{Y="req"+Y+"_"||"";try{var ce=tr instanceof Map?tr:Object.entries(tr);for(const[Yr,vr]of ce){let Er=vr;d(vr)&&(Er=Xi(vr)),Pt.push(Y+Yr+"="+encodeURIComponent(Er))}}catch(Yr){throw Pt.push(Y+"type="+encodeURIComponent("_badmap")),Yr}}catch{S&&S(tr)}}if(Ye){ce=Pt.join("&");break e}}ce=void 0}return h=h.i.splice(0,b),y.G=h,ce}function zh(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;le||x(),pe||(le(),pe=!0),C.add(y,h),h.A=0}}function xa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Mr(g(h.Da,h),qh(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Bh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Mr(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),is(this),Bh(this))};function Cu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Bh(h){h.g=new mr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=qt(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),Ia(h,y),h.u&&h.o&&wa(y,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Ea(qt(y)),b.u=null,b.R=!0,wo(b,h)}r.Va=function(){this.C!=null&&(this.C=null,is(this),xa(this),zt(19))};function Vo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Fh(h,y){var b=null;if(h.g==y){Vo(h),Cu(h),h.g=null;var S=2}else if(Fr(h.h,y))b=y.G,_u(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;S=bo(),Ut(S,new Pr(S,b)),Qr(h)}else zh(h);else if(q=y.m,q==3||q==0&&y.X>0||!(S==1&&Do(h,y)||S==2&&xa(h)))switch(b&&b.length>0&&(y=h.h,y.i=y.i.concat(b)),q){case 1:$r(h,5);break;case 4:$r(h,10);break;case 3:$r(h,6);break;default:$r(h,2)}}}function qh(h,y){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*y}function $r(h,y){if(h.j.info("Error code "+y),y==2){var b=g(h.bb,h),S=h.Ua;const q=!S;S=new Ln(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||tn(S,"https"),Ea(S),q?gr(S.toString(),b):Au(S.toString(),b)}else zt(2);h.I=0,h.l&&h.l.pa(y),Hh(h),No(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Hh(h){if(h.I=0,h.ja=[],h.l){const y=vu(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ja,y),k(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Gh(h,y,b){var S=b instanceof Ln?qt(b):new Ln(b);if(S.g!="")y&&(S.g=y+"."+S.g),Ji(S,S.u);else{var q=c.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Y=new Ln(null);S&&tn(Y,S),y&&(Y.g=y),q&&Ji(Y,q),b&&(Y.h=b),S=Y}return b=h.G,y=h.wa,b&&y&&Ze(S,b,y),Ze(S,"VER",h.ka),Ia(h,S),S}function Kh(h,y,b){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new at(new Hr({ab:b})):new at(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qh(){}r=Qh.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ss(){}ss.prototype.g=function(h,y){return new Tn(h,y)};function Tn(h,y){Ct.call(this),this.g=new rs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!I(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new vi(this)}v(Tn,Ct),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){xu(this.g)},Tn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Xi(h),h=b);y.i.push(new Ft(y.Ya++,h)),y.I==3&&Qr(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,xu(this.g),delete this.g,Tn.Z.N.call(this)};function $h(h){on.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const b in y){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}v($h,on);function Yh(){Jn.call(this),this.status=1}v(Yh,Jn);function vi(h){this.g=h}v(vi,Qh),vi.prototype.ra=function(){Ut(this.g,"a")},vi.prototype.qa=function(h){Ut(this.g,new $h(h))},vi.prototype.pa=function(h){Ut(this.g,new Yh)},vi.prototype.oa=function(){Ut(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,GS=function(){return new ss},HS=function(){return bo()},qS=Ot,by={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_a.NO_ERROR=0,_a.TIMEOUT=8,_a.HTTP_ERROR=6,_f=_a,fu.COMPLETE="complete",FS=fu,xh.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,bc=xh,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,BS=at}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const Hb="@firebase/firestore",Gb="4.9.3";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Zl="12.7.0";const Qs=new c_("@firebase/firestore");function yl(){return Qs.logLevel}function uM(r){Qs.setLogLevel(r)}function oe(r,...e){if(Qs.logLevel<=Fe.DEBUG){const t=e.map(T_);Qs.debug(`Firestore (${Zl}): ${r}`,...t)}}function Lt(r,...e){if(Qs.logLevel<=Fe.ERROR){const t=e.map(T_);Qs.error(`Firestore (${Zl}): ${r}`,...t)}}function Qn(r,...e){if(Qs.logLevel<=Fe.WARN){const t=e.map(T_);Qs.warn(`Firestore (${Zl}): ${r}`,...t)}}function T_(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function me(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,KS(r,i,t)}function KS(r,e,t){let i=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Lt(i),new Error(i)}function _e(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||KS(e,a,i)}function cM(r,e){r||me(57014,e)}function he(r,e){return r}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class an{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class QS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class hM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class dM{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new an;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new an,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new an)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string",31837,{l:i}),new QS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class fM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mM{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new fM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class gM{getToken(){return Promise.resolve(new wy(""))}invalidateToken(){}start(e,t){}shutdown(){}}function yM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class fm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=yM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Se(r,e){return r<e?-1:r>e?1:0}function Ay(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return ey(a)===ey(l)?Se(a,l):ey(a)?1:-1}return Se(r.length,e.length)}const _M=55296,vM=57343;function ey(r){const e=r.charCodeAt(0);return e>=_M&&e<=vM}function Rl(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}function YS(r){return r+"\0"}const Sy="__name__";class ei{constructor(e,t,i){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&me(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ei.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Se(e.length,t.length)}static compareSegments(e,t){const i=ei.isNumericId(e),a=ei.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ei.extractNumericId(e).compare(ei.extractNumericId(t)):Ay(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class Pe extends ei{construct(e,t,i){return new Pe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Pe(t)}static emptyPath(){return new Pe([])}}const EM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends ei{construct(e,t,i){return new _t(e,t,i)}static isValidIdentifier(e){return EM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sy}static keyField(){return new _t([Sy])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ie(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ie(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ie(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ie(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(t)}static emptyPath(){return new _t([])}}class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Pe.fromString(e))}static fromName(e){return new ue(Pe.fromString(e).popFirst(5))}static empty(){return new ue(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Pe(e.slice()))}}function b_(r,e,t){if(!t)throw new ie(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function XS(r,e,t,i){if(e===!0&&i===!0)throw new ie(Q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Kb(r){if(!ue.isDocumentKey(r))throw new ie(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Qb(r){if(ue.isDocumentKey(r))throw new ie(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function JS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function mm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":me(12329,{type:typeof r})}function Me(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ie(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mm(r);throw new ie(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function WS(r,e){if(e<=0)throw new ie(Q.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function Yt(r,e){const t={typeString:r};return e&&(t.value=e),t}function yo(r,e){if(!JS(r))throw new ie(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ie(Q.INVALID_ARGUMENT,t);return!0}const $b=-62135596800,Yb=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Yb);return new Je(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$b)throw new ie(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yb}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yo(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$b;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Yt("string",Je._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Je(0,0))}static max(){return new Ee(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cl=-1;class Nl{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function Iy(r){return r.fields.find((e=>e.kind===2))}function Ka(r){return r.fields.filter((e=>e.kind!==2))}function TM(r,e){let t=Se(r.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let i=0;i<Math.min(r.fields.length,e.fields.length);++i)if(t=bM(r.fields[i],e.fields[i]),t!==0)return t;return Se(r.fields.length,e.fields.length)}Nl.UNKNOWN_ID=-1;class Za{constructor(e,t){this.fieldPath=e,this.kind=t}}function bM(r,e){const t=_t.comparator(r.fieldPath,e.fieldPath);return t!==0?t:Se(r.kind,e.kind)}class Dl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Dl(0,$n.min())}}function ZS(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(i===1e9?new Je(t+1,0):new Je(t,i));return new $n(a,ue.empty(),e)}function e1(r){return new $n(r.readTime,r.key,Cl)}class $n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $n(Ee.min(),ue.empty(),Cl)}static max(){return new $n(Ee.max(),ue.empty(),Cl)}}function w_(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(r.documentKey,e.documentKey),t!==0?t:Se(r.largestBatchId,e.largestBatchId))}const t1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function sa(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==t1)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):B.reject(t)}static resolve(e){return new B(((t,i)=>{t(e)}))}static reject(e){return new B(((t,i)=>{i(e)}))}static waitFor(e){return new B(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(m=>i(m)))})),c=!0,l===a&&t()}))}static or(e){let t=B.resolve(!1);for(const i of e)t=t.next((a=>a?B.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new B(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((_=>{c[g]=_,++d,d===l&&i(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new B(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}const Gn="SimpleDb";class pm{static open(e,t,i,a){try{return new pm(t,e.transaction(a,i))}catch(l){throw new Rc(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new an,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Rc(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=A_(i.target.error);this.S.reject(new Rc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(oe(Gn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new AM(t)}}class oi{static delete(e){return oe(Gn,"Removing database:",e),$a(GA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!eS())return!1;if(oi.F())return!0;const e=Jt(),t=oi.M(e),i=0<t&&t<10,a=r1(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,oi.M(Jt())===12.2&&Lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(oe(Gn,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{i(new Rc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new ie(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new ie(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Rc(e,c))},a.onupgradeneeded=l=>{oe(Gn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{oe(Gn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=pm.open(this.db,e,l?"readonly":"readwrite",i),m=a(d).next((g=>(d.C(),g))).catch((g=>(d.abort(g),B.reject(g)))).toPromise();return m.catch((()=>{})),await d.D,m}catch(d){const m=d,g=m.name!=="FirebaseError"&&c<3;if(oe(Gn,"Transaction failed with error:",m.message,"Retrying:",g),this.close(),!g)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function r1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class wM{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return $a(this.U.delete())}}class Rc extends ie{constructor(e,t){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function aa(r){return r.name==="IndexedDbTransactionError"}class AM{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(oe(Gn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(oe(Gn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),$a(i)}add(e){return oe(Gn,"ADD",this.store.name,e,e),$a(this.store.add(e))}get(e){return $a(this.store.get(e)).next((t=>(t===void 0&&(t=null),oe(Gn,"GET",this.store.name,e,t),t)))}delete(e){return oe(Gn,"DELETE",this.store.name,e),$a(this.store.delete(e))}count(){return oe(Gn,"COUNT",this.store.name),$a(this.store.count())}J(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new B(((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}}))}{const l=this.cursor(i),c=[];return this.H(l,((d,m)=>{c.push(m)})).next((()=>c))}}Y(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new B(((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){oe(Gn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const a=this.cursor(i);return this.H(a,((l,c,d)=>d.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.H(a,t)}te(e){const t=this.cursor({});return new B(((i,a)=>{t.onerror=l=>{const c=A_(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():i()})):i()}}))}H(e,t){const i=[];return new B(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const m=new wM(d),g=t(d.primaryKey,d.value,m);if(g instanceof B){const _=g.catch((v=>(m.done(),B.reject(v))));i.push(_)}m.isDone?a():m.G===null?d.continue():d.continue(m.G)}})).next((()=>B.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $a(r){return new B(((e,t)=>{r.onsuccess=i=>{const a=i.target.result;e(a)},r.onerror=i=>{const a=A_(i.target.error);t(a)}}))}let Xb=!1;function A_(r){const e=oi.M(Jt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const i=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xb||(Xb=!0,setTimeout((()=>{throw i}),0)),i}}return r}const Cc="IndexBackfiller";class SM{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){oe(Cc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();oe(Cc,`Documents written: ${t}`)}catch(t){aa(t)?oe(Cc,"Ignoring IndexedDB error during index backfill: ",t):await sa(t)}await this.re(6e4)}))}}class IM{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,l=!0;return B.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!i.has(c))return oe(Cc,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,i.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((d=>(oe(Cc,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,l)=>{const c=e1(l);w_(c,i)>0&&(i=c)})),new $n(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Dn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dn.ce=-1;const Gs=-1;function ch(r){return r==null}function Fc(r){return r===0&&1/r==-1/0}function i1(r){return typeof r=="number"&&Number.isInteger(r)&&!Fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const zf="";function _n(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Jb(e)),e=xM(r.get(t),e);return Jb(e)}function xM(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case zf:t+="";break;default:t+=l}}return t}function Jb(r){return r+zf+""}function ni(r){const e=r.length;if(_e(e>=2,64408,{path:r}),e===2)return _e(r.charAt(0)===zf&&r.charAt(1)==="",56145,{path:r}),Pe.emptyPath();const t=e-2,i=[];let a="";for(let l=0;l<e;){const c=r.indexOf(zf,l);switch((c<0||c>t)&&me(50515,{path:r}),r.charAt(c+1)){case"":const d=r.substring(l,c);let m;a.length===0?m=d:(a+=d,m=a,a=""),i.push(m);break;case"":a+=r.substring(l,c),a+="\0";break;case"":a+=r.substring(l,c+1);break;default:me(61167,{path:r})}l=c+2}return new Pe(i)}const Qa="remoteDocuments",hh="owner",ul="owner",qc="mutationQueues",RM="userId",Ar="mutations",Wb="batchId",Wa="userMutationsIndex",Zb=["userId","batchId"];function vf(r,e){return[r,_n(e)]}function s1(r,e,t){return[r,_n(e),t]}const CM={},Vl="documentMutations",Bf="remoteDocumentsV14",NM=["prefixPath","collectionGroup","readTime","documentId"],Ef="documentKeyIndex",DM=["prefixPath","collectionGroup","documentId"],a1="collectionGroupIndex",VM=["collectionGroup","readTime","prefixPath","documentId"],Hc="remoteDocumentGlobal",xy="remoteDocumentGlobalKey",Ol="targets",o1="queryTargetsIndex",OM=["canonicalId","targetId"],Pl="targetDocuments",PM=["targetId","path"],S_="documentTargetsIndex",MM=["path","targetId"],Ff="targetGlobalKey",eo="targetGlobal",Gc="collectionParents",kM=["collectionId","parent"],Ml="clientMetadata",LM="clientId",gm="bundles",jM="bundleId",ym="namedQueries",UM="name",I_="indexConfiguration",zM="indexId",Ry="collectionGroupIndex",BM="collectionGroup",Nc="indexState",FM=["indexId","uid"],l1="sequenceNumberIndex",qM=["uid","sequenceNumber"],Dc="indexEntries",HM=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],u1="documentKeyIndex",GM=["indexId","uid","orderedDocumentKey"],_m="documentOverlays",KM=["userId","collectionPath","documentId"],Cy="collectionPathOverlayIndex",QM=["userId","collectionPath","largestBatchId"],c1="collectionGroupOverlayIndex",$M=["userId","collectionGroup","largestBatchId"],x_="globals",YM="name",h1=[qc,Ar,Vl,Qa,Ol,hh,eo,Pl,Ml,Hc,Gc,gm,ym],XM=[...h1,_m],d1=[qc,Ar,Vl,Bf,Ol,hh,eo,Pl,Ml,Hc,Gc,gm,ym,_m],f1=d1,R_=[...f1,I_,Nc,Dc],JM=R_,m1=[...R_,x_],WM=m1;class Ny extends n1{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Zt(r,e){const t=he(r);return oi.O(t.le,e)}function ew(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function oa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function p1(r,e){const t=[];for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(e(r[i],i,r));return t}function g1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new fn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tw(this.data.getIterator())}getIteratorFrom(e){return new tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function cl(r){return r.hasNext()?r.getNext():void 0}class Vn{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new it(_t.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class y1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function ZM(){return typeof atob<"u"}class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new y1("Invalid base64 string: "+l):l}})(e);return new Rt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Rt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const ek=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(r){if(_e(!!r,39018),typeof r=="string"){let e=0;const t=ek.exec(r);if(_e(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(r.seconds),nanos:wt(r.nanos)}}function wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Gi(r){return typeof r=="string"?Rt.fromBase64String(r):Rt.fromUint8Array(r)}const _1="server_timestamp",v1="__type__",E1="__previous_value__",T1="__local_write_time__";function vm(r){return(r?.mapValue?.fields||{})[v1]?.stringValue===_1}function Em(r){const e=r.mapValue.fields[E1];return vm(e)?Em(e):e}function Kc(r){const e=Hi(r.mapValue.fields[T1].timestampValue);return new Je(e.seconds,e.nanos)}class tk{constructor(e,t,i,a,l,c,d,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const Qc="(default)";class $s{constructor(e,t){this.projectId=e,this.database=t||Qc}static empty(){return new $s("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}const C_="__type__",b1="__max__",Us={mapValue:{fields:{__type__:{stringValue:b1}}}},N_="__vector__",kl="value",Tf={nullValue:"NULL_VALUE"};function Ys(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vm(r)?4:w1(r)?9007199254740991:Tm(r)?10:11:me(28295,{value:r})}function ci(r,e){if(r===e)return!0;const t=Ys(r);if(t!==Ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kc(r).isEqual(Kc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Hi(a.timestampValue),d=Hi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Gi(a.bytesValue).isEqual(Gi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),d=wt(l.doubleValue);return c===d?Fc(c)===Fc(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Rl(r.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(ew(c)!==ew(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ci(c[m],d[m])))return!1;return!0})(r,e);default:return me(52216,{left:r})}}function $c(r,e){return(r.values||[]).find((t=>ci(t,e)))!==void 0}function Xs(r,e){if(r===e)return 0;const t=Ys(r),i=Ys(e);if(t!==i)return Se(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=wt(l.integerValue||l.doubleValue),m=wt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(r,e);case 3:return nw(r.timestampValue,e.timestampValue);case 4:return nw(Kc(r),Kc(e));case 5:return Ay(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=Gi(l),m=Gi(c);return d.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Se(d[g],m[g]);if(_!==0)return _}return Se(d.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Se(wt(l.latitude),wt(c.latitude));return d!==0?d:Se(wt(l.longitude),wt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return rw(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[kl]?.arrayValue,_=m[kl]?.arrayValue,v=Se(g?.values?.length||0,_?.values?.length||0);return v!==0?v:rw(g,_)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Us.mapValue&&c===Us.mapValue)return 0;if(l===Us.mapValue)return 1;if(c===Us.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let v=0;v<m.length&&v<_.length;++v){const w=Ay(m[v],_[v]);if(w!==0)return w;const R=Xs(d[m[v]],g[_[v]]);if(R!==0)return R}return Se(m.length,_.length)})(r.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function nw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Se(r,e);const t=Hi(r),i=Hi(e),a=Se(t.seconds,i.seconds);return a!==0?a:Se(t.nanos,i.nanos)}function rw(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Xs(t[a],i[a]);if(l)return l}return Se(t.length,i.length)}function Ll(r){return Dy(r)}function Dy(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Hi(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Gi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ue.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Dy(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Dy(t.fields[c])}`;return a+"}"})(r.mapValue):me(61005,{value:r})}function bf(r){switch(Ys(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Em(r);return e?16+bf(e):16;case 5:return 2*r.stringValue.length;case 6:return Gi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+bf(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return oa(i.fields,((l,c)=>{a+=l.length+bf(c)})),a})(r.mapValue);default:throw me(13486,{value:r})}}function so(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vy(r){return!!r&&"integerValue"in r}function Yc(r){return!!r&&"arrayValue"in r}function iw(r){return!!r&&"nullValue"in r}function sw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wf(r){return!!r&&"mapValue"in r}function Tm(r){return(r?.mapValue?.fields||{})[C_]?.stringValue===N_}function Vc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return oa(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Vc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vc(r.arrayValue.values[t]);return e}return{...r}}function w1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===b1}const A1={mapValue:{fields:{[C_]:{stringValue:N_},[kl]:{arrayValue:{}}}}};function nk(r){return"nullValue"in r?Tf:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?so($s.empty(),ue.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?Tm(r)?A1:{mapValue:{}}:me(35942,{value:r})}function rk(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?so($s.empty(),ue.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?A1:"mapValue"in r?Tm(r)?{mapValue:{}}:Us:me(61959,{value:r})}function aw(r,e){const t=Xs(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function ow(r,e){const t=Xs(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(t)}setAll(e){let t=_t.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Vc(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){oa(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new mn(Vc(this.value))}}function S1(r){const e=[];return oa(r.fields,((t,i)=>{const a=new _t([t]);if(wf(i)){const l=S1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Vn(e)}class yt{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new yt(e,0,Ee.min(),Ee.min(),Ee.min(),mn.empty(),0)}static newFoundDocument(e,t,i,a){return new yt(e,1,t,Ee.min(),i,a,0)}static newNoDocument(e,t){return new yt(e,2,t,Ee.min(),Ee.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new yt(e,3,t,Ee.min(),Ee.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Js{constructor(e,t){this.position=e,this.inclusive=t}}function lw(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=ue.comparator(ue.fromName(c.referenceValue),t.key):i=Xs(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function uw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ci(r.position[t],e.position[t]))return!1;return!0}class Xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ik(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class I1{}class qe extends I1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new sk(e,t,i):t==="array-contains"?new lk(e,i):t==="in"?new V1(e,i):t==="not-in"?new uk(e,i):t==="array-contains-any"?new ck(e,i):new qe(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ak(e,i):new ok(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xs(t,this.value)):t!==null&&Ys(this.value)===Ys(t)&&this.matchesComparison(Xs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nt extends I1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new nt(e,t)}matches(e){return jl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jl(r){return r.op==="and"}function Oy(r){return r.op==="or"}function D_(r){return x1(r)&&jl(r)}function x1(r){for(const e of r.filters)if(e instanceof nt)return!1;return!0}function Py(r){if(r instanceof qe)return r.field.canonicalString()+r.op.toString()+Ll(r.value);if(D_(r))return r.filters.map((e=>Py(e))).join(",");{const e=r.filters.map((t=>Py(t))).join(",");return`${r.op}(${e})`}}function R1(r,e){return r instanceof qe?(function(i,a){return a instanceof qe&&i.op===a.op&&i.field.isEqual(a.field)&&ci(i.value,a.value)})(r,e):r instanceof nt?(function(i,a){return a instanceof nt&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&R1(c,a.filters[d])),!0):!1})(r,e):void me(19439)}function C1(r,e){const t=r.filters.concat(e);return nt.create(t,r.op)}function N1(r){return r instanceof qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ll(t.value)}`})(r):r instanceof nt?(function(t){return t.op.toString()+" {"+t.getFilters().map(N1).join(" ,")+"}"})(r):"Filter"}class sk extends qe{constructor(e,t,i){super(e,t,i),this.key=ue.fromName(i.referenceValue)}matches(e){const t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class ak extends qe{constructor(e,t){super(e,"in",t),this.keys=D1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ok extends qe{constructor(e,t){super(e,"not-in",t),this.keys=D1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function D1(r,e){return(e.arrayValue?.values||[]).map((t=>ue.fromName(t.referenceValue)))}class lk extends qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yc(t)&&$c(t.arrayValue,this.value)}}class V1 extends qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$c(this.value.arrayValue,t)}}class uk extends qe{constructor(e,t){super(e,"not-in",t)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$c(this.value.arrayValue,t)}}class ck extends qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>$c(this.value.arrayValue,i)))}}class hk{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function My(r,e=null,t=[],i=[],a=null,l=null,c=null){return new hk(r,e,t,i,a,l,c)}function ao(r){const e=he(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Py(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),ch(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Ll(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Ll(i))).join(",")),e.Te=t}return e.Te}function dh(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!ik(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!R1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uw(r.startAt,e.startAt)&&uw(r.endAt,e.endAt)}function qf(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Hf(r,e){return r.filters.filter((t=>t instanceof qe&&t.field.isEqual(e)))}function cw(r,e,t){let i=Tf,a=!0;for(const l of Hf(r,e)){let c=Tf,d=!0;switch(l.op){case"<":case"<=":c=nk(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=Tf}aw({value:i,inclusive:a},{value:c,inclusive:d})<0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];aw({value:i,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}function hw(r,e,t){let i=Us,a=!0;for(const l of Hf(r,e)){let c=Us,d=!0;switch(l.op){case">=":case">":c=rk(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=Us}ow({value:i,inclusive:a},{value:c,inclusive:d})>0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];ow({value:i,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}class Ki{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O1(r,e,t,i,a,l,c,d){return new Ki(r,e,t,i,a,l,c,d)}function eu(r){return new Ki(r)}function dw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function V_(r){return r.collectionGroup!==null}function Il(r){const e=he(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new it(_t.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Xc(l,i))})),t.has(_t.keyField().canonicalString())||e.Ie.push(new Xc(_t.keyField(),i))}return e.Ie}function vn(r){const e=he(r);return e.Ee||(e.Ee=M1(e,Il(r))),e.Ee}function P1(r){const e=he(r);return e.de||(e.de=M1(e,r.explicitOrderBy)),e.de}function M1(r,e){if(r.limitType==="F")return My(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Xc(a.field,l)}));const t=r.endAt?new Js(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Js(r.startAt.position,r.startAt.inclusive):null;return My(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function ky(r,e){const t=r.filters.concat([e]);return new Ki(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Gf(r,e,t){return new Ki(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function fh(r,e){return dh(vn(r),vn(e))&&r.limitType===e.limitType}function k1(r){return`${ao(vn(r))}|lt:${r.limitType}`}function _l(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>N1(a))).join(", ")}]`),ch(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ll(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ll(a))).join(",")),`Target(${i})`})(vn(r))}; limitType=${r.limitType})`}function mh(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Il(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const g=lw(c,d,m);return c.inclusive?g<=0:g<0})(i.startAt,Il(i),a)||i.endAt&&!(function(c,d,m){const g=lw(c,d,m);return c.inclusive?g>=0:g>0})(i.endAt,Il(i),a))})(r,e)}function L1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function j1(r){return(e,t)=>{let i=!1;for(const a of Il(r)){const l=dk(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function dk(r,e,t){const i=r.field.isKeyField()?ue.comparator(e.key,t.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Xs(m,g):me(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return me(19790,{direction:r.dir})}}class Qi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return g1(this.inner)}size(){return this.innerSize}}const fk=new mt(ue.comparator);function On(){return fk}const U1=new mt(ue.comparator);function wc(...r){let e=U1;for(const t of r)e=e.insert(t.key,t);return e}function z1(r){let e=U1;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ri(){return Oc()}function B1(){return Oc()}function Oc(){return new Qi((r=>r.toString()),((r,e)=>r.isEqual(e)))}const mk=new mt(ue.comparator),pk=new it(ue.comparator);function Ce(...r){let e=pk;for(const t of r)e=e.add(t);return e}const gk=new it(Se);function O_(){return gk}function P_(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function F1(r){return{integerValue:""+r}}function q1(r,e){return i1(e)?F1(e):P_(r,e)}class bm{constructor(){this._=void 0}}function yk(r,e,t){return r instanceof Ul?(function(a,l){const c={fields:{[v1]:{stringValue:_1},[T1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&vm(l)&&(l=Em(l)),l&&(c.fields[E1]=l),{mapValue:c}})(t,e):r instanceof oo?G1(r,e):r instanceof lo?K1(r,e):(function(a,l){const c=H1(a,l),d=fw(c)+fw(a.Ae);return Vy(c)&&Vy(a.Ae)?F1(d):P_(a.serializer,d)})(r,e)}function _k(r,e,t){return r instanceof oo?G1(r,e):r instanceof lo?K1(r,e):t}function H1(r,e){return r instanceof zl?(function(i){return Vy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Ul extends bm{}class oo extends bm{constructor(e){super(),this.elements=e}}function G1(r,e){const t=Q1(e);for(const i of r.elements)t.some((a=>ci(a,i)))||t.push(i);return{arrayValue:{values:t}}}class lo extends bm{constructor(e){super(),this.elements=e}}function K1(r,e){let t=Q1(e);for(const i of r.elements)t=t.filter((a=>!ci(a,i)));return{arrayValue:{values:t}}}class zl extends bm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function fw(r){return wt(r.integerValue||r.doubleValue)}function Q1(r){return Yc(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ph{constructor(e,t){this.field=e,this.transform=t}}function vk(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof oo&&a instanceof oo||i instanceof lo&&a instanceof lo?Rl(i.elements,a.elements,ci):i instanceof zl&&a instanceof zl?ci(i.Ae,a.Ae):i instanceof Ul&&a instanceof Ul})(r.transform,e.transform)}class Ek{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wm{}function $1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new nu(r.key,At.none()):new tu(r.key,r.data,At.none());{const t=r.data,i=mn.empty();let a=new it(_t.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new $i(r.key,i,new Vn(a.toArray()),At.none())}}function Tk(r,e,t){r instanceof tu?(function(a,l,c){const d=a.value.clone(),m=pw(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof $i?(function(a,l,c){if(!Af(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=pw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Y1(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Pc(r,e,t,i){return r instanceof tu?(function(l,c,d,m){if(!Af(l.precondition,c))return d;const g=l.value.clone(),_=gw(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,i):r instanceof $i?(function(l,c,d,m){if(!Af(l.precondition,c))return d;const g=gw(l.fieldTransforms,m,c),_=c.data;return _.setAll(Y1(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(r,e,t,i):(function(l,c,d){return Af(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function bk(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=H1(i.transform,a||null);l!=null&&(t===null&&(t=mn.empty()),t.set(i.field,l))}return t||null}function mw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Rl(i,a,((l,c)=>vk(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tu extends wm{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $i extends wm{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Y1(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function pw(r,e,t){const i=new Map;_e(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,_k(c,d,t[a]))}return i}function gw(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,yk(l,c,e))}return i}class nu extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M_ extends wm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class k_{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Tk(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Pc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Pc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=B1();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=$1(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ce())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,((t,i)=>mw(t,i)))&&Rl(this.baseMutations,e.baseMutations,((t,i)=>mw(t,i)))}}class L_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){_e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return mk})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new L_(e,t,i,a)}}class j_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class X1{constructor(e,t,i){this.alias=e,this.aggregateType=t,this.fieldPath=i}}class wk{constructor(e,t){this.count=e,this.unchangedNames=t}}var $t,Ge;function J1(r){switch(r){case Q.OK:return me(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return me(15467,{code:r})}}function W1(r){if(r===void 0)return Lt("GRPC error has no .code"),Q.UNKNOWN;switch(r){case $t.OK:return Q.OK;case $t.CANCELLED:return Q.CANCELLED;case $t.UNKNOWN:return Q.UNKNOWN;case $t.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case $t.INTERNAL:return Q.INTERNAL;case $t.UNAVAILABLE:return Q.UNAVAILABLE;case $t.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case $t.NOT_FOUND:return Q.NOT_FOUND;case $t.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case $t.ABORTED:return Q.ABORTED;case $t.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case $t.DATA_LOSS:return Q.DATA_LOSS;default:return me(39323,{code:r})}}(Ge=$t||($t={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";let Ly=null;function Z1(){return new TextEncoder}const Ak=new Hs([4294967295,4294967295],0);function yw(r){const e=Z1().encode(r),t=new zS;return t.update(e),new Uint8Array(t.digest())}function _w(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Hs([t,i],0),new Hs([a,l],0)]}class U_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ac(`Invalid padding: ${t}`);if(i<0)throw new Ac(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Hs.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Hs.fromNumber(i)));return a.compare(Ak)===1&&(a=new Hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=yw(e),[i,a]=_w(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new U_(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=yw(e),[i,a]=_w(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new gh(Ee.min(),a,new mt(Se),On(),Ce())}}class yh{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new yh(i,t,Ce(),Ce(),Ce())}}class Sf{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class eI{constructor(e,t){this.targetId=e,this.Ce=t}}class tI{constructor(e,t,i=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class vw{constructor(){this.ve=0,this.Fe=Ew(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),t=Ce(),i=Ce();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:me(38017,{changeType:l})}})),new yh(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Ew()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Sk{constructor(e){this.Ge=e,this.ze=new Map,this.je=On(),this.Je=rf(),this.He=rf(),this.Ye=new mt(Se)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(qf(l))if(i===0){const c=new ue(l.path);this.et(t,c,yt.newNoDocument(c,Ee.min()))}else _e(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}Ly?.lt((function(_,v,w,R,k){const L={localCacheCount:_,existenceFilterCount:v.count,databaseId:w.database,projectId:w.projectId},j=v.unchangedNames;return j&&(L.bloomFilter={applied:k===0,hashCount:j?.hashCount??0,bitmapLength:j?.bits?.bitmap?.length??0,padding:j?.bits?.padding??0,mightContain:J=>R?.mightContain(J)??!1}),L})(c,e.Ce,this.Ge.ht(),d,m))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Gi(i).toUint8Array()}catch(m){if(m instanceof y1)return Qn("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new U_(c,a,l)}catch(m){return Qn(m instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&qf(d.target)){const m=new ue(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,yt.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Ce();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new gh(e,t,this.Ye,this.je,i);return this.je=On(),this.Je=rf(),this.He=rf(),this.Ye=new mt(Se),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new vw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new it(Se),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new it(Se),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function rf(){return new mt(ue.comparator)}function Ew(){return new mt(ue.comparator)}const Ik={asc:"ASCENDING",desc:"DESCENDING"},xk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rk={and:"AND",or:"OR"};class Ck{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jy(r,e){return r.useProto3Json||ch(e)?e:{value:e}}function Bl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nI(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Nk(r,e){return Bl(r,e.toTimestamp())}function jt(r){return _e(!!r,49232),Ee.fromTimestamp((function(t){const i=Hi(t);return new Je(i.seconds,i.nanos)})(r))}function z_(r,e){return Uy(r,e).canonicalString()}function Uy(r,e){const t=(function(a){return new Pe(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function rI(r){const e=Pe.fromString(r);return _e(dI(e),10190,{key:e.toString()}),e}function Jc(r,e){return z_(r.databaseId,e.path)}function li(r,e){const t=rI(e);if(t.get(1)!==r.databaseId.projectId)throw new ie(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ie(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ue(aI(t))}function iI(r,e){return z_(r.databaseId,e)}function sI(r){const e=rI(r);return e.length===4?Pe.emptyPath():aI(e)}function zy(r){return new Pe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function aI(r){return _e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Tw(r,e,t){return{name:Jc(r,e),fields:t.value.mapValue.fields}}function Am(r,e,t){const i=li(r,e.name),a=jt(e.updateTime),l=e.createTime?jt(e.createTime):Ee.min(),c=new mn({mapValue:{fields:e.fields}}),d=yt.newFoundDocument(i,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Dk(r,e){return"found"in e?(function(i,a){_e(!!a.found,43571),a.found.name,a.found.updateTime;const l=li(i,a.found.name),c=jt(a.found.updateTime),d=a.found.createTime?jt(a.found.createTime):Ee.min(),m=new mn({mapValue:{fields:a.found.fields}});return yt.newFoundDocument(l,c,d,m)})(r,e):"missing"in e?(function(i,a){_e(!!a.missing,3894),_e(!!a.readTime,22933);const l=li(i,a.missing),c=jt(a.readTime);return yt.newNoDocument(l,c)})(r,e):me(7234,{result:e})}function Vk(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:me(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(_e(_===void 0||typeof _=="string",58123),Rt.fromBase64String(_||"")):(_e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Rt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?Q.UNKNOWN:W1(g.code);return new ie(_,g.message||"")})(c);t=new tI(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=li(r,i.document.name),l=jt(i.document.updateTime),c=i.document.createTime?jt(i.document.createTime):Ee.min(),d=new mn({mapValue:{fields:i.document.fields}}),m=yt.newFoundDocument(a,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new Sf(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=li(r,i.document),l=i.readTime?jt(i.readTime):Ee.min(),c=yt.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Sf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=li(r,i.document),l=i.removedTargetIds||[];t=new Sf([],l,a,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new wk(a,l),d=i.targetId;t=new eI(d,c)}}return t}function Wc(r,e){let t;if(e instanceof tu)t={update:Tw(r,e.key,e.value)};else if(e instanceof nu)t={delete:Jc(r,e.key)};else if(e instanceof $i)t={update:Tw(r,e.key,e.data),updateMask:jk(e.fieldMask)};else{if(!(e instanceof M_))return me(16599,{Vt:e.type});t={verify:Jc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Ul)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof oo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof lo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zl)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw me(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Nk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:me(27497)})(r,e.precondition)),t}function By(r,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?At.updateTime(jt(l.updateTime)):l.exists!==void 0?At.exists(l.exists):At.none()})(e.currentDocument):At.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let m=null;if("setToServerValue"in d)_e(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new Ul;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];m=new oo(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];m=new lo(_)}else"increment"in d?m=new zl(c,d.increment):me(16584,{proto:d});const g=_t.fromServerFormat(d.fieldPath);return new ph(g,m)})(r,a))):[];if(e.update){e.update.name;const a=li(r,e.update.name),l=new mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(m){const g=m.fieldPaths||[];return new Vn(g.map((_=>_t.fromServerFormat(_))))})(e.updateMask);return new $i(a,l,c,t,i)}return new tu(a,l,t,i)}if(e.delete){const a=li(r,e.delete);return new nu(a,t)}if(e.verify){const a=li(r,e.verify);return new M_(a,t)}return me(1463,{proto:e})}function Ok(r,e){return r&&r.length>0?(_e(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?jt(a.updateTime):jt(l);return c.isEqual(Ee.min())&&(c=jt(l)),new Ek(c,a.transformResults||[])})(t,e)))):[]}function oI(r,e){return{documents:[iI(r,e.path)]}}function Sm(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=iI(r,a);const l=(function(g){if(g.length!==0)return hI(nt.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:Ls(w.field),direction:Mk(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=jy(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function lI(r,e,t,i){const{ft:a,parent:l}=Sm(r,e),c={},d=[];let m=0;return t.forEach((g=>{const _=i?g.alias:"aggregate_"+m++;c[_]=g.alias,g.aggregateType==="count"?d.push({alias:_,count:{}}):g.aggregateType==="avg"?d.push({alias:_,avg:{field:Ls(g.fieldPath)}}):g.aggregateType==="sum"&&d.push({alias:_,sum:{field:Ls(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:d,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function uI(r){let e=sI(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){_e(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(v){const w=cI(v);return w instanceof nt&&D_(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((w=>(function(k){return new Xc(vl(k.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(v){let w;return w=typeof v=="object"?v.value:v,ch(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(v){const w=!!v.before,R=v.values||[];return new Js(R,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(v){const w=!v.before,R=v.values||[];return new Js(R,w)})(t.endAt)),O1(e,a,c,l,d,"F",m,g)}function Pk(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cI(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=vl(t.unaryFilter.field);return qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=vl(t.unaryFilter.field);return qe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vl(t.unaryFilter.field);return qe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vl(t.unaryFilter.field);return qe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(r):r.fieldFilter!==void 0?(function(t){return qe.create(vl(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return nt.create(t.compositeFilter.filters.map((i=>cI(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(t.compositeFilter.op))})(r):me(30097,{filter:r})}function Mk(r){return Ik[r]}function kk(r){return xk[r]}function Lk(r){return Rk[r]}function Ls(r){return{fieldPath:r.canonicalString()}}function vl(r){return _t.fromServerFormat(r.fieldPath)}function hI(r){return r instanceof qe?(function(t){if(t.op==="=="){if(sw(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NAN"}};if(iw(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sw(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NAN"}};if(iw(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(t.field),op:kk(t.op),value:t.value}}})(r):r instanceof nt?(function(t){const i=t.getFilters().map((a=>hI(a)));return i.length===1?i[0]:{compositeFilter:{op:Lk(t.op),filters:i}}})(r):me(54877,{filter:r})}function jk(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dI(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Li{constructor(e,t,i,a,l=Ee.min(),c=Ee.min(),d=Rt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fI{constructor(e){this.yt=e}}function Uk(r,e){let t;if(e.document)t=Am(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ue.fromSegments(e.noDocument.path),a=co(e.noDocument.readTime);t=yt.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return me(56709);{const i=ue.fromSegments(e.unknownDocument.path),a=co(e.unknownDocument.version);t=yt.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const l=new Je(a[0],a[1]);return Ee.fromTimestamp(l)})(e.readTime)),t}function bw(r,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Kf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(l,c){return{name:Jc(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Bl(l,c.version.toTimestamp()),createTime:Bl(l,c.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:uo(e.version)};else{if(!e.isUnknownDocument())return me(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:uo(e.version)}}return i}function Kf(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function uo(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function co(r){const e=new Je(r.seconds,r.nanoseconds);return Ee.fromTimestamp(e)}function Ya(r,e){const t=(e.baseMutations||[]).map((l=>By(r.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const i=e.mutations.map((l=>By(r.yt,l))),a=Je.fromMillis(e.localWriteTimeMs);return new k_(e.batchId,a,t,i)}function Sc(r){const e=co(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?co(r.lastLimboFreeSnapshotVersion):Ee.min();let i;return i=(function(l){return l.documents!==void 0})(r.query)?(function(l){const c=l.documents.length;return _e(c===1,1966,{count:c}),vn(eu(sI(l.documents[0])))})(r.query):(function(l){return vn(uI(l))})(r.query),new Li(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Rt.fromBase64String(r.resumeToken))}function mI(r,e){const t=uo(e.snapshotVersion),i=uo(e.lastLimboFreeSnapshotVersion);let a;a=qf(e.target)?oI(r.yt,e.target):Sm(r.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ao(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function Im(r){const e=uI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Gf(e,e.limit,"L"):e}function ty(r,e){return new j_(e.largestBatchId,By(r.yt,e.overlayMutation))}function ww(r,e){const t=e.path.lastSegment();return[r,_n(e.path.popLast()),t]}function Aw(r,e,t,i){return{indexId:r,uid:e,sequenceNumber:t,readTime:uo(i.readTime),documentKey:_n(i.documentKey.path),largestBatchId:i.largestBatchId}}class zk{getBundleMetadata(e,t){return Sw(e).get(t).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:co(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(e,t){return Sw(e).put((function(a){return{bundleId:a.id,createTime:uo(jt(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return Iw(e).get(t).next((i=>{if(i)return(function(l){return{name:l.name,query:Im(l.bundledQuery),readTime:co(l.readTime)}})(i)}))}saveNamedQuery(e,t){return Iw(e).put((function(a){return{name:a.name,readTime:uo(jt(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function Sw(r){return Zt(r,gm)}function Iw(r){return Zt(r,ym)}class xm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new xm(e,i)}getOverlay(e,t){return pc(e).get(ww(this.userId,t)).next((i=>i?ty(this.serializer,i):null))}getOverlays(e,t){const i=ri();return B.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((l,c)=>{const d=new j_(t,c);a.push(this.St(e,d))})),B.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((c=>a.add(_n(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(pc(e).Z(Cy,d))})),B.waitFor(l)}getOverlaysForCollection(e,t,i){const a=ri(),l=_n(t),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return pc(e).J(Cy,c).next((d=>{for(const m of d){const g=ty(this.serializer,m);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const l=ri();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return pc(e).ee({index:c1,range:d},((m,g,_)=>{const v=ty(this.serializer,g);l.size()<a||v.largestBatchId===c?(l.set(v.getKey(),v),c=v.largestBatchId):_.done()})).next((()=>l))}St(e,t){return pc(e).put((function(a,l,c){const[d,m,g]=ww(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Wc(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function pc(r){return Zt(r,_m)}class Bk{bt(e){return Zt(e,x_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const i=t?.value;return i?Rt.fromUint8Array(i):Rt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Xa{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(wt(e.integerValue));else if("doubleValue"in e){const i=wt(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),Fc(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Hi(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Gi(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?w1(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Tm(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):me(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const a=kl,l=i[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(wt(l)),this.Ot(a,t),this.Ct(i[a],t)}Qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ue.fromName(e).path.forEach((i=>{this.Ft(t,60),this.Ut(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Xa.Kt=new Xa;const hl=255;function Fk(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function xw(r){const e=64-(function(i){let a=0;for(let l=0;l<8;++l){const c=Fk(255&i[l]);if(a+=c,c!==8)break}return a})(r);return Math.ceil(e/8)}class qk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Ht()}Yt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),i=xw(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=xw(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(hl),this.sn(255)}_n(){this.an(hl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===hl?(this.sn(hl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===hl?(this.an(hl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class Hk{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Gk{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class gc{constructor(){this.cn=new qk,this.ln=new Hk(this.cn),this.hn=new Gk(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ja{constructor(e,t,i,a){this.Tn=e,this.In=t,this.En=i,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.dn,0),t!==e?i.set([0],this.dn.length):++i[i.length-1],new Ja(this.Tn,this.In,this.En,i)}Rn(e,t,i){return{indexId:this.Tn,uid:e,arrayValue:If(this.En),directionalValue:If(this.dn),orderedDocumentKey:If(t),documentKey:i.path.toArray()}}Vn(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Cs(r,e){let t=r.Tn-e.Tn;return t!==0?t:(t=Rw(r.En,e.En),t!==0?t:(t=Rw(r.dn,e.dn),t!==0?t:ue.comparator(r.In,e.In)))}function Rw(r,e){for(let t=0;t<r.length&&t<e.length;++t){const i=r[t]-e[t];if(i!==0)return i}return r.length-e.length}function If(r){return ZA()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(r):r}function Cw(r){return typeof r!="string"?r:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(r)}class Nw{constructor(e){this.mn=new it(((t,i)=>_t.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const i=t;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=Iy(e);if(t!==void 0&&!this.wn(t))return!1;const i=Ka(e);let a=new Set,l=0,c=0;for(;l<i.length&&this.wn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=i[l];if(!this.Sn(d,m)||!this.bn(this.fn[c++],m))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new it(_t.comparator);const t=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new Za(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Za(i.field,0))}for(const i of this.fn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Za(i.field,i.dir==="asc"?0:1)));return new Nl(Nl.UNKNOWN_ID,this.collectionId,t,Dl.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function pI(r){if(_e(r instanceof qe||r instanceof nt,20012),r instanceof qe){if(r instanceof V1){const t=r.value.arrayValue?.values?.map((i=>qe.create(r.field,"==",i)))||[];return nt.create(t,"or")}return r}const e=r.filters.map((t=>pI(t)));return nt.create(e,r.op)}function Kk(r){if(r.getFilters().length===0)return[];const e=Hy(pI(r));return _e(gI(e),7391),Fy(e)||qy(e)?[e]:e.getFilters()}function Fy(r){return r instanceof qe}function qy(r){return r instanceof nt&&D_(r)}function gI(r){return Fy(r)||qy(r)||(function(t){if(t instanceof nt&&Oy(t)){for(const i of t.getFilters())if(!Fy(i)&&!qy(i))return!1;return!0}return!1})(r)}function Hy(r){if(_e(r instanceof qe||r instanceof nt,34018),r instanceof qe)return r;if(r.filters.length===1)return Hy(r.filters[0]);const e=r.filters.map((i=>Hy(i)));let t=nt.create(e,r.op);return t=Qf(t),gI(t)?t:(_e(t instanceof nt,64498),_e(jl(t),40251),_e(t.filters.length>1,57927),t.filters.reduce(((i,a)=>B_(i,a))))}function B_(r,e){let t;return _e(r instanceof qe||r instanceof nt,38388),_e(e instanceof qe||e instanceof nt,25473),t=r instanceof qe?e instanceof qe?(function(a,l){return nt.create([a,l],"and")})(r,e):Dw(r,e):e instanceof qe?Dw(e,r):(function(a,l){if(_e(a.filters.length>0&&l.filters.length>0,48005),jl(a)&&jl(l))return C1(a,l.getFilters());const c=Oy(a)?a:l,d=Oy(a)?l:a,m=c.filters.map((g=>B_(g,d)));return nt.create(m,"or")})(r,e),Qf(t)}function Dw(r,e){if(jl(e))return C1(e,r.getFilters());{const t=e.filters.map((i=>B_(r,i)));return nt.create(t,"or")}}function Qf(r){if(_e(r instanceof qe||r instanceof nt,11850),r instanceof qe)return r;const e=r.getFilters();if(e.length===1)return Qf(e[0]);if(x1(r))return r;const t=e.map((a=>Qf(a))),i=[];return t.forEach((a=>{a instanceof qe?i.push(a):a instanceof nt&&(a.op===r.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:nt.create(i,r.op)}class Qk{constructor(){this.Cn=new F_}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve($n.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve($n.min())}updateCollectionGroup(e,t,i){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class F_{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new it(Pe.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new it(Pe.comparator)).toArray()}}const Vw="IndexedDbIndexManager",sf=new Uint8Array(0);class $k{constructor(e,t){this.databaseId=t,this.vn=new F_,this.Fn=new Qi((i=>ao(i)),((i,a)=>dh(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const l={collectionId:i,parent:_n(a)};return Ow(e).put(l)}return B.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[YS(t),""],!1,!0);return Ow(e).J(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;i.push(ni(c.parent))}return i}))}addFieldIndex(e,t){const i=yc(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(t);delete a.indexId;const l=i.add(a);if(t.indexState){const c=fl(e);return l.next((d=>{c.put(Aw(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const i=yc(e),a=fl(e),l=dl(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=yc(e),i=dl(e),a=fl(e);return t.Z().next((()=>i.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return B.forEach(this.Mn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const l=new Nw(i).Dn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const i=dl(e);let a=!0;const l=new Map;return B.forEach(this.Mn(t),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),l.set(c,d)})))).next((()=>{if(a){let c=Ce();const d=[];return B.forEach(l,((m,g)=>{oe(Vw,`Using index ${(function(G){return`id=${G.indexId}|cg=${G.collectionGroup}|f=${G.fields.map((W=>`${W.fieldPath}:${W.kind}`)).join(",")}`})(m)} to execute ${ao(t)}`);const _=(function(G,W){const le=Iy(W);if(le===void 0)return null;for(const pe of Hf(G,le.fieldPath))switch(pe.op){case"array-contains-any":return pe.value.arrayValue.values||[];case"array-contains":return[pe.value]}return null})(g,m),v=(function(G,W){const le=new Map;for(const pe of Ka(W))for(const C of Hf(G,pe.fieldPath))switch(C.op){case"==":case"in":le.set(pe.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return le.set(pe.fieldPath.canonicalString(),C.value),Array.from(le.values())}return null})(g,m),w=(function(G,W){const le=[];let pe=!0;for(const C of Ka(W)){const x=C.kind===0?cw(G,C.fieldPath,G.startAt):hw(G,C.fieldPath,G.startAt);le.push(x.value),pe&&(pe=x.inclusive)}return new Js(le,pe)})(g,m),R=(function(G,W){const le=[];let pe=!0;for(const C of Ka(W)){const x=C.kind===0?hw(G,C.fieldPath,G.endAt):cw(G,C.fieldPath,G.endAt);le.push(x.value),pe&&(pe=x.inclusive)}return new Js(le,pe)})(g,m),k=this.On(m,g,w),L=this.On(m,g,R),j=this.Nn(m,g,v),J=this.Bn(m.indexId,_,k,w.inclusive,L,R.inclusive,j);return B.forEach(J,(ne=>i.Y(ne,t.limit).next((G=>{G.forEach((W=>{const le=ue.fromSegments(W.documentKey);c.has(le)||(c=c.add(le),d.push(le))}))}))))})).next((()=>d))}return B.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=Kk(nt.create(e.filters,"and")).map((i=>My(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,i,a,l,c,d){const m=(t!=null?t.length:1)*Math.max(i.length,l.length),g=m/(t!=null?t.length:1),_=[];for(let v=0;v<m;++v){const w=t?this.Ln(t[v/g]):sf,R=this.kn(e,w,i[v%g],a),k=this.qn(e,w,l[v%g],c),L=d.map((j=>this.kn(e,w,j,!0)));_.push(...this.createRange(R,k,L))}return _}kn(e,t,i,a){const l=new Ja(e,ue.empty(),t,i);return a?l:l.An()}qn(e,t,i,a){const l=new Ja(e,ue.empty(),t,i);return a?l.An():l}xn(e,t){const i=new Nw(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const d of l)i.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let i=2;const a=this.Mn(t);return B.forEach(a,(l=>this.xn(e,l).next((c=>{c?i!==0&&c.fields.length<(function(m){let g=new it(_t.comparator),_=!1;for(const v of m.filters)for(const w of v.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?_=!0:g=g.add(w.field));for(const v of m.orderBy)v.field.isKeyField()||(g=g.add(v.field));return g.size+(_?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&i===2?1:i))}Qn(e,t){const i=new gc;for(const a of Ka(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=i.Pn(a.kind);Xa.Kt.Dt(l,c)}return i.un()}Ln(e){const t=new gc;return Xa.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const i=new gc;return Xa.Kt.Dt(so(this.databaseId,t),i.Pn((function(l){const c=Ka(l);return c.length===0?0:c[c.length-1].kind})(e))),i.un()}Nn(e,t,i){if(i===null)return[];let a=[];a.push(new gc);let l=0;for(const c of Ka(e)){const d=i[l++];for(const m of a)if(this.Un(t,c.fieldPath)&&Yc(d))a=this.Kn(a,c,d);else{const g=m.Pn(c.kind);Xa.Kt.Dt(d,g)}}return this.Wn(a)}On(e,t,i){return this.Nn(e,t,i.position)}Wn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Kn(e,t,i){const a=[...e],l=[];for(const c of i.arrayValue.values||[])for(const d of a){const m=new gc;m.seed(d.un()),Xa.Kt.Dt(c,m.Pn(t.kind)),l.push(m)}return l}Un(e,t){return!!e.filters.find((i=>i instanceof qe&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=yc(e),a=fl(e);return(t?i.J(Ry,IDBKeyRange.bound(t,t)):i.J()).next((l=>{const c=[];return B.forEach(l,(d=>a.get([d.indexId,this.uid]).next((m=>{c.push((function(_,v){const w=v?new Dl(v.sequenceNumber,new $n(co(v.readTime),new ue(ni(v.documentKey)),v.largestBatchId)):Dl.empty(),R=_.fields.map((([k,L])=>new Za(_t.fromServerFormat(k),L)));return new Nl(_.indexId,_.collectionGroup,R,w)})(d,m))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Se(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=yc(e),l=fl(e);return this.Gn(e).next((c=>a.J(Ry,IDBKeyRange.bound(t,t)).next((d=>B.forEach(d,(m=>l.put(Aw(m.indexId,this.uid,c,i))))))))}updateIndexEntries(e,t){const i=new Map;return B.forEach(t,((a,l)=>{const c=i.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(i.set(a.collectionGroup,d),B.forEach(d,(m=>this.zn(e,a,m).next((g=>{const _=this.jn(l,m);return g.isEqual(_)?B.resolve():this.Jn(e,l,m,g,_)})))))))}))}Hn(e,t,i,a){return dl(e).put(a.Rn(this.uid,this.$n(i,t.key),t.key))}Yn(e,t,i,a){return dl(e).delete(a.Vn(this.uid,this.$n(i,t.key),t.key))}zn(e,t,i){const a=dl(e);let l=new it(Cs);return a.ee({index:u1,range:IDBKeyRange.only([i.indexId,this.uid,If(this.$n(i,t))])},((c,d)=>{l=l.add(new Ja(i.indexId,t,Cw(d.arrayValue),Cw(d.directionalValue)))})).next((()=>l))}jn(e,t){let i=new it(Cs);const a=this.Qn(t,e);if(a==null)return i;const l=Iy(t);if(l!=null){const c=e.data.field(l.fieldPath);if(Yc(c))for(const d of c.arrayValue.values||[])i=i.add(new Ja(t.indexId,e.key,this.Ln(d),a))}else i=i.add(new Ja(t.indexId,e.key,sf,a));return i}Jn(e,t,i,a,l){oe(Vw,"Updating index entries for document '%s'",t.key);const c=[];return(function(m,g,_,v,w){const R=m.getIterator(),k=g.getIterator();let L=cl(R),j=cl(k);for(;L||j;){let J=!1,ne=!1;if(L&&j){const G=_(L,j);G<0?ne=!0:G>0&&(J=!0)}else L!=null?ne=!0:J=!0;J?(v(j),j=cl(k)):ne?(w(L),L=cl(R)):(L=cl(R),j=cl(k))}})(a,l,Cs,(d=>{c.push(this.Hn(e,t,i,d))}),(d=>{c.push(this.Yn(e,t,i,d))})),B.waitFor(c)}Gn(e){let t=1;return fl(e).ee({index:l1,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((c,d)=>Cs(c,d))).filter(((c,d,m)=>!d||Cs(c,m[d-1])!==0));const a=[];a.push(e);for(const c of i){const d=Cs(c,e),m=Cs(c,t);if(d===0)a[0]=e.An();else if(d>0&&m<0)a.push(c),a.push(c.An());else if(m>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,sf,ue.empty()),m=a[c+1].Vn(this.uid,sf,ue.empty());l.push(IDBKeyRange.bound(d,m))}return l}Zn(e,t){return Cs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Pw)}getMinOffset(e,t){return B.mapArray(this.Mn(t),(i=>this.xn(e,i).next((a=>a||me(44426))))).next(Pw)}}function Ow(r){return Zt(r,Gc)}function dl(r){return Zt(r,Dc)}function yc(r){return Zt(r,I_)}function fl(r){return Zt(r,Nc)}function Pw(r){_e(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<r.length;i++){const a=r[i].indexState.offset;w_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new $n(e.readTime,e.documentKey,t)}const Mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yI=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function _I(r,e,t){const i=r.store(Ar),a=r.store(Vl),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const m=i.ee({range:c},((_,v,w)=>(d++,w.delete())));l.push(m.next((()=>{_e(d===1,47070,{batchId:t.batchId})})));const g=[];for(const _ of t.mutations){const v=s1(e,_.key.path,t.batchId);l.push(a.delete(v)),g.push(_.key)}return B.waitFor(l).next((()=>g))}function $f(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw me(14731);e=r.noDocument}return JSON.stringify(e).length}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(yI,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Rm{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Xn={}}static wt(e,t,i,a){_e(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Rm(l,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).ee({index:Wa,range:i},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const l=El(e),c=Ns(e);return c.add({}).next((d=>{_e(typeof d=="number",49019);const m=new k_(d,t,i,a),g=(function(R,k,L){const j=L.baseMutations.map((ne=>Wc(R.yt,ne))),J=L.mutations.map((ne=>Wc(R.yt,ne)));return{userId:k,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:j,mutations:J}})(this.serializer,this.userId,m),_=[];let v=new it(((w,R)=>Se(w.canonicalString(),R.canonicalString())));for(const w of a){const R=s1(this.userId,w.key.path,d);v=v.add(w.key.path.popLast()),_.push(c.put(g)),_.push(l.put(R,CM))}return v.forEach((w=>{_.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[d]=m.keys()})),B.waitFor(_).next((()=>m))}))}lookupMutationBatch(e,t){return Ns(e).get(t).next((i=>i?(_e(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),Ya(this.serializer,i)):null))}er(e,t){return this.Xn[t]?B.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Ns(e).ee({index:Wa,range:a},((c,d,m)=>{d.userId===this.userId&&(_e(d.batchId>=i,47524,{tr:i}),l=Ya(this.serializer,d)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Gs;return Ns(e).ee({index:Wa,range:t,reverse:!0},((a,l,c)=>{i=l.batchId,c.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Gs],[this.userId,Number.POSITIVE_INFINITY]);return Ns(e).J(Wa,t).next((i=>i.map((a=>Ya(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=vf(this.userId,t.path),a=IDBKeyRange.lowerBound(i),l=[];return El(e).ee({range:a},((c,d,m)=>{const[g,_,v]=c,w=ni(_);if(g===this.userId&&t.path.isEqual(w))return Ns(e).get(v).next((R=>{if(!R)throw me(61480,{nr:c,batchId:v});_e(R.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:R.userId,batchId:v}),l.push(Ya(this.serializer,R))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new it(Se);const a=[];return t.forEach((l=>{const c=vf(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=El(e).ee({range:d},((g,_,v)=>{const[w,R,k]=g,L=ni(R);w===this.userId&&l.path.isEqual(L)?i=i.add(k):v.done()}));a.push(m)})),B.waitFor(a).next((()=>this.rr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,l=vf(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new it(Se);return El(e).ee({range:c},((m,g,_)=>{const[v,w,R]=m,k=ni(w);v===this.userId&&i.isPrefixOf(k)?k.length===a&&(d=d.add(R)):_.done()})).next((()=>this.rr(e,d)))}rr(e,t){const i=[],a=[];return t.forEach((l=>{a.push(Ns(e).get(l).next((c=>{if(c===null)throw me(35274,{batchId:l});_e(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(Ya(this.serializer,c))})))})),B.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return _I(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),B.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return B.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return El(e).ee({range:i},((l,c,d)=>{if(l[0]===this.userId){const m=ni(l[1]);a.push(m)}else d.done()})).next((()=>{_e(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return vI(e,this.userId,t)}_r(e){return EI(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Gs,lastStreamToken:""}))}}function vI(r,e,t){const i=vf(e,t.path),a=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return El(r).ee({range:l,X:!0},((d,m,g)=>{const[_,v,w]=d;_===e&&v===a&&(c=!0),g.done()})).next((()=>c))}function Ns(r){return Zt(r,Ar)}function El(r){return Zt(r,Vl)}function EI(r){return Zt(r,qc)}class ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}class Yk{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const i=new ho(t.highestTargetId);return t.highestTargetId=i.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Ee.fromTimestamp(new Je(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((i=>(i.targetCount+=1,this.Tr(t,i),this.hr(e,i))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>ml(e).delete(t.targetId))).next((()=>this.lr(e))).next((i=>(_e(i.targetCount>0,8065),i.targetCount-=1,this.hr(e,i))))}removeTargets(e,t,i){let a=0;const l=[];return ml(e).ee(((c,d)=>{const m=Sc(d);m.sequenceNumber<=t&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(e,m)))})).next((()=>B.waitFor(l))).next((()=>a))}forEachTarget(e,t){return ml(e).ee(((i,a)=>{const l=Sc(a);t(l)}))}lr(e){return kw(e).get(Ff).next((t=>(_e(t!==null,2888),t)))}hr(e,t){return kw(e).put(Ff,t)}Pr(e,t){return ml(e).put(mI(this.serializer,t))}Tr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const i=ao(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return ml(e).ee({range:a,index:o1},((c,d,m)=>{const g=Sc(d);dh(t,g.target)&&(l=g,m.done())})).next((()=>l))}addMatchingKeys(e,t,i){const a=[],l=js(e);return t.forEach((c=>{const d=_n(c.path);a.push(l.put({targetId:i,path:d})),a.push(this.referenceDelegate.addReference(e,i,c))})),B.waitFor(a)}removeMatchingKeys(e,t,i){const a=js(e);return B.forEach(t,(l=>{const c=_n(l.path);return B.waitFor([a.delete([i,c]),this.referenceDelegate.removeReference(e,i,l)])}))}removeMatchingKeysForTargetId(e,t){const i=js(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=js(e);let l=Ce();return a.ee({range:i,X:!0},((c,d,m)=>{const g=ni(c[1]),_=new ue(g);l=l.add(_)})).next((()=>l))}containsKey(e,t){const i=_n(t.path),a=IDBKeyRange.bound([i],[YS(i)],!1,!0);let l=0;return js(e).ee({index:S_,X:!0,range:a},(([c,d],m,g)=>{c!==0&&(l++,g.done())})).next((()=>l>0))}At(e,t){return ml(e).get(t).next((i=>i?Sc(i):null))}}function ml(r){return Zt(r,Ol)}function kw(r){return Zt(r,eo)}function js(r){return Zt(r,Pl)}const Lw="LruGarbageCollector",TI=1048576;function jw([r,e],[t,i]){const a=Se(r,t);return a===0?Se(e,i):a}class Xk{constructor(e){this.Ir=e,this.buffer=new it(jw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();jw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bI{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Lw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?oe(Lw,"Ignoring IndexedDB error during garbage collection: ",t):await sa(t)}await this.Vr(3e5)}))}}class Jk{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return B.resolve(Dn.ce);const i=new Xk(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Mw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(i=v,d=Date.now(),this.removeTargets(e,i,t)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((v=>(g=Date.now(),yl()<=Fe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${v} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function wI(r,e){return new Jk(r,e)}class Wk{constructor(e,t){this.db=e,this.garbageCollector=wI(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((i,a)=>t(a)))}addReference(e,t,i){return af(e,i)}removeReference(e,t,i){return af(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return af(e,t)}br(e,t){return(function(a,l){let c=!1;return EI(a).te((d=>vI(a,d,l).next((m=>(m&&(c=!0),B.resolve(!m)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(e,((c,d)=>{if(d<=t){const m=this.br(e,c).next((g=>{if(!g)return l++,i.getEntry(e,c).next((()=>(i.removeEntry(c,Ee.min()),js(e).delete((function(v){return[0,_n(v.path)]})(c)))))}));a.push(m)}})).next((()=>B.waitFor(a))).next((()=>i.apply(e))).next((()=>l))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return af(e,t)}Sr(e,t){const i=js(e);let a,l=Dn.ce;return i.ee({index:S_},(([c,d],{path:m,sequenceNumber:g})=>{c===0?(l!==Dn.ce&&t(new ue(ni(a)),l),l=g,a=m):l=Dn.ce})).next((()=>{l!==Dn.ce&&t(new ue(ni(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function af(r,e){return js(r).put((function(i,a){return{targetId:0,path:_n(i.path),sequenceNumber:a}})(e,r.currentSequenceNumber))}class AI{constructor(){this.changes=new Qi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?B.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Zk{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ha(e).put(i)}removeEntry(e,t,i){return Ha(e).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Kf(c),d[d.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.Dr(e,i))))}getEntry(e,t){let i=yt.newInvalidDocument(t);return Ha(e).ee({index:Ef,range:IDBKeyRange.only(_c(t))},((a,l)=>{i=this.Cr(t,l)})).next((()=>i))}vr(e,t){let i={size:0,document:yt.newInvalidDocument(t)};return Ha(e).ee({index:Ef,range:IDBKeyRange.only(_c(t))},((a,l)=>{i={document:this.Cr(t,l),size:$f(l)}})).next((()=>i))}getEntries(e,t){let i=On();return this.Fr(e,t,((a,l)=>{const c=this.Cr(a,l);i=i.insert(a,c)})).next((()=>i))}Mr(e,t){let i=On(),a=new mt(ue.comparator);return this.Fr(e,t,((l,c)=>{const d=this.Cr(l,c);i=i.insert(l,d),a=a.insert(l,$f(c))})).next((()=>({documents:i,Or:a})))}Fr(e,t,i){if(t.isEmpty())return B.resolve();let a=new it(Bw);t.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(_c(a.first()),_c(a.last())),c=a.getIterator();let d=c.getNext();return Ha(e).ee({index:Ef,range:l},((m,g,_)=>{const v=ue.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&Bw(d,v)<0;)i(d,null),d=c.getNext();d&&d.isEqual(v)&&(i(d,g),d=c.hasNext()?c.getNext():null),d?_.j(_c(d)):_.done()})).next((()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),Kf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ha(e).J(IDBKeyRange.bound(d,m,!0)).next((g=>{l?.incrementDocumentReadCount(g.length);let _=On();for(const v of g){const w=this.Cr(ue.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);w.isFoundDocument()&&(mh(t,w)||a.has(w.key))&&(_=_.insert(w.key,w))}return _}))}getAllFromCollectionGroup(e,t,i,a){let l=On();const c=zw(t,i),d=zw(t,$n.max());return Ha(e).ee({index:a1,range:IDBKeyRange.bound(c,d,!0)},((m,g,_)=>{const v=this.Cr(ue.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(v.key,v),l.size===a&&_.done()})).next((()=>l))}newChangeBuffer(e){return new e4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return Uw(e).get(xy).next((t=>(_e(!!t,20021),t)))}Dr(e,t){return Uw(e).put(xy,t)}Cr(e,t){if(t){const i=Uk(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Ee.min())))return i}return yt.newInvalidDocument(e)}}function SI(r){return new Zk(r)}class e4 extends AI{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Qi((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new it(((l,c)=>Se(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Br.get(l);if(t.push(this.Nr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const m=bw(this.Nr.serializer,c);a=a.add(l.path.popLast());const g=$f(m);i+=g-d.size,t.push(this.Nr.addEntry(e,l,m))}else if(i-=d.size,this.trackRemovals){const m=bw(this.Nr.serializer,c.convertToNoDocument(Ee.min()));t.push(this.Nr.addEntry(e,l,m))}})),a.forEach((l=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Nr.updateMetadata(e,i)),B.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((i=>(this.Br.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:i,Or:a})=>(a.forEach(((l,c)=>{this.Br.set(l,{size:c,readTime:i.get(l).readTime})})),i)))}}function Uw(r){return Zt(r,Hc)}function Ha(r){return Zt(r,Bf)}function _c(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zw(r,e){const t=e.documentKey.path.toArray();return[r,Kf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Bw(r,e){const t=r.path.toArray(),i=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(a=Se(t[l],i[l]),a)return a;return a=Se(t.length,i.length),a||(a=Se(t[t.length-2],i[i.length-2]),a||Se(t[t.length-1],i[i.length-1]))}class t4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class II{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Pc(i.mutation,a,Vn.empty(),Je.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ce()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ce()){const a=ri();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=wc();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=ri();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ce())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=On();const c=Oc(),d=(function(){return Oc()})();return t.forEach(((m,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof $i)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Pc(_.mutation,g,_.mutation.getFieldMask(),Je.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new t4(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Oc();let a=new mt(((c,d)=>c-d)),l=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let _=i.get(m)||Vn.empty();_=d.applyToLocalView(g,_),i.set(m,_);const v=(a.get(d.batchId)||Ce()).add(m);a=a.insert(d.batchId,v)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,v=B1();_.forEach((w=>{if(!l.has(w)){const R=$1(t.get(w),i.get(w));R!==null&&v.set(w,R),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,v))}return B.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return ue.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):V_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):B.resolve(ri());let d=Cl,m=l;return c.next((g=>B.forEach(g,((_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),l.get(_)?B.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{m=m.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ce()))).next((_=>({batchId:d,changes:z1(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next((i=>{let a=wc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=wc();return this.indexManager.getCollectionParents(e,l).next((d=>B.forEach(d,(m=>{const g=(function(v,w){return new Ki(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((_=>{_.forEach(((v,w)=>{c=c.insert(v,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,yt.newInvalidDocument(_)))}));let d=wc();return c.forEach(((m,g)=>{const _=l.get(m);_!==void 0&&Pc(_.mutation,g,Vn.empty(),Je.now()),mh(t,g)&&(d=d.insert(m,g))})),d}))}}class n4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return B.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:jt(a.createTime)}})(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:Im(a.bundledQuery),readTime:jt(a.readTime)}})(t)),B.resolve()}}class r4{constructor(){this.overlays=new mt(ue.comparator),this.qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ri();return B.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),B.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),B.resolve()}getOverlaysForCollection(e,t,i){const a=ri(),l=t.length+1,c=new ue(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return B.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new mt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=ri(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ri(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=a)););return B.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new j_(t,i));let l=this.qr.get(t);l===void 0&&(l=Ce(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class i4{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}class q_{constructor(){this.Qr=new it(rn.$r),this.Ur=new it(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new rn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new rn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ue(new Pe([])),i=new rn(t,e),a=new rn(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ue(new Pe([])),i=new rn(t,e),a=new rn(t,e+1);let l=Ce();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new rn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ue.comparator(e.key,t.key)||Se(e.Yr,t.Yr)}static Kr(e,t){return Se(e.Yr,t.Yr)||ue.comparator(e.key,t.key)}}class s4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new it(rn.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new k_(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,t){return B.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return B.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Gs:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),B.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new it(Se);return t.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),B.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ue.isDocumentKey(l)||(l=l.child(""));const c=new rn(new ue(l),0);let d=new it(Se);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),B.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){_e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return B.forEach(t.mutations,(a=>{const l=new rn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new rn(t,0),a=this.Zr.firstAfterOrEqual(i);return B.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class a4{constructor(e){this.ri=e,this.docs=(function(){return new mt(ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return B.resolve(i?i.document.mutableCopy():yt.newInvalidDocument(t))}getEntries(e,t){let i=On();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():yt.newInvalidDocument(a))})),B.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=On();const c=t.path,d=new ue(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||w_(e1(_),i)<=0||(a.has(_.key)||mh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return B.resolve(l)}getAllFromCollectionGroup(e,t,i,a){me(9500)}ii(e,t){return B.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new o4(this)}getSize(e){return B.resolve(this.size)}}class o4 extends AI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),B.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class l4{constructor(e){this.persistence=e,this.si=new Qi((t=>ao(t)),dh),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new q_,this.targetCount=0,this.ai=ho.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),B.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ho(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Pr(t),B.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),B.waitFor(l).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return B.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),B.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),B.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return B.resolve(i)}containsKey(e,t){return B.resolve(this._i.containsKey(t))}}class H_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Dn(0),this.li=!1,this.li=!0,this.hi=new i4,this.referenceDelegate=e(this),this.Pi=new l4(this),this.indexManager=new Qk,this.remoteDocumentCache=(function(a){return new a4(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new fI(t),this.Ii=new n4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new s4(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const a=new u4(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return B.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class u4 extends n1{constructor(e){super(),this.currentSequenceNumber=e}}class Cm{constructor(e){this.persistence=e,this.Ri=new q_,this.Vi=null}static mi(e){return new Cm(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),B.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(i=>{const a=ue.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return B.or([()=>B.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Yf{constructor(e,t){this.persistence=e,this.pi=new Qi((i=>_n(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=wI(this,t)}static mi(e,t){return new Yf(e,t)}Ei(){}di(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return B.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?B.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Ee.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),B.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bf(e.data.value)),t}br(e,t,i){return B.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return B.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class c4{constructor(e){this.serializer=e}k(e,t,i,a){const l=new pm("createOrUpgrade",t);i<1&&a>=1&&((function(m){m.createObjectStore(hh)})(e),(function(m){m.createObjectStore(qc,{keyPath:RM}),m.createObjectStore(Ar,{keyPath:Wb,autoIncrement:!0}).createIndex(Wa,Zb,{unique:!0}),m.createObjectStore(Vl)})(e),Fw(e),(function(m){m.createObjectStore(Qa)})(e));let c=B.resolve();return i<3&&a>=3&&(i!==0&&((function(m){m.deleteObjectStore(Pl),m.deleteObjectStore(Ol),m.deleteObjectStore(eo)})(e),Fw(e)),c=c.next((()=>(function(m){const g=m.store(eo),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ee.min().toTimestamp(),targetCount:0};return g.put(Ff,_)})(l)))),i<4&&a>=4&&(i!==0&&(c=c.next((()=>(function(m,g){return g.store(Ar).J().next((v=>{m.deleteObjectStore(Ar),m.createObjectStore(Ar,{keyPath:Wb,autoIncrement:!0}).createIndex(Wa,Zb,{unique:!0});const w=g.store(Ar),R=v.map((k=>w.put(k)));return B.waitFor(R)}))})(e,l)))),c=c.next((()=>{(function(m){m.createObjectStore(Ml,{keyPath:LM})})(e)}))),i<5&&a>=5&&(c=c.next((()=>this.yi(l)))),i<6&&a>=6&&(c=c.next((()=>((function(m){m.createObjectStore(Hc)})(e),this.wi(l))))),i<7&&a>=7&&(c=c.next((()=>this.Si(l)))),i<8&&a>=8&&(c=c.next((()=>this.bi(e,l)))),i<9&&a>=9&&(c=c.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(c=c.next((()=>this.Di(l)))),i<11&&a>=11&&(c=c.next((()=>{(function(m){m.createObjectStore(gm,{keyPath:jM})})(e),(function(m){m.createObjectStore(ym,{keyPath:UM})})(e)}))),i<12&&a>=12&&(c=c.next((()=>{(function(m){const g=m.createObjectStore(_m,{keyPath:KM});g.createIndex(Cy,QM,{unique:!1}),g.createIndex(c1,$M,{unique:!1})})(e)}))),i<13&&a>=13&&(c=c.next((()=>(function(m){const g=m.createObjectStore(Bf,{keyPath:NM});g.createIndex(Ef,DM),g.createIndex(a1,VM)})(e))).next((()=>this.Ci(e,l))).next((()=>e.deleteObjectStore(Qa)))),i<14&&a>=14&&(c=c.next((()=>this.Fi(e,l)))),i<15&&a>=15&&(c=c.next((()=>(function(m){m.createObjectStore(I_,{keyPath:zM,autoIncrement:!0}).createIndex(Ry,BM,{unique:!1}),m.createObjectStore(Nc,{keyPath:FM}).createIndex(l1,qM,{unique:!1}),m.createObjectStore(Dc,{keyPath:HM}).createIndex(u1,GM,{unique:!1})})(e)))),i<16&&a>=16&&(c=c.next((()=>{t.objectStore(Nc).clear()})).next((()=>{t.objectStore(Dc).clear()}))),i<17&&a>=17&&(c=c.next((()=>{(function(m){m.createObjectStore(x_,{keyPath:YM})})(e)}))),i<18&&a>=18&&ZA()&&(c=c.next((()=>{t.objectStore(Nc).clear()})).next((()=>{t.objectStore(Dc).clear()}))),c}wi(e){let t=0;return e.store(Qa).ee(((i,a)=>{t+=$f(a)})).next((()=>{const i={byteSize:t};return e.store(Hc).put(xy,i)}))}yi(e){const t=e.store(qc),i=e.store(Ar);return t.J().next((a=>B.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,Gs],[l.userId,l.lastAcknowledgedBatchId]);return i.J(Wa,c).next((d=>B.forEach(d,(m=>{_e(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const g=Ya(this.serializer,m);return _I(e,l.userId,g).next((()=>{}))}))))}))))}Si(e){const t=e.store(Pl),i=e.store(Qa);return e.store(eo).get(Ff).next((a=>{const l=[];return i.ee(((c,d)=>{const m=new Pe(c),g=(function(v){return[0,_n(v)]})(m);l.push(t.get(g).next((_=>_?B.resolve():(v=>t.put({targetId:0,path:_n(v),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>B.waitFor(l)))}))}bi(e,t){e.createObjectStore(Gc,{keyPath:kM});const i=t.store(Gc),a=new F_,l=c=>{if(a.add(c)){const d=c.lastSegment(),m=c.popLast();return i.put({collectionId:d,parent:_n(m)})}};return t.store(Qa).ee({X:!0},((c,d)=>{const m=new Pe(c);return l(m.popLast())})).next((()=>t.store(Vl).ee({X:!0},(([c,d,m],g)=>{const _=ni(d);return l(_.popLast())}))))}Di(e){const t=e.store(Ol);return t.ee(((i,a)=>{const l=Sc(a),c=mI(this.serializer,l);return t.put(c)}))}Ci(e,t){const i=t.store(Qa),a=[];return i.ee(((l,c)=>{const d=t.store(Bf),m=(function(v){return v.document?new ue(Pe.fromString(v.document.name).popFirst(5)):v.noDocument?ue.fromSegments(v.noDocument.path):v.unknownDocument?ue.fromSegments(v.unknownDocument.path):me(36783)})(c).path.toArray(),g={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(g))})).next((()=>B.waitFor(a)))}Fi(e,t){const i=t.store(Ar),a=SI(this.serializer),l=new H_(Cm.mi,this.serializer.yt);return i.J().next((c=>{const d=new Map;return c.forEach((m=>{let g=d.get(m.userId)??Ce();Ya(this.serializer,m).keys().forEach((_=>g=g.add(_))),d.set(m.userId,g)})),B.forEach(d,((m,g)=>{const _=new sn(g),v=xm.wt(this.serializer,_),w=l.getIndexManager(_),R=Rm.wt(_,this.serializer,w,l.referenceDelegate);return new II(a,R,v,w).recalculateAndSaveOverlaysForDocumentKeys(new Ny(t,Dn.ce),m).next()}))}))}}function Fw(r){r.createObjectStore(Pl,{keyPath:PM}).createIndex(S_,MM,{unique:!0}),r.createObjectStore(Ol,{keyPath:"targetId"}).createIndex(o1,OM,{unique:!0}),r.createObjectStore(eo)}const Ds="IndexedDbPersistence",ny=18e5,ry=5e3,iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xI="main";class G_{constructor(e,t,i,a,l,c,d,m,g,_,v=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Mi=l,this.window=c,this.document=d,this.xi=g,this.Oi=_,this.Ni=v,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!G_.v())throw new ie(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wk(this,a),this.$i=t+xI,this.serializer=new fI(m),this.Ui=new oi(this.$i,this.Ni,new c4(this.serializer)),this.hi=new Bk,this.Pi=new Yk(this.referenceDelegate,this.serializer),this.remoteDocumentCache=SI(this.serializer),this.Ii=new zk,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,_===!1&&Lt(Ds,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(Q.FAILED_PRECONDITION,iy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Dn(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>of(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(aa(e))return oe(Ds,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oe(Ds,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return vc(e).get(ul).next((t=>B.resolve(this.es(t))))}ts(e){return of(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ny)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=Zt(t,Ml);return i.J().next((a=>{const l=this.ss(a,ny),c=a.filter((d=>l.indexOf(d)===-1));return B.forEach(c,(d=>i.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):vc(e).get(ul).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ry)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ie(Q.FAILED_PRECONDITION,iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||of(e).J().next((i=>this.ss(i,ry).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&oe(Ds,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[hh,Ml],(e=>{const t=new Ny(e,Dn.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((i=>this.rs(i.updateTimeMs,t)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>of(e).J().next((t=>this.ss(t,ny).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Rm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $k(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return xm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,i){oe(Ds,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?WM:m===17?m1:m===16?JM:m===15?R_:m===14?f1:m===13?d1:m===12?XM:m===11?h1:void me(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,l,(d=>(c=new Ny(d,this.ci?this.ci.next():Dn.ce),t==="readwrite-primary"?this.Hi(c).next((m=>!!m||this.Yi(c))).next((m=>{if(!m)throw Lt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ie(Q.FAILED_PRECONDITION,t1);return i(c)})).next((m=>this.Xi(c).next((()=>m)))):this.Is(c).next((()=>i(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return vc(e).get(ul).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ry)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(Q.FAILED_PRECONDITION,iy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vc(e).put(ul,t)}static v(){return oi.v()}Zi(e){const t=vc(e);return t.get(ul).next((i=>this.es(i)?(oe(Ds,"Releasing primary lease."),t.delete(ul)):B.resolve()))}rs(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(Lt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;WA()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return oe(Ds,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Lt(Ds,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Lt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vc(r){return Zt(r,hh)}function of(r){return Zt(r,Ml)}function K_(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Q_{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Ce(),a=Ce();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Q_(e,t.fromCache,i,a)}}class h4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return WA()?8:r1(Jt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new h4;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(yl()<=Fe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",_l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(yl()<=Fe.DEBUG&&oe("QueryEngine","Query:",_l(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(yl()<=Fe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",_l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(t))):B.resolve())}ys(e,t){if(dw(t))return B.resolve(null);let i=vn(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Gf(t,null,"F"),i=vn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ce(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(t,d);return this.Cs(t,g,c,m.readTime)?this.ys(e,Gf(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,i,a){return dw(t)||a.isEqual(Ee.min())?B.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?B.resolve(null):(yl()<=Fe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),_l(t)),this.vs(e,c,t,ZS(a,Cl)).next((d=>d)))}))}Ds(e,t){let i=new it(j1(e));return t.forEach(((a,l)=>{mh(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return yl()<=Fe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",_l(t)),this.ps.getDocumentsMatchingQuery(e,t,$n.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const $_="LocalStore",d4=3e8;class f4{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new mt(Se),this.xs=new Qi((l=>ao(l)),dh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new II(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function CI(r,e,t,i){return new f4(r,e,t,i)}async function NI(r,e){const t=he(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Ce();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function m4(r,e){const t=he(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,_){const v=g.batch,w=v.keys();let R=B.resolve();return w.forEach((k=>{R=R.next((()=>_.getEntry(m,k))).next((L=>{const j=g.docVersions.get(k);_e(j!==null,48541),L.version.compareTo(j)<0&&(v.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),_.addEntry(L)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,v)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ce();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function DI(r){const e=he(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function p4(r,e){const t=he(r),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((_,v)=>{const w=a.get(v);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,v).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,v))));let R=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?R=R.withResumeToken(Rt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),a=a.insert(v,R),(function(L,j,J){return L.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=d4?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,R,_)&&d.push(t.Pi.updateTargetData(l,R))}));let m=On(),g=Ce();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(VI(l,c,e.documentUpdates).next((_=>{m=_.ks,g=_.qs}))),!i.isEqual(Ee.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((v=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(_)}return B.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function VI(r,e,t){let i=Ce(),a=Ce();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=On();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):oe($_,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function g4(r,e){const t=he(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Gs),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Fl(r,e){const t=he(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,B.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new Li(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function ql(r,e,t){const i=he(r),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!aa(c))throw c;oe($_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Xf(r,e,t){const i=he(r);let a=Ee.min(),l=Ce();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,_){const v=he(m),w=v.xs.get(_);return w!==void 0?B.resolve(v.Ms.get(w)):v.Pi.getTargetData(g,_)})(i,c,vn(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:Ee.min(),t?l:Ce()))).next((d=>(MI(i,L1(e),d),{documents:d,Qs:l})))))}function OI(r,e){const t=he(r),i=he(t.Pi),a=t.Ms.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(l=>i.At(l,e).next((c=>c?c.target:null))))}function PI(r,e){const t=he(r),i=t.Os.get(e)||Ee.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.Ns.getAllFromCollectionGroup(a,e,ZS(i,Cl),Number.MAX_SAFE_INTEGER))).then((a=>(MI(t,e,a),a)))}function MI(r,e,t){let i=r.Os.get(e)||Ee.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}async function y4(r,e,t,i){const a=he(r);let l=Ce(),c=On();for(const g of t){const _=e.$s(g.metadata.name);g.document&&(l=l.add(_));const v=e.Us(g);v.setReadTime(e.Ks(g.metadata.readTime)),c=c.insert(_,v)}const d=a.Ns.newChangeBuffer({trackRemovals:!0}),m=await Fl(a,(function(_){return vn(eu(Pe.fromString(`__bundle__/docs/${_}`)))})(i));return a.persistence.runTransaction("Apply bundle documents","readwrite",(g=>VI(g,d,c).next((_=>(d.apply(g),_))).next((_=>a.Pi.removeMatchingKeysForTargetId(g,m.targetId).next((()=>a.Pi.addMatchingKeys(g,l,m.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(g,_.ks,_.qs))).next((()=>_.ks))))))}async function _4(r,e,t=Ce()){const i=await Fl(r,vn(Im(e.bundledQuery))),a=he(r);return a.persistence.runTransaction("Save named query","readwrite",(l=>{const c=jt(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return a.Ii.saveNamedQuery(l,e);const d=i.withResumeToken(Rt.EMPTY_BYTE_STRING,c);return a.Ms=a.Ms.insert(d.targetId,d),a.Pi.updateTargetData(l,d).next((()=>a.Pi.removeMatchingKeysForTargetId(l,i.targetId))).next((()=>a.Pi.addMatchingKeys(l,t,i.targetId))).next((()=>a.Ii.saveNamedQuery(l,e)))}))}const kI="firestore_clients";function qw(r,e){return`${kI}_${r}_${e}`}const LI="firestore_mutations";function Hw(r,e,t){let i=`${LI}_${r}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const jI="firestore_targets";function sy(r,e){return`${jI}_${r}_${e}`}const ti="SharedClientState";class Jf{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Ws(e,t,i){const a=JSON.parse(i);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new ie(a.error.code,a.error.message))),c?new Jf(e,t,a.state,l):(Lt(ti,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mc{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ws(e,t){const i=JSON.parse(t);let a,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new ie(i.error.code,i.error.message))),l?new Mc(e,i.state,a):(Lt(ti,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Wf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const i=JSON.parse(t);let a=typeof i=="object"&&i.activeTargetIds instanceof Array,l=O_();for(let c=0;a&&c<i.activeTargetIds.length;++c)a=i1(i.activeTargetIds[c]),l=l.add(i.activeTargetIds[c]);return a?new Wf(e,l):(Lt(ti,`Failed to parse client data for instance '${e}': ${t}`),null)}}class Y_{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Y_(t.clientId,t.onlineState):(Lt(ti,`Failed to parse online state: ${e}`),null)}}class Gy{constructor(){this.activeTargetIds=O_()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ay{constructor(e,t,i,a,l){this.window=e,this.Mi=t,this.persistenceKey=i,this.Js=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new mt(Se),this.started=!1,this.Xs=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.eo=qw(this.persistenceKey,this.Js),this.no=(function(m){return`firestore_sequence_number_${m}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Gy),this.ro=new RegExp(`^${kI}_${c}_([^_]*)$`),this.io=new RegExp(`^${LI}_${c}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${jI}_${c}_(\\d+)$`),this.oo=(function(m){return`firestore_online_state_${m}`})(this.persistenceKey),this._o=(function(m){return`firestore_bundle_loaded_v2_${m}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const i of e){if(i===this.Js)continue;const a=this.getItem(qw(this.persistenceKey,i));if(a){const l=Wf.Ws(i,a);l&&(this.Zs=this.Zs.insert(l.clientId,l))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const i=this.uo(t);i&&this.co(i)}for(const i of this.Xs)this.Ys(i);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,i){this.ho(e,t,i),this.Po(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(sy(this.persistenceKey,e));if(a){const l=Mc.Ws(e,a);l&&(i=l.state)}}return t&&this.To.zs(e),this.ao(),i}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sy(this.persistenceKey,e))}updateQueryState(e,t,i){this.Io(e,t,i)}handleUserChange(e,t,i){t.forEach((a=>{this.Po(a)})),this.currentUser=e,i.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return oe(ti,"READ",e,t),t}setItem(e,t){oe(ti,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){oe(ti,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(oe(ti,"EVENT",t.key,t.newValue),t.key===this.eo)return void Lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const i=this.Ro(t.key);return this.Vo(i,null)}{const i=this.mo(t.key,t.newValue);if(i)return this.Vo(i.clientId,i)}}else if(this.io.test(t.key)){if(t.newValue!==null){const i=this.fo(t.key,t.newValue);if(i)return this.po(i)}}else if(this.so.test(t.key)){if(t.newValue!==null){const i=this.yo(t.key,t.newValue);if(i)return this.wo(i)}}else if(t.key===this.oo){if(t.newValue!==null){const i=this.uo(t.newValue);if(i)return this.co(i)}}else if(t.key===this.no){const i=(function(l){let c=Dn.ce;if(l!=null)try{const d=JSON.parse(l);_e(typeof d=="number",30636,{So:l}),c=d}catch(d){Lt(ti,"Failed to read sequence number from WebStorage",d)}return c})(t.newValue);i!==Dn.ce&&this.sequenceNumberHandler(i)}else if(t.key===this._o){const i=this.bo(t.newValue);await Promise.all(i.map((a=>this.syncEngine.Do(a))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,i){const a=new Jf(this.currentUser,e,t,i),l=Hw(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Gs())}Po(e){const t=Hw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,i){const a=sy(this.persistenceKey,e),l=new Mc(e,t,i);this.setItem(a,l.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const i=this.Ro(e);return Wf.Ws(i,t)}fo(e,t){const i=this.io.exec(e),a=Number(i[1]),l=i[2]!==void 0?i[2]:null;return Jf.Ws(new sn(l),a,t)}yo(e,t){const i=this.so.exec(e),a=Number(i[1]);return Mc.Ws(a,t)}uo(e){return Y_.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);oe(ti,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const i=t?this.Zs.insert(e,t):this.Zs.remove(e),a=this.lo(this.Zs),l=this.lo(i),c=[],d=[];return l.forEach((m=>{a.has(m)||c.push(m)})),a.forEach((m=>{l.has(m)||d.push(m)})),this.syncEngine.Fo(c,d).then((()=>{this.Zs=i}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=O_();return e.forEach(((i,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class UI{constructor(){this.Mo=new Gy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class v4{Oo(e){}shutdown(){}}const Gw="ConnectivityMonitor";class Kw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Gw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Gw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let lf=null;function Ky(){return lf===null?lf=(function(){return 268435456+Math.round(2147483648*Math.random())})():lf++,"0x"+lf.toString(16)}const oy="RestConnection",E4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Qc?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=Ky(),d=this.zo(e,t.toUriEncodedString());oe(oy,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),_=na(g);return this.Jo(e,d,m,i,_).then((v=>(oe(oy,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Qn(oy,`RPC '${e}' ${c} failed with error: `,v,"url: ",d,"request:",i),v}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=E4[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class b4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const gn="WebChannelConnection";class w4 extends T4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=Ky();return new Promise(((d,m)=>{const g=new BS;g.setWithCredentials(!0),g.listenOnce(FS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case _f.NO_ERROR:const v=g.getResponseJson();oe(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),d(v);break;case _f.TIMEOUT:oe(gn,`RPC '${e}' ${c} timed out`),m(new ie(Q.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const w=g.getStatus();if(oe(gn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const L=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ne)>=0?ne:Q.UNKNOWN})(k.status);m(new ie(L,k.message))}else m(new ie(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ie(Q.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe(gn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);oe(gn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,i,15)}))}T_(e,t,i){const a=Ky(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=GS(),d=HS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");oe(gn,`Creating RPC '${e}' stream ${a}: ${_}`,m);const v=c.createWebChannel(_,m);this.I_(v);let w=!1,R=!1;const k=new b4({Yo:j=>{R?oe(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(w||(oe(gn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),w=!0),oe(gn,`RPC '${e}' stream ${a} sending:`,j),v.send(j))},Zo:()=>v.close()}),L=(j,J,ne)=>{j.listen(J,(G=>{try{ne(G)}catch(W){setTimeout((()=>{throw W}),0)}}))};return L(v,bc.EventType.OPEN,(()=>{R||(oe(gn,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),L(v,bc.EventType.CLOSE,(()=>{R||(R=!0,oe(gn,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(v))})),L(v,bc.EventType.ERROR,(j=>{R||(R=!0,Qn(gn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),k.a_(new ie(Q.UNAVAILABLE,"The operation could not be completed")))})),L(v,bc.EventType.MESSAGE,(j=>{if(!R){const J=j.data[0];_e(!!J,16349);const ne=J,G=ne?.error||ne[0]?.error;if(G){oe(gn,`RPC '${e}' stream ${a} received error:`,G);const W=G.status;let le=(function(x){const N=$t[x];if(N!==void 0)return W1(N)})(W),pe=G.message;le===void 0&&(le=Q.INTERNAL,pe="Unknown error status: "+W+" with message "+G.message),R=!0,k.a_(new ie(le,pe)),v.close()}else oe(gn,`RPC '${e}' stream ${a} received:`,J),k.u_(J)}})),L(d,qS.STAT_EVENT,(j=>{j.stat===by.PROXY?oe(gn,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===by.NOPROXY&&oe(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function zI(){return typeof window<"u"?window:null}function xf(){return typeof document<"u"?document:null}function _o(r){return new Ck(r,!0)}class X_{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Qw="PersistentStream";class BI{constructor(e,t,i,a,l,c,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Lt(t.toString()),Lt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ie(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Qw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(oe(Qw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A4 extends BI{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Vk(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ee.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ee.min():c.readTime?jt(c.readTime):Ee.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=zy(this.serializer),t.addTarget=(function(l,c){let d;const m=c.target;if(d=qf(m)?{documents:oI(l,m)}:{query:Sm(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=nI(l,c.resumeToken);const g=jy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ee.min())>0){d.readTime=Bl(l,c.snapshotVersion.toTimestamp());const g=jy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=Pk(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=zy(this.serializer),t.removeTarget=e,this.q_(t)}}class S4 extends BI{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Ok(e.writeResults,e.commitTime),i=jt(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=zy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Wc(this.serializer,i)))};this.q_(t)}}class I4{}class x4 extends I4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ie(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Uy(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ie(Q.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Uy(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie(Q.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class R4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lt(t),this.aa=!1):oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const fo="RemoteStore";class C4{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{la(this)&&(oe(fo,"Restarting streams for network reachability change."),await(async function(m){const g=he(m);g.Ea.add(4),await ru(g),g.Ra.set("Unknown"),g.Ea.delete(4),await _h(g)})(this))}))})),this.Ra=new R4(i,a)}}async function _h(r){if(la(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function Nm(r,e){const t=he(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Z_(t)?W_(t):su(t).O_()&&J_(t,e))}function Hl(r,e){const t=he(r),i=su(t);t.Ia.delete(e),i.O_()&&FI(t,e),t.Ia.size===0&&(i.O_()?i.L_():la(t)&&t.Ra.set("Unknown"))}function J_(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}su(r).Y_(e)}function FI(r,e){r.Va.Ue(e),su(r).Z_(e)}function W_(r){r.Va=new Sk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),su(r).start(),r.Ra.ua()}function Z_(r){return la(r)&&!su(r).x_()&&r.Ia.size>0}function la(r){return he(r).Ea.size===0}function qI(r){r.Va=void 0}async function N4(r){r.Ra.set("Online")}async function D4(r){r.Ia.forEach(((e,t)=>{J_(r,e)}))}async function V4(r,e){qI(r),Z_(r)?(r.Ra.ha(e),W_(r)):r.Ra.set("Unknown")}async function O4(r,e,t){if(r.Ra.set("Online"),e instanceof tI&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(r,e)}catch(i){oe(fo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zf(r,i)}else if(e instanceof Sf?r.Va.Ze(e):e instanceof eI?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ee.min()))try{const i=await DI(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(Rt.EMPTY_BYTE_STRING,_.snapshotVersion)),FI(l,m);const v=new Li(_.target,m,g,_.sequenceNumber);J_(l,v)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){oe(fo,"Failed to raise snapshot:",i),await Zf(r,i)}}async function Zf(r,e,t){if(!aa(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),t||(t=()=>DI(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(fo,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await _h(r)}))}function HI(r,e){return e().catch((t=>Zf(r,t,e)))}async function iu(r){const e=he(r),t=Ws(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gs;for(;P4(e);)try{const a=await g4(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,M4(e,a)}catch(a){await Zf(e,a)}GI(e)&&KI(e)}function P4(r){return la(r)&&r.Ta.length<10}function M4(r,e){r.Ta.push(e);const t=Ws(r);t.O_()&&t.X_&&t.ea(e.mutations)}function GI(r){return la(r)&&!Ws(r).x_()&&r.Ta.length>0}function KI(r){Ws(r).start()}async function k4(r){Ws(r).ra()}async function L4(r){const e=Ws(r);for(const t of r.Ta)e.ea(t.mutations)}async function j4(r,e,t){const i=r.Ta.shift(),a=L_.from(i,e,t);await HI(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await iu(r)}async function U4(r,e){e&&Ws(r).X_&&await(async function(i,a){if((function(c){return J1(c)&&c!==Q.ABORTED})(a.code)){const l=i.Ta.shift();Ws(i).B_(),await HI(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await iu(i)}})(r,e),GI(r)&&KI(r)}async function $w(r,e){const t=he(r);t.asyncQueue.verifyOperationInProgress(),oe(fo,"RemoteStore received new credentials");const i=la(t);t.Ea.add(3),await ru(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await _h(t)}async function Qy(r,e){const t=he(r);e?(t.Ea.delete(2),await _h(t)):e||(t.Ea.add(2),await ru(t),t.Ra.set("Unknown"))}function su(r){return r.ma||(r.ma=(function(t,i,a){const l=he(t);return l.sa(),new A4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:N4.bind(null,r),t_:D4.bind(null,r),r_:V4.bind(null,r),H_:O4.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Z_(r)?W_(r):r.Ra.set("Unknown")):(await r.ma.stop(),qI(r))}))),r.ma}function Ws(r){return r.fa||(r.fa=(function(t,i,a){const l=he(t);return l.sa(),new S4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:k4.bind(null,r),r_:U4.bind(null,r),ta:L4.bind(null,r),na:j4.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await iu(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(fo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ev{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new an,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new ev(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function au(r,e){if(Lt("AsyncQueue",`${e}: ${r}`),aa(r))return new ie(Q.UNAVAILABLE,`${e}: ${r}`);throw r}class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ue.comparator(t.key,i.key):(t,i)=>ue.comparator(t.key,i.key),this.keyedMap=wc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new to;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Yw{constructor(){this.ga=new mt(ue.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class mo{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new mo(e,t,to.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class z4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class B4{constructor(){this.queries=Xw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=he(t),l=a.queries;a.queries=Xw(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(i)}))})(this,new ie(Q.ABORTED,"Firestore shutting down"))}}function Xw(){return new Qi((r=>k1(r)),fh)}async function tv(r,e){const t=he(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new z4,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=au(c,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&rv(t)}async function nv(r,e){const t=he(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function F4(r,e){const t=he(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&rv(t)}function q4(r,e,t){const i=he(r),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function rv(r){r.Ca.forEach((e=>{e.next()}))}var $y,Jw;(Jw=$y||($y={})).Ma="default",Jw.Cache="cache";class iv{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new mo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$y.Cache}}class QI{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}class Ww{constructor(e){this.serializer=e}$s(e){return li(this.serializer,e)}Us(e){return e.metadata.exists?Am(this.serializer,e.document,!1):yt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return jt(e)}}class sv{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=$I(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const i=Pe.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,i=new Ww(this.serializer);for(const a of e)if(a.metadata.queries){const l=i.$s(a.metadata.name);for(const c of a.metadata.queries){const d=(t.get(c)||Ce()).add(l);t.set(c,d)}}return t}async ja(e){const t=await y4(e,new Ww(this.serializer),this.Wa,this.Ua.id),i=this.za(this.documents);for(const a of this.Ka)await _4(e,a,i.get(a.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function $I(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class YI{constructor(e){this.key=e}}class XI{constructor(e){this.key=e}}class JI{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=j1(e),this.tu=new to(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Yw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,v)=>{const w=a.get(_),R=mh(this.query,v)?v:null,k=!!w&&this.mutatedKeys.has(w.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;w&&R?w.data.isEqual(R.data)?k!==L&&(i.track({type:3,doc:R}),j=!0):this.su(w,R)||(i.track({type:2,doc:R}),j=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(d=!0)):!w&&R?(i.track({type:0,doc:R}),j=!0):w&&!R&&(i.track({type:1,doc:w}),j=!0,(m||g)&&(d=!0)),j&&(R?(c=c.add(R),l=L?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,v)=>(function(R,k){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:j})}};return L(R)-L(k)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new mo(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new XI(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new YI(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ce();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ua="SyncEngine";class H4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class G4{constructor(e){this.key=e,this.hu=!1}}class K4{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Qi((d=>k1(d)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ue.comparator),this.Au=new Map,this.Ru=new q_,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Q4(r,e,t=!0){const i=Dm(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await WI(i,e,t,!0),a}async function $4(r,e){const t=Dm(r);await WI(t,e,!0,!1)}async function WI(r,e,t,i){const a=await Fl(r.localStore,vn(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await av(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&Nm(r.remoteStore,a),d}async function av(r,e,t,i,a){r.pu=(v,w,R)=>(async function(L,j,J,ne){let G=j.view.ru(J);G.Cs&&(G=await Xf(L.localStore,j.query,!1).then((({documents:C})=>j.view.ru(C,G))));const W=ne&&ne.targetChanges.get(j.targetId),le=ne&&ne.targetMismatches.get(j.targetId)!=null,pe=j.view.applyChanges(G,L.isPrimaryClient,W,le);return Yy(L,j.targetId,pe.au),pe.snapshot})(r,v,w,R);const l=await Xf(r.localStore,e,!0),c=new JI(e,l.Qs),d=c.ru(l.documents),m=yh.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,m);Yy(r,t,g.au);const _=new H4(e,t,c);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function Y4(r,e,t){const i=he(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!fh(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ql(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Hl(i.remoteStore,a.targetId),Gl(i,a.targetId)})).catch(sa)):(Gl(i,a.targetId),await ql(i.localStore,a.targetId,!0))}async function X4(r,e){const t=he(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Hl(t.remoteStore,i.targetId))}async function J4(r,e,t){const i=cv(r);try{const a=await(function(c,d){const m=he(c),g=Je.now(),_=d.reduce(((R,k)=>R.add(k.key)),Ce());let v,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=On(),L=Ce();return m.Ns.getEntries(R,_).next((j=>{k=j,k.forEach(((J,ne)=>{ne.isValidDocument()||(L=L.add(J))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,k))).next((j=>{v=j;const J=[];for(const ne of d){const G=bk(ne,v.get(ne.key).overlayedDocument);G!=null&&J.push(new $i(ne.key,G,S1(G.value.mapValue),At.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,J,d)})).next((j=>{w=j;const J=j.applyToLocalDocumentSet(v,L);return m.documentOverlayCache.saveOverlays(R,j.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:z1(v)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new mt(Se)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,t),await Yi(i,a.changes),await iu(i.remoteStore)}catch(a){const l=au(a,"Failed to persist write");t.reject(l)}}async function ZI(r,e){const t=he(r);try{const i=await p4(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(_e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?_e(c.hu,14607):a.removedDocuments.size>0&&(_e(c.hu,42227),c.hu=!1))})),await Yi(t,i,e)}catch(i){await sa(i)}}function Zw(r,e,t){const i=he(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=he(c);m.onlineState=d;let g=!1;m.queries.forEach(((_,v)=>{for(const w of v.Sa)w.va(d)&&(g=!0)})),g&&rv(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function W4(r,e,t){const i=he(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new mt(ue.comparator);c=c.insert(l,yt.newNoDocument(l,Ee.min()));const d=Ce().add(l),m=new gh(Ee.min(),new Map,new mt(Se),c,d);await ZI(i,m),i.du=i.du.remove(l),i.Au.delete(e),uv(i)}else await ql(i.localStore,e,!1).then((()=>Gl(i,e,t))).catch(sa)}async function Z4(r,e){const t=he(r),i=e.batch.batchId;try{const a=await m4(t.localStore,e);lv(t,i,null),ov(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Yi(t,a)}catch(a){await sa(a)}}async function e6(r,e,t){const i=he(r);try{const a=await(function(c,d){const m=he(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next((v=>(_e(v!==null,37113),_=v.keys(),m.mutationQueue.removeMutationBatch(g,v)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>m.localDocuments.getDocuments(g,_)))}))})(i.localStore,e);lv(i,e,t),ov(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Yi(i,a)}catch(a){await sa(a)}}async function t6(r,e){const t=he(r);la(t.remoteStore)||oe(ua,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await(function(c){const d=he(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m)))})(t.localStore);if(i===Gs)return void e.resolve();const a=t.mu.get(i)||[];a.push(e),t.mu.set(i,a)}catch(i){const a=au(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function ov(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function lv(r,e,t){const i=he(r);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Gl(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||ex(r,i)}))}function ex(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Hl(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),uv(r))}function Yy(r,e,t){for(const i of t)i instanceof YI?(r.Ru.addReference(i.key,e),n6(r,i)):i instanceof XI?(oe(ua,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||ex(r,i.key)):me(19791,{wu:i})}function n6(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(oe(ua,"New document in limbo: "+t),r.Eu.add(i),uv(r))}function uv(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ue(Pe.fromString(e)),i=r.fu.next();r.Au.set(i,new G4(t)),r.du=r.du.insert(t,i),Nm(r.remoteStore,new Li(vn(eu(t.path)),i,"TargetPurposeLimboResolution",Dn.ce))}}async function Yi(r,e,t){const i=he(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){a.push(g);const _=Q_.As(m.targetId,g);l.push(_)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,g){const _=he(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>B.forEach(g,(w=>B.forEach(w.Es,(R=>_.persistence.referenceDelegate.addReference(v,w.targetId,R))).next((()=>B.forEach(w.ds,(R=>_.persistence.referenceDelegate.removeReference(v,w.targetId,R)))))))))}catch(v){if(!aa(v))throw v;oe($_,"Failed to update sequence numbers: "+v)}for(const v of g){const w=v.targetId;if(!v.fromCache){const R=_.Ms.get(w),k=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(w,L)}}})(i.localStore,l))}async function r6(r,e){const t=he(r);if(!t.currentUser.isEqual(e)){oe(ua,"User change. New user:",e.toKey());const i=await NI(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ie(Q.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yi(t,i.Ls)}}function i6(r,e){const t=he(r),i=t.Au.get(e);if(i&&i.hu)return Ce().add(i.key);{let a=Ce();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}async function s6(r,e){const t=he(r),i=await Xf(t.localStore,e.query,!0),a=e.view.cu(i);return t.isPrimaryClient&&Yy(t,e.targetId,a.au),a}async function a6(r,e){const t=he(r);return PI(t.localStore,e).then((i=>Yi(t,i)))}async function o6(r,e,t,i){const a=he(r),l=await(function(d,m){const g=he(d),_=he(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",(v=>_.er(v,m).next((w=>w?g.localDocuments.getDocuments(v,w):B.resolve(null)))))})(a.localStore,e);l!==null?(t==="pending"?await iu(a.remoteStore):t==="acknowledged"||t==="rejected"?(lv(a,e,i||null),ov(a,e),(function(d,m){he(he(d).mutationQueue).ir(m)})(a.localStore,e)):me(6720,"Unknown batchState",{Su:t}),await Yi(a,l)):oe(ua,"Cannot apply mutation batch with id: "+e)}async function l6(r,e){const t=he(r);if(Dm(t),cv(t),e===!0&&t.gu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),a=await eA(t,i.toArray());t.gu=!0,await Qy(t.remoteStore,!0);for(const l of a)Nm(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const i=[];let a=Promise.resolve();t.Iu.forEach(((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):a=a.then((()=>(Gl(t,c),ql(t.localStore,c,!0)))),Hl(t.remoteStore,c)})),await a,await eA(t,i),(function(c){const d=he(c);d.Au.forEach(((m,g)=>{Hl(d.remoteStore,g)})),d.Ru.Jr(),d.Au=new Map,d.du=new mt(ue.comparator)})(t),t.gu=!1,await Qy(t.remoteStore,!1)}}async function eA(r,e,t){const i=he(r),a=[],l=[];for(const c of e){let d;const m=i.Iu.get(c);if(m&&m.length!==0){d=await Fl(i.localStore,vn(m[0]));for(const g of m){const _=i.Tu.get(g),v=await s6(i,_);v.snapshot&&l.push(v.snapshot)}}else{const g=await OI(i.localStore,c);d=await Fl(i.localStore,g),await av(i,tx(g),c,!1,d.resumeToken)}a.push(d)}return i.Pu.H_(l),a}function tx(r){return O1(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function u6(r){return(function(t){return he(he(t).persistence).Ts()})(he(r).localStore)}async function c6(r,e,t,i){const a=he(r);if(a.gu)return void oe(ua,"Ignoring unexpected query state notification.");const l=a.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await PI(a.localStore,L1(l[0])),d=gh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Rt.EMPTY_BYTE_STRING);await Yi(a,c,d);break}case"rejected":await ql(a.localStore,e,!0),Gl(a,e,i);break;default:me(64155,t)}}async function h6(r,e,t){const i=Dm(r);if(i.gu){for(const a of e){if(i.Iu.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){oe(ua,"Adding an already active target "+a);continue}const l=await OI(i.localStore,a),c=await Fl(i.localStore,l);await av(i,tx(l),c.targetId,!1,c.resumeToken),Nm(i.remoteStore,c)}for(const a of t)i.Iu.has(a)&&await ql(i.localStore,a,!1).then((()=>{Hl(i.remoteStore,a),Gl(i,a)})).catch(sa)}}function Dm(r){const e=he(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W4.bind(null,e),e.Pu.H_=F4.bind(null,e.eventManager),e.Pu.yu=q4.bind(null,e.eventManager),e}function cv(r){const e=he(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=e6.bind(null,e),e}function d6(r,e,t){const i=he(r);(async function(l,c,d){try{const m=await c.getMetadata();if(await(function(R,k){const L=he(R),j=jt(k.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",(J=>L.Ii.getBundleMetadata(J,k.id))).then((J=>!!J&&J.createTime.compareTo(j)>=0))})(l.localStore,m))return await c.close(),d._completeWith((function(R){return{taskState:"Success",documentsLoaded:R.totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}})(m)),Promise.resolve(new Set);d._updateProgress($I(m));const g=new sv(m,c.serializer);let _=await c.bu();for(;_;){const w=await g.Ga(_);w&&d._updateProgress(w),_=await c.bu()}const v=await g.ja(l.localStore);return await Yi(l,v.Ha,void 0),await(function(R,k){const L=he(R);return L.persistence.runTransaction("Save bundle","readwrite",(j=>L.Ii.saveBundleMetadata(j,k)))})(l.localStore,m),d._completeWith(v.progress),Promise.resolve(v.Ja)}catch(m){return Qn(ua,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(i,e,t).then((a=>{i.sharedClientState.notifyBundleLoaded(a)}))}class Kl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_o(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return CI(this.persistence,new RI,e.initialUser,this.serializer)}Cu(e){return new H_(Cm.mi,this.serializer)}Du(e){return new UI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kl.provider={build:()=>new Kl};class hv extends Kl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_e(this.persistence.referenceDelegate instanceof Yf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bI(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new H_((i=>Yf.mi(i,t)),this.serializer)}}class dv extends Kl{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await cv(this.xu.syncEngine),await iu(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return CI(this.persistence,new RI,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new bI(i,e.asyncQueue,t)}Mu(e,t){const i=new IM(t,this.persistence);return new SM(e.asyncQueue,i)}Cu(e){const t=K_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new G_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,zI(),xf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new UI}}class nx extends dv{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof ay&&(this.sharedClientState.syncEngine={Co:o6.bind(null,t),vo:c6.bind(null,t),Fo:h6.bind(null,t),Ts:u6.bind(null,t),Do:a6.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async i=>{await l6(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(e){const t=zI();if(!ay.v(t))throw new ie(Q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=K_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ay(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Zs{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Zw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=r6.bind(null,this.syncEngine),await Qy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new B4})()}createDatastore(e){const t=_o(e.databaseInfo.databaseId),i=(function(l){return new w4(l)})(e.databaseInfo);return(function(l,c,d,m){return new x4(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new C4(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Zw(this.syncEngine,t,0)),(function(){return Kw.v()?new Kw:new v4})())}createSyncEngine(e,t){return(function(a,l,c,d,m,g,_){const v=new K4(a,l,c,d,m,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=he(t);oe(fo,"RemoteStore shutting down."),i.Ea.add(5),await ru(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zs.provider={build:()=>new Zs};function tA(r,e=10240){let t=0;return{async read(){if(t<r.byteLength){const i={value:r.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Vm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class f6{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new an,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((i=>{i&&i.$a()?this.metadata.resolve(i.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.Qa)}`))}),(i=>this.metadata.reject(i)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),i=Number(t);isNaN(i)&&this.Qu(`length string (${t}) is not valid number`);const a=await this.$u(i);return new QI(JSON.parse(a),e.length+i)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class m6{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let i=this.bu();if(!i||!i.$a())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(i?.Qa)}`);this.metadata=i;do i=this.bu(),i!==null&&this.elements.push(i);while(i!==null)}getMetadata(){return this.metadata}Wu(){return this.elements}bu(){if(this.cursor===this.bundleData.length)return null;const e=this.qu(),t=this.$u(e);return new QI(JSON.parse(t),e)}$u(e){if(this.cursor+e>this.bundleData.length)throw new ie(Q.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}qu(){const e=this.cursor;let t=this.cursor;for(;t<this.bundleData.length;){if(this.bundleData[t]==="{"){if(t===e)throw new Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw new Error("Reached the end of bundle when more is expected.")}}class p6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ie(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,l){const c=he(a),d={documents:l.map((v=>Jc(c.serializer,v)))},m=await c.Ho("BatchGetDocuments",c.serializer.databaseId,Pe.emptyPath(),d,l.length),g=new Map;m.forEach((v=>{const w=Dk(c.serializer,v);g.set(w.key.toString(),w)}));const _=[];return l.forEach((v=>{const w=g.get(v.toString());_e(!!w,55234,{key:v}),_.push(w)})),_})(this.datastore,e);return t.forEach((i=>this.recordVersion(i))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new nu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,i)=>{const a=ue.fromPath(i);this.mutations.push(new M_(a,this.precondition(a)))})),await(async function(i,a){const l=he(i),c={writes:a.map((d=>Wc(l.serializer,d)))};await l.Go("Commit",l.serializer.databaseId,Pe.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw me(50498,{Gu:e.constructor.name});t=Ee.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ie(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ee.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ee.min()))throw new ie(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class g6{constructor(e,t,i,a,l){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new X_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new p6(this.datastore),t=this.Hu(e);t&&t.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((a=>{this.Yu(a)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(e){try{const t=this.updateFunction(e);return!ch(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!J1(t)}return!1}}const ea="FirestoreClient";class y6{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=fm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{oe(ea,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(oe(ea,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new an;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=au(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ly(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ea,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await NI(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function nA(r,e){r.asyncQueue.verifyOperationInProgress();const t=await fv(r);oe(ea,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>$w(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>$w(e.remoteStore,a))),r._onlineComponents=e}async function fv(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ea,"Using user provided OfflineComponentProvider");try{await ly(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Qn("Error using user provided cache. Falling back to memory cache: "+t),await ly(r,new Kl)}}else oe(ea,"Using default OfflineComponentProvider"),await ly(r,new hv(void 0));return r._offlineComponents}async function Om(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ea,"Using user provided OnlineComponentProvider"),await nA(r,r._uninitializedComponentsProvider._online)):(oe(ea,"Using default OnlineComponentProvider"),await nA(r,new Zs))),r._onlineComponents}function rx(r){return fv(r).then((e=>e.persistence))}function ou(r){return fv(r).then((e=>e.localStore))}function ix(r){return Om(r).then((e=>e.remoteStore))}function mv(r){return Om(r).then((e=>e.syncEngine))}function sx(r){return Om(r).then((e=>e.datastore))}async function Ql(r){const e=await Om(r),t=e.eventManager;return t.onListen=Q4.bind(null,e.syncEngine),t.onUnlisten=Y4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=$4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=X4.bind(null,e.syncEngine),t}function _6(r){return r.asyncQueue.enqueue((async()=>{const e=await rx(r),t=await ix(r);return e.setNetworkEnabled(!0),(function(a){const l=he(a);return l.Ea.delete(0),_h(l)})(t)}))}function v6(r){return r.asyncQueue.enqueue((async()=>{const e=await rx(r),t=await ix(r);return e.setNetworkEnabled(!1),(async function(a){const l=he(a);l.Ea.add(0),await ru(l),l.Ra.set("Offline")})(t)}))}function E6(r,e){const t=new an;return r.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await(function(g,_){const v=he(g);return v.persistence.runTransaction("read document","readonly",(w=>v.localDocuments.getDocument(w,_)))})(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new ie(Q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=au(d,`Failed to get document '${l} from cache`);c.reject(m)}})(await ou(r),e,t))),t.promise}function ax(r,e,t={}){const i=new an;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const _=new Vm({next:w=>{_.Nu(),c.enqueueAndForget((()=>nv(l,v)));const R=w.docs.has(d);!R&&w.fromCache?g.reject(new ie(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&m&&m.source==="server"?g.reject(new ie(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new iv(eu(d.path),_,{includeMetadataChanges:!0,qa:!0});return tv(l,v)})(await Ql(r),r.asyncQueue,e,t,i))),i.promise}function T6(r,e){const t=new an;return r.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await Xf(a,l,!0),m=new JI(l,d.Qs),g=m.ru(d.documents),_=m.applyChanges(g,!1);c.resolve(_.snapshot)}catch(d){const m=au(d,`Failed to execute query '${l} against cache`);c.reject(m)}})(await ou(r),e,t))),t.promise}function ox(r,e,t={}){const i=new an;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const _=new Vm({next:w=>{_.Nu(),c.enqueueAndForget((()=>nv(l,v))),w.fromCache&&m.source==="server"?g.reject(new ie(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new iv(d,_,{includeMetadataChanges:!0,qa:!0});return tv(l,v)})(await Ql(r),r.asyncQueue,e,t,i))),i.promise}function b6(r,e,t){const i=new an;return r.asyncQueue.enqueueAndForget((async()=>{try{const a=await sx(r);i.resolve((async function(c,d,m){const g=he(c),{request:_,gt:v,parent:w}=lI(g.serializer,P1(d),m);g.connection.$o||delete _.parent;const R=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,w,_,1)).filter((L=>!!L.result));_e(R.length===1,64727);const k=R[0].result?.aggregateFields;return Object.keys(k).reduce(((L,j)=>(L[v[j]]=k[j],L)),{})})(a,e,t))}catch(a){i.reject(a)}})),i.promise}function w6(r,e){const t=new Vm(e);return r.asyncQueue.enqueueAndForget((async()=>(function(a,l){he(a).Ca.add(l),l.next()})(await Ql(r),t))),()=>{t.Nu(),r.asyncQueue.enqueueAndForget((async()=>(function(a,l){he(a).Ca.delete(l)})(await Ql(r),t)))}}function A6(r,e,t,i){const a=(function(c,d){let m;return m=typeof c=="string"?Z1().encode(c):c,(function(_,v){return new f6(_,v)})((function(_,v){if(_ instanceof Uint8Array)return tA(_,v);if(_ instanceof ArrayBuffer)return tA(new Uint8Array(_),v);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(m),d)})(t,_o(e));r.asyncQueue.enqueueAndForget((async()=>{d6(await mv(r),a,i)}))}function S6(r,e){return r.asyncQueue.enqueue((async()=>(function(i,a){const l=he(i);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Ii.getNamedQuery(c,a)))})(await ou(r),e)))}function lx(r,e){return(function(i,a){return new m6(i,a)})(r,e)}function I6(r,e){return r.asyncQueue.enqueue((async()=>(async function(i,a){const l=he(i),c=l.indexManager,d=[];return l.persistence.runTransaction("Configure indexes","readwrite",(m=>c.getFieldIndexes(m).next((g=>(function(v,w,R,k,L){v=[...v],w=[...w],v.sort(R),w.sort(R);const j=v.length,J=w.length;let ne=0,G=0;for(;ne<J&&G<j;){const W=R(v[G],w[ne]);W<0?L(v[G++]):W>0?k(w[ne++]):(ne++,G++)}for(;ne<J;)k(w[ne++]);for(;G<j;)L(v[G++])})(g,a,TM,(_=>{d.push(c.addFieldIndex(m,_))}),(_=>{d.push(c.deleteFieldIndex(m,_))})))).next((()=>B.waitFor(d)))))})(await ou(r),e)))}function x6(r,e){return r.asyncQueue.enqueue((async()=>(function(i,a){he(i).Fs.Vs=a})(await ou(r),e)))}function R6(r){return r.asyncQueue.enqueue((async()=>(function(t){const i=he(t),a=i.indexManager;return i.persistence.runTransaction("Delete All Indexes","readwrite",(l=>a.deleteAllFieldIndexes(l)))})(await ou(r))))}function ux(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const rA=new Map;const cx="firestore.googleapis.com",iA=!0;class sA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cx,this.ssl=iA}else this.host=e.host,this.ssl=e.ssl??iA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TI)throw new ie(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ux(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new $S;switch(i.type){case"firstParty":return new mM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=rA.get(t);i&&(oe("ComponentProvider","Removing Datastore"),rA.delete(t),i.terminate())})(this),Promise.resolve()}}function hx(r,e,t,i={}){r=Me(r,vh);const a=na(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(um(`https://${d}`),u_("Firestore",!0)),l.host!==cx&&l.host!==d&&Qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Nr(m,c)&&(r._setSettings(m),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=sn.MOCK_USER;else{g=XA(i.mockUserToken,r._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ie(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(v)}r._authCredentials=new hM(new QS(g,_))}}class Wt{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class rt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}toJSON(){return{type:rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(yo(t,rt._jsonSchema))return new rt(e,i||null,new ue(Pe.fromString(t.referencePath)))}}rt._jsonSchemaVersion="firestore/documentReference/1.0",rt._jsonSchema={type:Yt("string",rt._jsonSchemaVersion),referencePath:Yt("string")};class xr extends Wt{constructor(e,t,i){super(e,t,eu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new ue(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function Rf(r,e,...t){if(r=st(r),b_("collection","path",e),r instanceof vh){const i=Pe.fromString(e,...t);return Qb(i),new xr(r,null,i)}{if(!(r instanceof rt||r instanceof xr))throw new ie(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Pe.fromString(e,...t));return Qb(i),new xr(r.firestore,null,i)}}function C6(r,e){if(r=Me(r,vh),b_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wt(r,null,(function(i){return new Ki(Pe.emptyPath(),i)})(e))}function kc(r,e,...t){if(r=st(r),arguments.length===1&&(e=fm.newId()),b_("doc","path",e),r instanceof vh){const i=Pe.fromString(e,...t);return Kb(i),new rt(r,null,new ue(i))}{if(!(r instanceof rt||r instanceof xr))throw new ie(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Pe.fromString(e,...t));return Kb(i),new rt(r.firestore,r instanceof xr?r.converter:null,new ue(i))}}function N6(r,e){return r=st(r),e=st(e),(r instanceof rt||r instanceof xr)&&(e instanceof rt||e instanceof xr)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function pv(r,e){return r=st(r),e=st(e),r instanceof Wt&&e instanceof Wt&&r.firestore===e.firestore&&fh(r._query,e._query)&&r.converter===e.converter}const aA="AsyncQueue";class oA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X_(this,"async_queue_retry"),this._c=()=>{const i=xf();i&&oe(aA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=xf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new an;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!aa(e))throw e;oe(aA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Lt("INTERNAL UNHANDLED ERROR: ",lA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=ev.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&me(47125,{Pc:lA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function lA(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function xl(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(r,["next","error","complete"])}class dx{constructor(){this._progressObserver={},this._taskCompletionResolver=new an,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const D6=-1;class ct extends vh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new oA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oA(e),this._firestoreClient=void 0,await e}}}function V6(r,e,t){t||(t=Qc);const i=Jl(r,"firestore");if(i.isInitialized(t)){const a=i.getImmediate({identifier:t}),l=i.getOptions(t);if(Nr(l,e))return a;throw new ie(Q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ie(Q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TI)throw new ie(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&na(e.host)&&um(e.host),i.initialize({options:e,instanceIdentifier:t})}function fx(r,e){const t=typeof r=="object"?r:d_(),i=typeof r=="string"?r:e||Qc,a=Jl(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=QA("firestore");l&&hx(a,...l)}return a}function St(r){if(r._terminated)throw new ie(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mx(r),r._firestoreClient}function mx(r){const e=r._freezeSettings(),t=(function(a,l,c,d){return new tk(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ux(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new y6(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}function O6(r,e){Qn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings();return px(r,Zs.provider,{build:i=>new dv(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function P6(r){Qn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=r._freezeSettings();px(r,Zs.provider,{build:t=>new nx(t,e.cacheSizeBytes)})}function px(r,e,t){if((r=Me(r,ct))._firestoreClient||r._terminated)throw new ie(Q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new ie(Q.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},mx(r)}function M6(r){if(r._initialized&&!r._terminated)throw new ie(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new an;return r._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(i){if(!oi.v())return Promise.resolve();const a=i+xI;await oi.delete(a)})(K_(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function k6(r){return(function(t){const i=new an;return t.asyncQueue.enqueueAndForget((async()=>t6(await mv(t),i))),i.promise})(St(r=Me(r,ct)))}function L6(r){return _6(St(r=Me(r,ct)))}function j6(r){return v6(St(r=Me(r,ct)))}function U6(r){return OV(r.app,"firestore",r._databaseId.database),r._delete()}function Xy(r,e){const t=St(r=Me(r,ct)),i=new dx;return A6(t,r._databaseId,e,i),i}function gx(r,e){return S6(St(r=Me(r,ct)),e).then((t=>t?new Wt(r,null,t.query):null))}class $l{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class yx{constructor(e,t,i){this._userDataWriter=t,this._data=i,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Rt.fromBase64String(e))}catch(t){throw new ie(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yo(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Yt("string",Nn._jsonSchemaVersion),bytes:Yt("string")};class ca{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function z6(){return new ca(Sy)}class ha{constructor(e){this._methodName=e}}class Rr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(yo(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:Yt("string",Rr._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class cr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yo(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cr(e.vectorValues);throw new ie(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:Yt("string",cr._jsonSchemaVersion),vectorValues:Yt("object")};const B6=/^__.*__$/;class F6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,t,this.fieldTransforms):new tu(e,this.data,t,this.fieldTransforms)}}class _x{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new $i(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:r})}}class Pm{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Pm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return em(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vx(this.Ac)&&B6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class q6{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||_o(e)}Cc(e,t,i,a=!1){return new Pm({Ac:e,methodName:t,Dc:i,path:_t.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vo(r){const e=r._freezeSettings(),t=_o(r._databaseId);return new q6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Mm(r,e,t,i,a,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);bv("Data must be an object, but it was:",c,i);const d=bx(i,c);let m,g;if(l.merge)m=new Vn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const v of l.mergeFields){const w=Zc(e,v,t);if(!c.contains(w))throw new ie(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Ax(_,w)||_.push(w)}m=new Vn(_),g=c.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,g=c.fieldTransforms;return new F6(new mn(d),m,g)}class Eh extends ha{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Eh}}function Ex(r,e,t){return new Pm({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gv extends ha{_toFieldTransform(e){return new ph(e.path,new Ul)}isEqual(e){return e instanceof gv}}class yv extends ha{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Ex(this,e,!0),i=this.vc.map((l=>Eo(l,t))),a=new oo(i);return new ph(e.path,a)}isEqual(e){return e instanceof yv&&Nr(this.vc,e.vc)}}class _v extends ha{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Ex(this,e,!0),i=this.vc.map((l=>Eo(l,t))),a=new lo(i);return new ph(e.path,a)}isEqual(e){return e instanceof _v&&Nr(this.vc,e.vc)}}class vv extends ha{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new zl(e.serializer,q1(e.serializer,this.Fc));return new ph(e.path,t)}isEqual(e){return e instanceof vv&&this.Fc===e.Fc}}function Ev(r,e,t,i){const a=r.Cc(1,e,t);bv("Data must be an object, but it was:",a,i);const l=[],c=mn.empty();oa(i,((m,g)=>{const _=km(e,m,t);g=st(g);const v=a.yc(_);if(g instanceof Eh)l.push(_);else{const w=Eo(g,v);w!=null&&(l.push(_),c.set(_,w))}}));const d=new Vn(l);return new _x(c,d,a.fieldTransforms)}function Tv(r,e,t,i,a,l){const c=r.Cc(1,e,t),d=[Zc(e,i,t)],m=[a];if(l.length%2!=0)throw new ie(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(Zc(e,l[w])),m.push(l[w+1]);const g=[],_=mn.empty();for(let w=d.length-1;w>=0;--w)if(!Ax(g,d[w])){const R=d[w];let k=m[w];k=st(k);const L=c.yc(R);if(k instanceof Eh)g.push(R);else{const j=Eo(k,L);j!=null&&(g.push(R),_.set(R,j))}}const v=new Vn(g);return new _x(_,v,c.fieldTransforms)}function Tx(r,e,t,i=!1){return Eo(t,r.Cc(i?4:3,e))}function Eo(r,e){if(wx(r=st(r)))return bv("Unsupported field value:",e,r),bx(r,e);if(r instanceof ha)return(function(i,a){if(!vx(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=Eo(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=st(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return q1(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Je.fromDate(i);return{timestampValue:Bl(a.serializer,l)}}if(i instanceof Je){const l=new Je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bl(a.serializer,l)}}if(i instanceof Rr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nn)return{bytesValue:nI(a.serializer,i._byteString)};if(i instanceof rt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:z_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof cr)return(function(c,d){return{mapValue:{fields:{[C_]:{stringValue:N_},[kl]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return P_(d.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${mm(i)}`)})(r,e)}function bx(r,e){const t={};return g1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(r,((i,a)=>{const l=Eo(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function wx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Je||r instanceof Rr||r instanceof Nn||r instanceof rt||r instanceof ha||r instanceof cr)}function bv(r,e,t){if(!wx(t)||!JS(t)){const i=mm(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function Zc(r,e,t){if((e=st(e))instanceof ca)return e._internalPath;if(typeof e=="string")return km(r,e);throw em("Field path arguments must be of type string or ",r,!1,void 0,t)}const H6=new RegExp("[~\\*/\\[\\]]");function km(r,e,t){if(e.search(H6)>=0)throw em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ca(...e.split("."))._internalPath}catch{throw em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function em(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ie(Q.INVALID_ARGUMENT,d+r+m)}function Ax(r,e){return r.some((t=>t.isEqual(e)))}class eh{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class G6 extends eh{data(){return super.data()}}function Lm(r,e){return typeof e=="string"?km(r,e):e instanceof ca?e._internalPath:e._delegate._internalPath}function Sx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ie(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wv{}class lu extends wv{}function Jy(r,e,...t){let i=[];e instanceof wv&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof To)).length,d=l.filter((m=>m instanceof uu)).length;if(c>1||c>0&&d>0)throw new ie(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class uu extends lu{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new uu(e,t,i)}_apply(e){const t=this._parse(e);return Cx(e._query,t),new Wt(e.firestore,e.converter,ky(e._query,t))}_parse(e){const t=vo(e.firestore);return(function(l,c,d,m,g,_,v){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ie(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){cA(v,_);const k=[];for(const L of v)k.push(uA(m,l,L));w={arrayValue:{values:k}}}else w=uA(m,l,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||cA(v,_),w=Tx(d,c,v,_==="in"||_==="not-in");return qe.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ix(r,e,t){const i=e,a=Lm("where",r);return uu._create(a,i,t)}class To extends wv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new To(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:nt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)Cx(c,m),c=ky(c,m)})(e._query,t),new Wt(e.firestore,e.converter,ky(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function K6(...r){return r.forEach((e=>Nx("or",e))),To._create("or",r)}function Q6(...r){return r.forEach((e=>Nx("and",e))),To._create("and",r)}class jm extends lu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new jm(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ie(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ie(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xc(l,c)})(e._query,this._field,this._direction);return new Wt(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Ki(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function xx(r,e="asc"){const t=e,i=Lm("orderBy",r);return jm._create(i,t)}class Th extends lu{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new Th(e,t,i)}_apply(e){return new Wt(e.firestore,e.converter,Gf(e._query,this._limit,this._limitType))}}function $6(r){return WS("limit",r),Th._create("limit",r,"F")}function Y6(r){return WS("limitToLast",r),Th._create("limitToLast",r,"L")}class bh extends lu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new bh(e,t,i)}_apply(e){const t=Rx(e,this.type,this._docOrFields,this._inclusive);return new Wt(e.firestore,e.converter,(function(a,l){return new Ki(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(e._query,t))}}function X6(...r){return bh._create("startAt",r,!0)}function J6(...r){return bh._create("startAfter",r,!1)}class wh extends lu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new wh(e,t,i)}_apply(e){const t=Rx(e,this.type,this._docOrFields,this._inclusive);return new Wt(e.firestore,e.converter,(function(a,l){return new Ki(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)})(e._query,t))}}function W6(...r){return wh._create("endBefore",r,!1)}function Z6(...r){return wh._create("endAt",r,!0)}function Rx(r,e,t,i){if(t[0]=st(t[0]),t[0]instanceof eh)return(function(l,c,d,m,g){if(!m)throw new ie(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const v of Il(l))if(v.field.isKeyField())_.push(so(c,m.key));else{const w=m.data.field(v.field);if(vm(w))throw new ie(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const R=v.field.canonicalString();throw new ie(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}_.push(w)}return new Js(_,g)})(r._query,r.firestore._databaseId,e,t[0]._document,i);{const a=vo(r.firestore);return(function(c,d,m,g,_,v){const w=c.explicitOrderBy;if(_.length>w.length)throw new ie(Q.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let k=0;k<_.length;k++){const L=_[k];if(w[k].field.isKeyField()){if(typeof L!="string")throw new ie(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof L}`);if(!V_(c)&&L.indexOf("/")!==-1)throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${L}' contains a slash.`);const j=c.path.child(Pe.fromString(L));if(!ue.isDocumentKey(j))throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const J=new ue(j);R.push(so(d,J))}else{const j=Tx(m,g,L);R.push(j)}}return new Js(R,v)})(r._query,r.firestore._databaseId,a,e,t,i)}}function uA(r,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new ie(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V_(e)&&t.indexOf("/")!==-1)throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Pe.fromString(t));if(!ue.isDocumentKey(i))throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return so(r,new ue(i))}if(t instanceof rt)return so(r,t._key);throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mm(t)}.`)}function cA(r,e){if(!Array.isArray(r)||r.length===0)throw new ie(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cx(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Nx(r,e){if(!(e instanceof uu||e instanceof To))throw new ie(Q.INVALID_ARGUMENT,`Function ${r}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class Av{convertValue(e,t="none"){switch(Ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return oa(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[kl].arrayValue?.values?.map((i=>wt(i.doubleValue)));return new cr(t)}convertGeoPoint(e){return new Rr(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Em(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const t=Hi(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pe.fromString(e);_e(dI(i),9688,{name:e});const a=new $s(i.get(1),i.get(3)),l=new ue(i.popFirst(5));return a.isEqual(t)||Lt(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Um(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Sv extends Av{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,t)}}function eL(r){return new $l("sum",Zc("sum",r))}function tL(r){return new $l("avg",Zc("average",r))}function Dx(){return new $l("count")}function nL(r,e){return r instanceof $l&&e instanceof $l&&r.aggregateType===e.aggregateType&&r._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function rL(r,e){return pv(r.query,e.query)&&Nr(r.data(),e.data())}const Vx="NOT SUPPORTED";class ji{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pn extends eh{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Lm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Pn._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}function iL(r,e,t){if(yo(e,Pn._jsonSchema)){if(e.bundle===Vx)throw new ie(Q.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const i=_o(r._databaseId),a=lx(e.bundle,i),l=a.Wu(),c=new sv(a.getMetadata(),i);for(const _ of l)c.Ga(_);const d=c.documents;if(d.length!==1)throw new ie(Q.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${d.length} documents.`);const m=Am(i,d[0].document),g=new ue(Pe.fromString(e.bundleName));return new Pn(r,new Sv(r),g,m,new ji(!1,!1),t||null)}}Pn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pn._jsonSchema={type:Yt("string",Pn._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Lc extends Pn{data(e={}){return super.data(e)}}class Mn{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ji(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Lc(this._firestore,this._userDataWriter,i.key,i,new ji(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Lc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ji(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Lc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ji(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:aL(d.type),doc:m,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mn._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function sL(r,e,t){if(yo(e,Mn._jsonSchema)){if(e.bundle===Vx)throw new ie(Q.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const i=_o(r._databaseId),a=lx(e.bundle,i),l=a.Wu(),c=new sv(a.getMetadata(),i);for(const w of l)c.Ga(w);if(c.queries.length!==1)throw new ie(Q.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${c.queries.length} queries.`);const d=Im(c.queries[0].bundledQuery),m=c.documents;let g=new to;m.map((w=>{const R=Am(i,w.document);g=g.add(R)}));const _=mo.fromInitialDocuments(d,g,Ce(),!1,!1),v=new Wt(r,t||null,d);return new Mn(r,new Sv(r),v,_)}}function aL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:r})}}function oL(r,e){return r instanceof Pn&&e instanceof Pn?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(r._document===null?e._document===null:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Mn&&e instanceof Mn&&r._firestore===e._firestore&&pv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function lL(r){r=Me(r,rt);const e=Me(r.firestore,ct);return ax(St(e),r._key).then((t=>Iv(e,r,t)))}Mn._jsonSchemaVersion="firestore/querySnapshot/1.0",Mn._jsonSchema={type:Yt("string",Mn._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class da extends Av{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,t)}}function uL(r){r=Me(r,rt);const e=Me(r.firestore,ct),t=St(e),i=new da(e);return E6(t,r._key).then((a=>new Pn(e,i,r._key,a,new ji(a!==null&&a.hasLocalMutations,!0),r.converter)))}function cL(r){r=Me(r,rt);const e=Me(r.firestore,ct);return ax(St(e),r._key,{source:"server"}).then((t=>Iv(e,r,t)))}function Wy(r){r=Me(r,Wt);const e=Me(r.firestore,ct),t=St(e),i=new da(e);return Sx(r._query),ox(t,r._query).then((a=>new Mn(e,i,r,a)))}function hL(r){r=Me(r,Wt);const e=Me(r.firestore,ct),t=St(e),i=new da(e);return T6(t,r._query).then((a=>new Mn(e,i,r,a)))}function dL(r){r=Me(r,Wt);const e=Me(r.firestore,ct),t=St(e),i=new da(e);return ox(t,r._query,{source:"server"}).then((a=>new Mn(e,i,r,a)))}function fL(r,e,t){r=Me(r,rt);const i=Me(r.firestore,ct),a=Um(r.converter,e,t);return cu(i,[Mm(vo(i),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,At.none())])}function Ox(r,e,t,...i){r=Me(r,rt);const a=Me(r.firestore,ct),l=vo(a);let c;return c=typeof(e=st(e))=="string"||e instanceof ca?Tv(l,"updateDoc",r._key,e,t,i):Ev(l,"updateDoc",r._key,e),cu(a,[c.toMutation(r._key,At.exists(!0))])}function Px(r){return cu(Me(r.firestore,ct),[new nu(r._key,At.none())])}function Mx(r,e){const t=Me(r.firestore,ct),i=kc(r),a=Um(r.converter,e);return cu(t,[Mm(vo(r.firestore),"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,At.exists(!1))]).then((()=>i))}function Zy(r,...e){r=st(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||xl(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xl(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,c,d;if(r instanceof rt)c=Me(r.firestore,ct),d=eu(r._key.path),l={next:m=>{e[i]&&e[i](Iv(c,r,m))},error:e[i+1],complete:e[i+2]};else{const m=Me(r,Wt);c=Me(m.firestore,ct),d=m._query;const g=new da(c);l={next:_=>{e[i]&&e[i](new Mn(c,g,m,_))},error:e[i+1],complete:e[i+2]},Sx(r._query)}return(function(g,_,v,w){const R=new Vm(w),k=new iv(_,R,v);return g.asyncQueue.enqueueAndForget((async()=>tv(await Ql(g),k))),()=>{R.Nu(),g.asyncQueue.enqueueAndForget((async()=>nv(await Ql(g),k)))}})(St(c),d,a,l)}function mL(r,e,...t){const i=st(r),a=(function(m){const g={bundle:"",bundleName:"",bundleSource:""},_=["bundle","bundleName","bundleSource"];for(const v of _){if(!(v in m)){g.error=`snapshotJson missing required field: ${v}`;break}const w=m[v];if(typeof w!="string"){g.error=`snapshotJson field '${v}' must be a string.`;break}if(w.length===0){g.error=`snapshotJson field '${v}' cannot be an empty string.`;break}v==="bundle"?g.bundle=w:v==="bundleName"?g.bundleName=w:v==="bundleSource"&&(g.bundleSource=w)}return g})(e);if(a.error)throw new ie(Q.INVALID_ARGUMENT,a.error);let l,c=0;if(typeof t[c]!="object"||xl(t[c])||(l=t[c++]),a.bundleSource==="QuerySnapshot"){let d=null;if(typeof t[c]=="object"&&xl(t[c])){const m=t[c++];d={next:m.next,error:m.error,complete:m.complete}}else d={next:t[c++],error:t[c++],complete:t[c++]};return(function(g,_,v,w,R){let k,L=!1;return Xy(g,_.bundle).then((()=>gx(g,_.bundleName))).then((J=>{J&&!L&&(R&&J.withConverter(R),k=Zy(J,v||{},w))})).catch((J=>(w.error&&w.error(J),()=>{}))),()=>{L||(L=!0,k&&k())}})(i,a,l,d,t[c])}if(a.bundleSource==="DocumentSnapshot"){let d=null;if(typeof t[c]=="object"&&xl(t[c])){const m=t[c++];d={next:m.next,error:m.error,complete:m.complete}}else d={next:t[c++],error:t[c++],complete:t[c++]};return(function(g,_,v,w,R){let k,L=!1;return Xy(g,_.bundle).then((()=>{if(!L){const J=new rt(g,R||null,ue.fromPath(_.bundleName));k=Zy(J,v||{},w)}})).catch((J=>(w.error&&w.error(J),()=>{}))),()=>{L||(L=!0,k&&k())}})(i,a,l,d,t[c])}throw new ie(Q.INVALID_ARGUMENT,`unsupported bundle source: ${a.bundleSource}`)}function pL(r,e){return w6(St(r=Me(r,ct)),xl(e)?e:{next:e})}function cu(r,e){return(function(i,a){const l=new an;return i.asyncQueue.enqueueAndForget((async()=>J4(await mv(i),a,l))),l.promise})(St(r),e)}function Iv(r,e,t){const i=t.docs.get(e._key),a=new da(r);return new Pn(r,a,e._key,i,new ji(t.hasPendingWrites,t.fromCache),e.converter)}function gL(r){return kx(r,{count:Dx()})}function kx(r,e){const t=Me(r.firestore,ct),i=St(t),a=p1(e,((l,c)=>new X1(c,l.aggregateType,l._internalFieldPath)));return b6(i,r._query,a).then((l=>(function(d,m,g){const _=new da(d);return new yx(m,_,g)})(t,r,l)))}class yL{constructor(e){this.kind="memory",this._onlineComponentProvider=Zs.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new hv(void 0)}}toJSON(){return{kind:this.kind}}}class _L{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=Lx(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class vL{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Kl.provider}toJSON(){return{kind:this.kind}}}class EL{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new hv(e)}}toJSON(){return{kind:this.kind}}}function TL(){return new vL}function bL(r){return new EL(r?.cacheSizeBytes)}function wL(r){return new yL(r)}function AL(r){return new _L(r)}class SL{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Zs.provider,this._offlineComponentProvider={build:t=>new dv(t,e?.cacheSizeBytes,this.forceOwnership)}}}class IL{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Zs.provider,this._offlineComponentProvider={build:t=>new nx(t,e?.cacheSizeBytes)}}}function Lx(r){return new SL(r?.forceOwnership)}function xL(){return new IL}const RL={maxAttempts:5};class jx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vo(e)}set(e,t,i){this._verifyNotCommitted();const a=zs(e,this._firestore),l=Um(a.converter,t,i),c=Mm(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,At.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=zs(e,this._firestore);let c;return c=typeof(t=st(t))=="string"||t instanceof ca?Tv(this._dataReader,"WriteBatch.update",l._key,t,i,a):Ev(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zs(e,this._firestore);return this._mutations=this._mutations.concat(new nu(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zs(r,e){if((r=st(r)).firestore!==e)throw new ie(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class CL{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vo(e)}get(e){const t=zs(e,this._firestore),i=new Sv(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return me(24041);const l=a[0];if(l.isFoundDocument())return new eh(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new eh(this._firestore,i,t._key,null,t.converter);throw me(18433,{doc:l})}))}set(e,t,i){const a=zs(e,this._firestore),l=Um(a.converter,t,i),c=Mm(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,c),this}update(e,t,i,...a){const l=zs(e,this._firestore);let c;return c=typeof(t=st(t))=="string"||t instanceof ca?Tv(this._dataReader,"Transaction.update",l._key,t,i,a):Ev(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=zs(e,this._firestore);return this._transaction.delete(t._key),this}}class Ux extends CL{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zs(e,this._firestore),i=new da(this._firestore);return super.get(e).then((a=>new Pn(this._firestore,i,t._key,a._document,new ji(!1,!1),t.converter)))}}function NL(r,e,t){r=Me(r,ct);const i={...RL,...t};return(function(l){if(l.maxAttempts<1)throw new ie(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(l,c,d){const m=new an;return l.asyncQueue.enqueueAndForget((async()=>{const g=await sx(l);new g6(l.asyncQueue,g,d,c,m).ju()})),m.promise})(St(r),(a=>e(new Ux(r,a))),i)}function DL(){return new Eh("deleteField")}function VL(){return new gv("serverTimestamp")}function OL(...r){return new yv("arrayUnion",r)}function PL(...r){return new _v("arrayRemove",r)}function ML(r){return new vv("increment",r)}function kL(r){return new cr(r)}function LL(r){return St(r=Me(r,ct)),new jx(r,(e=>cu(r,e)))}function jL(r,e){const t=St(r=Me(r,ct));if(!t._uninitializedComponentsProvider||t._uninitializedComponentsProvider._offline.kind==="memory")return Qn("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=(function(l){const c=typeof l=="string"?(function(g){try{return JSON.parse(g)}catch(_){throw new ie(Q.INVALID_ARGUMENT,"Failed to parse JSON: "+_?.message)}})(l):l,d=[];if(Array.isArray(c.indexes))for(const m of c.indexes){const g=hA(m,"collectionGroup"),_=[];if(Array.isArray(m.fields))for(const v of m.fields){const w=km("setIndexConfiguration",hA(v,"fieldPath"));v.arrayConfig==="CONTAINS"?_.push(new Za(w,2)):v.order==="ASCENDING"?_.push(new Za(w,0)):v.order==="DESCENDING"&&_.push(new Za(w,1))}d.push(new Nl(Nl.UNKNOWN_ID,g,_,Dl.empty()))}return d})(e);return I6(t,i)}function hA(r,e){if(typeof r[e]!="string")throw new ie(Q.INVALID_ARGUMENT,"Missing string value for: "+e);return r[e]}class zx{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function UL(r){r=Me(r,ct);const e=dA.get(r);if(e)return e;if(St(r)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const i=new zx(r);return dA.set(r,i),i}function zL(r){Bx(r,!0)}function BL(r){Bx(r,!1)}function FL(r){R6(St(r._firestore)).then((e=>oe("deleting all persistent cache indexes succeeded"))).catch((e=>Qn("deleting all persistent cache indexes failed",e)))}function Bx(r,e){x6(St(r._firestore),e).then((t=>oe(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((t=>Qn(`setting persistent cache index auto creation isEnabled=${e} failed`,t)))}const dA=new WeakMap;function qL(r){const e=St(Me(r.firestore,ct)),t=e._onlineComponents?.datastore.serializer;return t===void 0?null:Sm(t,vn(r._query)).ft}function HL(r,e){const t=p1(e,((l,c)=>new X1(c,l.aggregateType,l._internalFieldPath))),i=St(Me(r.firestore,ct)),a=i._onlineComponents?.datastore.serializer;return a===void 0?null:lI(a,P1(r._query),t,!0).request}class GL{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return xv.instance.onExistenceFilterMismatch(e)}}class xv{constructor(){this.Mc=new Map}static get instance(){return uf||(uf=new xv,(function(t){if(Ly)throw new Error("a TestingHooksSpi instance is already set");Ly=t})(uf)),uf}lt(e){this.Mc.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),i=this.Mc;return i.set(t,e),()=>i.delete(t)}}let uf=null;(function(e,t=!0){(function(a){Zl=a})(po),no(new Ks("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ct(new dM(i.getProvider("auth-internal")),new pM(c,i.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ie(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(g.options.projectId,_)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ii(Hb,Gb,e),ii(Hb,Gb,"esm2020")})();const KL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:Av,AggregateField:$l,AggregateQuerySnapshot:yx,Bytes:Nn,CACHE_SIZE_UNLIMITED:D6,CollectionReference:xr,DocumentReference:rt,DocumentSnapshot:Pn,FieldPath:ca,FieldValue:ha,Firestore:ct,FirestoreError:ie,GeoPoint:Rr,LoadBundleTask:dx,PersistentCacheIndexManager:zx,Query:Wt,QueryCompositeFilterConstraint:To,QueryConstraint:lu,QueryDocumentSnapshot:Lc,QueryEndAtConstraint:wh,QueryFieldFilterConstraint:uu,QueryLimitConstraint:Th,QueryOrderByConstraint:jm,QuerySnapshot:Mn,QueryStartAtConstraint:bh,SnapshotMetadata:ji,Timestamp:Je,Transaction:Ux,VectorValue:cr,WriteBatch:jx,_AutoId:fm,_ByteString:Rt,_DatabaseId:$s,_DocumentKey:ue,_EmptyAppCheckTokenProvider:gM,_EmptyAuthCredentialsProvider:$S,_FieldPath:_t,_TestingHooks:GL,_cast:Me,_debugAssert:cM,_internalAggregationQueryToProtoRunAggregationQueryRequest:HL,_internalQueryToProtoQueryTarget:qL,_isBase64Available:ZM,_logWarn:Qn,_validateIsNotUsedTogether:XS,addDoc:Mx,aggregateFieldEqual:nL,aggregateQuerySnapshotEqual:rL,and:Q6,arrayRemove:PL,arrayUnion:OL,average:tL,clearIndexedDbPersistence:M6,collection:Rf,collectionGroup:C6,connectFirestoreEmulator:hx,count:Dx,deleteAllPersistentCacheIndexes:FL,deleteDoc:Px,deleteField:DL,disableNetwork:j6,disablePersistentCacheIndexAutoCreation:BL,doc:kc,documentId:z6,documentSnapshotFromJSON:iL,enableIndexedDbPersistence:O6,enableMultiTabIndexedDbPersistence:P6,enableNetwork:L6,enablePersistentCacheIndexAutoCreation:zL,endAt:Z6,endBefore:W6,ensureFirestoreConfigured:St,executeWrite:cu,getAggregateFromServer:kx,getCountFromServer:gL,getDoc:lL,getDocFromCache:uL,getDocFromServer:cL,getDocs:Wy,getDocsFromCache:hL,getDocsFromServer:dL,getFirestore:fx,getPersistentCacheIndexManager:UL,increment:ML,initializeFirestore:V6,limit:$6,limitToLast:Y6,loadBundle:Xy,memoryEagerGarbageCollector:TL,memoryLocalCache:wL,memoryLruGarbageCollector:bL,namedQuery:gx,onSnapshot:Zy,onSnapshotResume:mL,onSnapshotsInSync:pL,or:K6,orderBy:xx,persistentLocalCache:AL,persistentMultipleTabManager:xL,persistentSingleTabManager:Lx,query:Jy,queryEqual:pv,querySnapshotFromJSON:sL,refEqual:N6,runTransaction:NL,serverTimestamp:VL,setDoc:fL,setIndexConfiguration:jL,setLogLevel:uM,snapshotEqual:oL,startAfter:J6,startAt:X6,sum:eL,terminate:U6,updateDoc:Ox,vector:kL,waitForPendingWrites:k6,where:Ix,writeBatch:LL},Symbol.toStringTag,{value:"Module"}));const Fx="firebasestorage.googleapis.com",QL="storageBucket",$L=120*1e3,YL=600*1e3;class mi extends fi{constructor(e,t,i=0){super(uy(e),`Firebase Storage: ${t} (${uy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hi||(hi={}));function uy(r){return"storage/"+r}function XL(){const r="An unknown error occurred, please check the error payload for server response.";return new mi(hi.UNKNOWN,r)}function JL(){return new mi(hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WL(){return new mi(hi.CANCELED,"User canceled the upload/download.")}function ZL(r){return new mi(hi.INVALID_URL,"Invalid URL '"+r+"'.")}function e3(r){return new mi(hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function fA(r){return new mi(hi.INVALID_ARGUMENT,r)}function qx(){return new mi(hi.APP_DELETED,"The Firebase app was deleted.")}function t3(r){return new mi(hi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ir{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Ir.makeFromUrl(e,t)}catch{return new Ir(e,"")}if(i.path==="")return i;throw e3(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(W){W.path_=decodeURIComponent(W.path)}const _="v[A-Za-z0-9_]+",v=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${v}/${_}/b/${a}/o${w}`,"i"),k={bucket:1,path:3},L=t===Fx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",J=new RegExp(`^https?://${L}/${a}/${j}`,"i"),G=[{regex:d,indices:m,postModify:l},{regex:R,indices:k,postModify:g},{regex:J,indices:{bucket:1,path:2},postModify:g}];for(let W=0;W<G.length;W++){const le=G[W],pe=le.regex.exec(e);if(pe){const C=pe[le.indices.bucket];let x=pe[le.indices.path];x||(x=""),i=new Ir(C,x),le.postModify(i);break}}if(i==null)throw ZL(e);return i}}class n3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function r3(r,e,t){let i=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function _(...j){g||(g=!0,e.apply(null,j))}function v(j){a=setTimeout(()=>{a=null,r(R,m())},j)}function w(){l&&clearTimeout(l)}function R(j,...J){if(g){w();return}if(j){w(),_.call(null,j,...J);return}if(m()||c){w(),_.call(null,j,...J);return}i<64&&(i*=2);let G;d===1?(d=2,G=0):G=(i+Math.random())*1e3,v(G)}let k=!1;function L(j){k||(k=!0,w(),!g&&(a!==null?(j||(d=2),clearTimeout(a),v(0)):j||(d=1)))}return v(0),l=setTimeout(()=>{c=!0,L(!0)},t),L}function i3(r){r(!1)}function s3(r){return r!==void 0}function mA(r,e,t,i){if(i<e)throw fA(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>t)throw fA(`Invalid value for '${r}'. Expected ${t} or less.`)}function a3(r){const e=encodeURIComponent;let t="?";for(const i in r)if(r.hasOwnProperty(i)){const a=e(i)+"="+e(r[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var tm;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(tm||(tm={}));function o3(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||a||l}class l3{constructor(e,t,i,a,l,c,d,m,g,_,v,w=!0,R=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,L)=>{this.resolve_=k,this.reject_=L,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new cf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===tm.NO_ERROR,m=l.getStatus();if(!d||o3(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===tm.ABORT;i(!1,new cf(!1,null,_));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new cf(g,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());s3(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=XL();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?qx():WL();c(m)}else{const m=JL();c(m)}};this.canceled_?t(!1,new cf(!1,null,!0)):this.backoffId_=r3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function u3(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function c3(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function h3(r,e){e&&(r["X-Firebase-GMPID"]=e)}function d3(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function f3(r,e,t,i,a,l,c=!0,d=!1){const m=a3(r.urlParams),g=r.url+m,_=Object.assign({},r.headers);return h3(_,e),u3(_,t),c3(_,l),d3(_,i),new l3(g,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,c,d)}function m3(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function p3(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class nm{constructor(e,t){this._service=e,t instanceof Ir?this._location=t:this._location=Ir.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new nm(e,t)}get root(){const e=new Ir(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return p3(this._location.path)}get storage(){return this._service}get parent(){const e=m3(this._location.path);if(e===null)return null;const t=new Ir(this._location.bucket,e);return new nm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw t3(e)}}function pA(r,e){const t=e?.[QL];return t==null?null:Ir.makeFromBucketSpec(t,r)}function g3(r,e,t,i={}){r.host=`${e}:${t}`;const a=na(e);a&&(um(`https://${r.host}/b`),u_("Storage",!0)),r._isUsingEmulator=!0,r._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(r._overrideAuthToken=typeof l=="string"?l:XA(l,r.app.options.projectId))}class y3{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=Fx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$L,this._maxUploadRetryTime=YL,this._requests=new Set,a!=null?this._bucket=Ir.makeFromBucketSpec(a,this._host):this._bucket=pA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ir.makeFromBucketSpec(this._url,e):this._bucket=pA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nm(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new n3(qx());{const c=f3(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const gA="@firebase/storage",yA="0.14.0";const Hx="storage";function _3(r=d_(),e){r=st(r);const i=Jl(r,Hx).getImmediate({identifier:e}),a=QA("storage");return a&&v3(i,...a),i}function v3(r,e,t,i={}){g3(r,e,t,i)}function E3(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new y3(t,i,a,e,po)}function T3(){no(new Ks(Hx,E3,"PUBLIC").setMultipleInstances(!0)),ii(gA,yA,""),ii(gA,yA,"esm2020")}T3();const b3={apiKey:"AIzaSyBkxA8j3wMKe35OmBaC5I66dIEIVBp5wCY",authDomain:"achariyacareerportal.firebaseapp.com",projectId:"achariyacareerportal",storageBucket:"achariyacareerportal.firebasestorage.app",messagingSenderId:"833209254200",appId:"1:833209254200:web:503076e5609d334121c1cd"},Rv=rS(b3),hf=oM(Rv),pl=fx(Rv);_3(Rv);const gl="jobs",cy=(r,e)=>({id:r,...e,location:Array.isArray(e.location)?e.location:e.location?[e.location]:[]}),Bs={getAllJobs:async()=>{try{const r=Jy(Rf(pl,gl),xx("createdAt","desc"));return(await Wy(r)).docs.map(t=>cy(t.id,t.data()))}catch(r){throw console.error("Error fetching jobs:",r),r}},getJobById:async r=>{try{const e=kc(pl,gl,r),t=await fD(()=>Promise.resolve().then(()=>KL),[]).then(i=>i.getDoc(e));return t.exists()?cy(t.id,t.data()):null}catch(e){throw console.error("Error fetching job by ID:",e),e}},getJobByApplicationId:async r=>{try{const e=Jy(Rf(pl,gl),Ix("applicationId","==",r)),t=await Wy(e);if(!t.empty){const i=t.docs[0];return cy(i.id,i.data())}return null}catch(e){throw console.error("Error fetching job by Application ID:",e),e}},addJob:async r=>{try{return(await Mx(Rf(pl,gl),{...r,createdAt:new Date().toISOString()})).id}catch(e){throw console.error("Error adding job:",e),e}},updateJob:async(r,e)=>{try{const t=kc(pl,gl,r),{id:i,...a}=e;await Ox(t,a)}catch(t){throw console.error("Error updating job:",t),t}},deleteJob:async r=>{try{await Px(kc(pl,gl,r))}catch(e){throw console.error("Error deleting job:",e),e}}},w3="/assets/college_campus_modern_1767347532376-DvXjtGmV.png",A3="/assets/school_modern_classroom_1767347506078-S4Yg-54F.png",S3="/assets/corporate_modern_office_1767347559347-Dpg8oMzW.png",I3="/assets/Achariya-Logo-01-scaled-Bp2OreWC.avif";function x3(){const[r,e]=F.useState({School:0,College:0,Corporate:0}),[t,i]=F.useState(!0);F.useEffect(()=>{(async()=>{try{const d=await Bs.getAllJobs();e({School:d.filter(m=>m.category==="School").length,College:d.filter(m=>m.category==="College").length,Corporate:d.filter(m=>m.category==="Corporate").length})}catch(d){console.error(d)}finally{i(!1)}})()},[]);const a=c=>t?"":r[c],l=r.School+r.College+r.Corporate;return E.jsxs("div",{className:"min-h-screen font-sans text-gray-900 overflow-x-hidden",children:[E.jsx("header",{className:" w-full  bg-[#C72323] shadow-lg",children:E.jsxs("div",{className:"container mx-auto px-6 py-1 flex justify-between items-center",children:[E.jsx("h1",{className:"text-2xl font-bold text-white",children:"Achariya Careers"}),E.jsx("img",{src:I3,alt:"Achariya",width:80})]})}),E.jsxs("main",{className:" bg-white/70 container mx-auto",children:[E.jsxs("section",{className:"text-center py-16 max-w-4xl mx-auto",children:[E.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["Build Your Career with"," ",E.jsx("span",{className:"text-[#C72323]",children:"Achariya"})]}),E.jsx("p",{className:"text-lg text-gray-600",children:"Join a multi-institutional education group shaping future leaders across Schools, Colleges, and Corporate divisions."})]}),E.jsx("section",{className:"max-w-6xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-6 mb-20",children:[{label:"Institutions",value:"36+"},{label:"Employees",value:"2500+"},{label:"Years of Excellence",value:"25+"},{label:"Open Positions",value:l}].map((c,d)=>E.jsxs("div",{className:"bg-white rounded-xl border shadow-sm py-8 text-center hover:shadow-md transition",children:[E.jsx("p",{className:"text-3xl font-extrabold text-[#C72323]",children:t?"":c.value}),E.jsx("p",{className:"text-sm text-gray-600 mt-2",children:c.label})]},d))}),E.jsx("hr",{className:"py-4 pb-12 container mx-12"}),E.jsxs("section",{className:"max-w-4xl mx-auto text-center px-6 mb-12",children:[E.jsxs("h2",{className:"text-3xl font-bold mb-4",children:["Who We Are ",E.jsx("span",{className:"text-[#C72323]",children:"?"})]}),E.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:"Achariya is committed to academic excellence, innovation, and inclusive growth. We empower educators, administrators, and professionals to build meaningful long-term careers."}),E.jsx("div",{className:"mt-4 flex flex-wrap justify-center gap-6 text-sm",children:["Ethical Leadership","Transparent Hiring","Career Growth"].map((c,d)=>E.jsxs("span",{className:"flex items-center gap-2 text-gray-700",children:[E.jsx(x2,{className:"text-green-600 w-5 h-5"}),c]},d))})]}),E.jsx("section",{id:"categories",className:"max-w-7xl mx-auto px-6 mb-24",children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"School",img:A3,icon:E.jsx(E2,{}),desc:"Teaching & Non-Teaching roles",count:a("School"),link:"/school"},{title:"College",img:w3,icon:E.jsx(P2,{}),desc:"Faculty & Academic roles",count:a("College"),link:"/college"},{title:"Corporate",img:S3,icon:E.jsx(_2,{}),desc:"Tech, HR & Management roles",count:a("Corporate"),link:"/corporate"}].map((c,d)=>E.jsxs(ui,{to:c.link,className:"group relative h-96 rounded-xl overflow-hidden shadow-xl hover:-translate-y-2 transition-all",children:[E.jsx("img",{src:c.img,alt:c.title,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),E.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),E.jsxs("span",{className:"absolute top-4 right-4 bg-white text-black px-3 py-1 rounded-full text-sm font-semibold shadow",children:[c.count," Openings"]}),E.jsxs("div",{className:"absolute bottom-0 p-6 text-white",children:[E.jsx("div",{className:"w-12 h-12 bg-[#C72323] rounded-lg flex items-center justify-center mb-4",children:c.icon}),E.jsx("h3",{className:"text-2xl font-bold mb-1",children:c.title}),E.jsx("p",{className:"text-sm text-white/80 mb-4",children:c.desc}),E.jsxs("span",{className:"inline-flex items-center gap-2 bg-white text-black px-4 py-2 rounded-full font-medium",children:["View Openings ",E.jsx(g2,{size:16})]})]})]},d))})}),E.jsxs("section",{className:"py-20 text-center bg-gradient-to-r from-[#C72323] to-red-700 text-white",children:[E.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Shape the Future?"}),E.jsx("p",{className:"max-w-xl mx-auto mb-8 text-white/90",children:"Explore opportunities and become part of a growing education ecosystem."}),E.jsx("button",{onClick:()=>document.getElementById("categories")?.scrollIntoView({behavior:"smooth"}),className:"bg-white text-[#C72323] px-8 py-4 rounded-full font-semibold hover:scale-105 transition",children:"View All Openings"})]}),E.jsx("section",{className:"bg-white/70 py-20",children:E.jsxs("div",{className:"max-w-6xl bg-white/70 mx-auto px-6",children:[E.jsxs("h2",{className:"text-3xl font-bold text-center mb-12",children:["Why Choose Achariya ",E.jsx("span",{className:"text-[#C72323]",children:"?"})]}),E.jsx("div",{className:"bg-white/70 grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:E.jsx(k2,{}),title:"Inclusive Culture",desc:"Respect, diversity, and collaboration at every level."},{icon:E.jsx(rD,{}),title:"Career Growth",desc:"Clear pathways, learning programs, and mentorship."},{icon:E.jsx(cD,{}),title:"Impactful Work",desc:"Contribute to meaningful education initiatives."}].map((c,d)=>E.jsxs("div",{className:"bg-white/70 border border-gray-300 p-8 rounded-xl shadow-sm hover:shadow-md transition text-center",children:[E.jsx("div",{className:"w-12 h-12 mx-auto bg-[#C72323]/10 text-[#C72323] rounded-full flex items-center justify-center mb-4",children:c.icon}),E.jsx("h3",{className:"font-bold mb-2",children:c.title}),E.jsx("p",{className:"text-gray-600 text-sm",children:c.desc})]},d))})]})})]}),E.jsxs("footer",{className:"bg-gray-900 text-gray-400 py-10 text-center",children:[E.jsx("p",{className:"text-white font-semibold mb-2",children:"Achariya Careers"}),E.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," Achariya Group. All rights reserved."]})]})]})}function R3({openings:r}){const e=im();return E.jsx("section",{className:"space-y-12 backdrop-blur-sm bg-white/60 p-6 rounded-2xl",children:E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:r.map(t=>E.jsxs("button",{onClick:()=>{const i=t.applicationId||t.id;e(`/${t.category}/${i}`)},className:"border border-gray-200 text-left transition-all p-6 rounded-xl flex flex-col h-full hover:border-gray-400 hover:shadow-md",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:t.roleTitle}),E.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 mb-4",children:[E.jsxs("span",{className:"flex items-center",children:[E.jsx(am,{className:"w-4 h-4 mr-1 shrink-0"}),E.jsx("span",{className:"truncate",children:t.department})]}),E.jsxs("span",{className:"flex items-center",children:[E.jsx(om,{className:"w-4 h-4 mr-1 shrink-0"}),E.jsx("span",{className:"truncate",children:Array.isArray(t.location)?t.location.join(", "):t.location})]})]}),E.jsx("p",{className:"text-sm text-gray-700 line-clamp-3 mb-4",children:t.description})]}),E.jsx("span",{className:"inline-block text-blue-600 font-semibold text-sm mt-auto",children:"View Full Details "})]},t.id))})})}function hy({category:r}){const[e,t]=F.useState([]),[i,a]=F.useState(!0),[l,c]=F.useState(""),[d,m]=F.useState("all"),[g,_]=F.useState("all"),[v,w]=F.useState("all");F.useEffect(()=>{(async()=>{try{a(!0);const W=await Bs.getAllJobs();t(W.filter(le=>le.category===r))}catch(W){console.error("Error fetching jobs:",W)}finally{a(!1)}})()},[r]);const R=F.useMemo(()=>Array.from(new Set(e.map(G=>G.department))).sort(),[e]),k=F.useMemo(()=>{const G=e.flatMap(W=>Array.isArray(W.location)?W.location:[W.location]);return Array.from(new Set(G)).sort()},[e]),L=F.useMemo(()=>e.filter(G=>{const W=l.toLowerCase(),le=[G.roleTitle,G.department,G.location,G.applicationId,G.description,...G.skills||[],...G.qualifications||[]].join(" ").toLowerCase(),pe=!W||le.includes(W),C=d==="all"||G.department===d,x=g==="all"||(Array.isArray(G.location)?G.location.includes(g):G.location===g);let N=!0;if(v!=="all"&&G.datePosted){const M=new Date(G.datePosted).getTime(),U=(Date.now()-M)/(1e3*3600*24);switch(v){case"7days":N=U<=7;break;case"30days":N=U<=30;break;case"6months":N=U<=180;break}}return pe&&C&&x&&N}),[e,l,d,g,v]),j={School:"from-blue-500 to-blue-700",College:"from-purple-500 to-purple-700",Corporate:"from-teal-500 to-teal-700",Others:"from-gray-500 to-gray-700"},J=()=>{c(""),m("all"),_("all"),w("all")},ne=l||d!=="all"||g!=="all"||v!=="all";return i?E.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:E.jsx(l_,{className:"w-8 h-8 animate-spin text-teal-600"})}):E.jsxs("div",{className:"min-h-screen",children:[E.jsx("header",{className:`bg-gradient-to-r ${j[r]} text-white shadow-lg`,children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[E.jsxs(ui,{to:"/",className:"inline-flex items-center text-white/80 hover:text-white mb-6 transition-colors",children:[E.jsx(Nf,{className:"w-5 h-5 mr-2"}),"Back to All Categories"]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"bg-white/20 p-2 rounded-xl backdrop-blur-sm",children:E.jsx("img",{src:"/logo.png",alt:"Achariya",className:"h-14 w-14 object-contain"})}),E.jsxs("div",{children:[E.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:[r," Openings"]}),E.jsxs("p",{className:"text-white/90 text-lg mt-1 font-medium",children:[e.length," positions available"]})]})]})]})}),E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 -mt-6",children:[E.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-gray-100 p-6 mb-4",children:[E.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Search Jobs"}),E.jsxs("div",{className:"relative group",children:[E.jsx(BA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),E.jsx("input",{type:"text",placeholder:"Search by role, skill, ID (e.g. AWCE-...), or keyword...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",value:l,onChange:G=>c(G.target.value)})]})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 xl:w-auto",children:[E.jsxs("div",{className:"flex-1 min-w-[200px]",children:[E.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Department"}),E.jsxs("div",{className:"relative",children:[E.jsx(am,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),E.jsxs("select",{value:d,onChange:G=>m(G.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[E.jsx("option",{value:"all",children:"All Departments"}),R.map(G=>E.jsx("option",{value:G,children:G},G))]})]})]}),E.jsxs("div",{className:"flex-1 min-w-[200px]",children:[E.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Location"}),E.jsxs("div",{className:"relative",children:[E.jsx(om,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),E.jsxs("select",{value:g,onChange:G=>_(G.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[E.jsx("option",{value:"all",children:"All Locations"}),k.map(G=>E.jsx("option",{value:G,children:G},G))]})]})]}),E.jsxs("div",{className:"flex-1 min-w-[200px]",children:[E.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Posted Date"}),E.jsxs("div",{className:"relative",children:[E.jsx(o_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),E.jsxs("select",{value:v,onChange:G=>w(G.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[E.jsx("option",{value:"all",children:"Anytime"}),E.jsx("option",{value:"7days",children:"Last 7 Days"}),E.jsx("option",{value:"30days",children:"Last 30 Days"}),E.jsx("option",{value:"6months",children:"Last 6 Months"})]})]})]})]})]}),ne&&E.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[E.jsxs("div",{className:"text-sm text-gray-500",children:["Found"," ",E.jsx("span",{className:"font-bold text-gray-900",children:L.length})," ","matches based on your filters."]}),E.jsxs("button",{onClick:J,className:"flex items-center text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[E.jsx(Tl,{className:"w-4 h-4 mr-1"}),"Clear Filters"]})]})]}),E.jsx("div",{className:"space-y-6",children:L.length>0?E.jsx(R3,{openings:L}):E.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-12 text-center border border-gray-200 shadow-sm",children:[E.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:E.jsx(zA,{className:"w-8 h-8 text-gray-400"})}),E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No jobs found"}),E.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mb-6",children:"We couldn't find any positions matching your specific criteria. Try adjusting your filters or search terms."}),E.jsx("div",{className:"flex justify-center gap-2 flex-row",children:E.jsxs(ui,{to:"/",className:"btn-primary flex items-center gap-1 rounded btn py-3 px-6",children:[E.jsx(Nf,{size:16})," Back"]})})]})})]})]})}const Gx="https://script.google.com/macros/s/AKfycbzKvKP6w5TX1aT2UnRn9SaibyIpQ4-HcfkLs1FcWnQjDry664hsoGOmyO10WQsZ8jk/exec";console.log(Gx);async function C3(r){const t=new Date().toISOString().slice(0,10).replace(/-/g,""),i=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),a=`REF-${t}-${i}`;try{const l=await N3(r.resume),c={referenceId:a,timestamp:new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata"}),category:r.category||"",roleTitle:r.roleTitle||"",location:r.location||"",fullName:r.fullName||"",dob:r.dob||"",email:r.email||"",phone:r.phone||"",previousCompany:r.previousCompany||"",previousDOJ:r.previousDOJ||"",lastWorkingDate:r.lastWorkingDate||"",noticePeriodDays:r.noticePeriodDays||"",lastWorkingDay:r.lastWorkingDay||"",currentCTC:r.currentCTC||"",expectedCTC:r.expectedCTC||"",experience:r.experience||"",preferredLocation:r.preferredLocation||"",resumeFileName:r.resume.name,resumeFileType:r.resume.type,resumeBase64:l};await fetch(Gx,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:JSON.stringify(c)}),console.log("Application submitted successfully");try{const d=JSON.parse(localStorage.getItem("applications")||"[]"),{resumeBase64:m,...g}=c;d.push({...g,savedAt:new Date().toISOString()}),localStorage.setItem("applications",JSON.stringify(d))}catch(d){console.warn("Failed to save to localStorage backup",d)}return a}catch(l){throw console.error("Submission error:",l),l}}function N3(r){return new Promise((e,t)=>{const i=new FileReader;i.readAsDataURL(r),i.onload=()=>{const l=i.result.split(",")[1];e(l)},i.onerror=a=>t(a)})}function e_({type:r,title:e,message:t,isOpen:i,onClose:a,onConfirm:l,confirmLabel:c="Confirm",cancelLabel:d="Cancel"}){if(!i)return null;const m=()=>{switch(r){case"success":return E.jsx(UA,{className:"w-12 h-12 text-green-500 mx-auto mb-3"});case"error":return E.jsx(A2,{className:"w-12 h-12 text-red-500 mx-auto mb-3"});case"confirmation":return E.jsx(C2,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"});default:return E.jsx(z2,{className:"w-12 h-12 text-teal-500 mx-auto mb-3"})}},g=()=>{switch(r){case"error":return"btn-secondary text-red-600 border-red-200 hover:bg-red-50";case"confirmation":return"btn-primary";case"success":return"btn-primary bg-green-600 hover:bg-green-700 border-none";default:return"btn-primary"}};return E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:E.jsxs("div",{className:"card max-w-sm w-full text-center p-6 shadow-2xl transform transition-all scale-100 animate-in fade-in zoom-in duration-200",children:[m(),E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e}),E.jsx("p",{className:"text-gray-600 mb-6",children:t}),E.jsx("div",{className:"flex gap-3 justify-center",children:r==="confirmation"?E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:a,className:"btn-secondary w-full",children:d}),E.jsx("button",{onClick:()=>{l&&l(),a()},className:"btn-primary w-full",children:c})]}):E.jsx("button",{onClick:a,className:`${g()} w-full`,children:"OK"})})]})})}function D3({opening:r,onClose:e}){const t=im(),[i,a]=F.useState(!1),[l,c]=F.useState(null),[d,m]=F.useState({isOpen:!1,type:"info",title:"",message:""}),g=(W,le,pe,C)=>{m({isOpen:!0,type:W,title:le,message:pe,onConfirm:C})},_=()=>{m(W=>({...W,isOpen:!1}))},[v,w]=F.useState({fullName:"Test Candidate",dob:"1998-06-15",email:"test.candidate@example.com",phone:"9876543210",previousCompany:"ABC Technologies Pvt Ltd",previousDOJ:"2022-01-10",lastWorkingDate:"2025-01-20",noticePeriodDays:"30",lastWorkingDay:"2025-02-19",currentCTC:"4",expectedCTC:"6",experience:"3",preferredLocation:"Puducherry",consent:!0}),R=Array.isArray(r.location)?r.location:[r.location];F.useEffect(()=>{R.length===1&&w(W=>({...W,preferredLocation:R[0]}))},[r.id]);const k=W=>{const le=W.target.files?.[0];if(le){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(le.type)){g("error","Invalid File Type","Please upload only PDF or Word documents");return}if(le.size>1048576){g("error","File Too Large","File size must be less than 1MB");return}c(le)}},L=W=>/^[a-zA-Z\s]*$/.test(W),j=W=>/^\d{0,10}$/.test(W),J=W=>/^\d*$/.test(W),ne=W=>/^\d*\.?\d*$/.test(W),G=async W=>{if(W.preventDefault(),!l){g("error","Internal Validation","Please upload your resume");return}if(v.phone.length!==10){g("error","Validation Error","Phone number must be exactly 10 digits");return}if(!v.preferredLocation){g("error","Validation Error","Please select a preferred location");return}if(!v.consent){g("error","Consent Required","Please confirm that the details are correct");return}a(!0);try{const le=await C3({...v,category:r.category,roleTitle:r.roleTitle,location:R.join(", "),resume:l});t("/thank-you",{state:{referenceId:le,candidateName:v.fullName,category:r.category,role:r.roleTitle}})}catch(le){console.error("Submission error:",le),g("error","Submission Failed","Failed to submit application. Please try again."),a(!1)}};return E.jsxs(E.Fragment,{children:[d.isOpen&&E.jsx(e_,{isOpen:d.isOpen,type:d.type,title:d.title,message:d.message,onClose:_,onConfirm:d.onConfirm}),E.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:E.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] flex flex-col relative",children:[E.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 p-6 rounded-t-lg",children:[E.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600",children:E.jsx(Tl,{className:"w-6 h-6"})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Apply for Position"}),E.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[r.roleTitle,"  ",r.category," "," ",R.join(", ")]})]}),E.jsxs("form",{onSubmit:G,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name "," ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"text",required:!0,placeholder:"Your Full Name",className:"input-field",value:v.fullName,onChange:W=>{L(W.target.value)&&w({...v,fullName:W.target.value})}})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Birth ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"date",required:!0,className:"input-field",value:v.dob,onChange:W=>w({...v,dob:W.target.value})})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"email",required:!0,className:"input-field",placeholder:"youremail@example.com",value:v.email,onChange:W=>w({...v,email:W.target.value})})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mobile"," ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"tel",required:!0,maxLength:10,className:"input-field",placeholder:"10-digit mobile",value:v.phone,onChange:W=>{j(W.target.value)&&w({...v,phone:W.target.value})}})]})]}),E.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[E.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Employment History"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Experience (In Years)"," ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"text",required:!0,className:"input-field",value:v.experience,placeholder:"e.g. 2",onChange:W=>{ne(W.target.value)&&w({...v,experience:W.target.value})}})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Previous Company"," ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"text",placeholder:"Your Most Recent Company",required:!0,className:"input-field",value:v.previousCompany,onChange:W=>{L(W.target.value)&&w({...v,previousCompany:W.target.value})}})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Joining (Previous Company)"," ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"date",required:!0,className:"input-field",value:v.previousDOJ,onChange:W=>w({...v,previousDOJ:W.target.value})})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Working Date ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"date",required:!0,className:"input-field",value:v.lastWorkingDate,onChange:W=>w({...v,lastWorkingDate:W.target.value})})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Notice Period (Days) ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"number",required:!0,placeholder:"e.g. 15",min:"0",className:"input-field",value:v.noticePeriodDays,onChange:W=>{J(W.target.value)&&w({...v,noticePeriodDays:W.target.value})}})]})]})]}),E.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[E.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Compensation & Preference"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current CTC (in  Lakhs)"," ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"e.g. 2.5",min:"0",className:"input-field",value:v.currentCTC,onChange:W=>w({...v,currentCTC:W.target.value})})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected CTC (in  Lakhs)"," ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"e.g. 2.5",min:"0",className:"input-field",value:v.expectedCTC,onChange:W=>w({...v,expectedCTC:W.target.value})})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Preferred Location ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsxs("select",{required:!0,className:"input-field",value:v.preferredLocation,onChange:W=>w({...v,preferredLocation:W.target.value}),disabled:R.length===1,children:[E.jsx("option",{value:"",children:"Select Location"}),R.map(W=>E.jsx("option",{value:W,children:W},W))]})]})]})]}),E.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[E.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Resume Upload"}),E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload Resume (PDF or Word, max 1MB)"," ",E.jsx("span",{className:"text-red-500",children:"*"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("label",{className:"btn-secondary cursor-pointer",children:[E.jsx(sD,{className:"w-4 h-4 mr-2"}),"Choose File",E.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:k,className:"hidden"})]}),l&&E.jsxs("span",{className:"text-sm text-green-600 flex items-center",children:[" ",l.name," (",(l.size/1024).toFixed(0)," ","KB)"]})]})]})]}),E.jsx("div",{className:"border-t border-gray-200 pt-6",children:E.jsxs("label",{className:"flex items-start gap-3",children:[E.jsx("input",{type:"checkbox",required:!0,className:"mt-1",checked:v.consent,onChange:W=>w({...v,consent:W.target.checked})}),E.jsx("span",{className:"text-sm text-gray-700",children:"I confirm that the above details are correct and I agree to be contacted by Achariya HR team regarding this application."})]})}),E.jsxs("div",{className:"flex gap-3 justify-end pt-6 border-t border-gray-200",children:[E.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:i,children:"Cancel"}),E.jsx("button",{type:"submit",className:"btn-primary",disabled:i,children:i?E.jsxs(E.Fragment,{children:[E.jsx(l_,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Application"})]})]})]})})]})}function V3(){const{applicationId:r}=mN(),[e,t]=F.useState(null),[i,a]=F.useState(!0),[l,c]=F.useState(!1),[d,m]=F.useState("");return F.useEffect(()=>{(async()=>{if(r)try{a(!0);let _=await Bs.getJobByApplicationId(r);_||(_=await Bs.getJobById(r)),_?t(_):m("Job not found.")}catch(_){console.error("Failed to load job details",_),m("Failed to load job details.")}finally{a(!1)}})()},[r]),i?E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:E.jsx(l_,{className:"w-8 h-8 animate-spin text-teal-600"})}):d||!e?E.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center space-y-4",children:[E.jsx("p",{className:"text-xl text-gray-500",children:d||"Job not found"}),E.jsx(ui,{to:"/",className:"btn-primary",children:"Back to Home"})]}):E.jsxs("div",{className:"min-h-screen py-12 px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"max-w-7xl mx-auto",children:[E.jsxs(ui,{to:`/${e.category.toLowerCase()}`,className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[E.jsx(Nf,{className:"w-5 h-5 mr-2"}),"Back to ",e.category," Openings"]}),E.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[E.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-8 border-b border-gray-100",children:E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E.jsxs("span",{className:"text-xs font-mono bg-white text-gray-500 px-2 py-1 rounded border border-gray-200 shadow-sm",children:["ID: ",e.applicationId||"N/A"]}),E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold tracking-wide uppercase ${e.category==="School"?"bg-blue-100 text-blue-700":e.category==="College"?"bg-purple-100 text-purple-700":"bg-teal-100 text-teal-700"}`,children:e.category})]}),E.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2",children:e.roleTitle}),E.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mt-3",children:[E.jsxs("span",{className:"flex items-center bg-white px-3 py-1 rounded-full shadow-sm",children:[E.jsx(am,{className:"w-4 h-4 mr-2"}),e.department]}),E.jsxs("span",{className:"flex items-center bg-white px-3 py-1 rounded-full shadow-sm",children:[E.jsx(om,{className:"w-4 h-4 mr-2"}),Array.isArray(e.location)?e.location.join(", "):e.location]}),E.jsxs("span",{className:"flex items-center bg-white px-3 py-1 rounded-full shadow-sm",children:[E.jsx(o_,{className:"w-4 h-4 mr-2"}),"Posted:"," ",e.datePosted?new Date(e.datePosted).toLocaleDateString():"N/A"]})]})]}),E.jsx("button",{onClick:()=>c(!0),className:"btn-primary shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all text-lg px-8 py-3 whitespace-nowrap",children:"Apply Now"})]})}),E.jsxs("div",{className:"p-8 space-y-8",children:[E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-6 bg-gray-50 rounded-xl border border-gray-200",children:[E.jsxs("div",{children:[E.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Experience"}),E.jsx("span",{className:"text-gray-900 font-medium",children:e.experience||"Not Specified"})]}),E.jsxs("div",{children:[E.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Openings"}),E.jsx("span",{className:"text-gray-900 font-medium",children:e.numberOfPositions||"Not Specified"})]}),E.jsxs("div",{children:[E.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Center"}),E.jsx("span",{className:"text-gray-900 font-medium",children:e.center||"Not Specified"})]}),E.jsxs("div",{children:[E.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Last Updated"}),E.jsx("span",{className:"text-gray-900 font-medium",children:e.lastUpdated?new Date(e.lastUpdated).toLocaleDateString():"N/A"})]})]}),E.jsxs("section",{className:"prose prose-blue max-w-none",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Job Description"}),E.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:e.description})]}),e.responsibilities&&e.responsibilities.length>0&&E.jsxs("section",{children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Key Responsibilities"}),E.jsx("ul",{className:"grid grid-cols-1 gap-2",children:e.responsibilities.map((g,_)=>E.jsxs("li",{className:"flex items-start",children:[E.jsx("span",{className:"mr-3 text-blue-500 bg-blue-100 rounded-full p-1 mt-1",children:E.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),E.jsx("span",{className:"text-gray-700",children:g})]},_))})]}),e.skills&&e.skills.length>0&&E.jsxs("section",{children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Required Skills"}),E.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((g,_)=>E.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 text-blue-700 rounded-lg text-sm font-medium",children:g},_))})]}),e.qualifications&&e.qualifications.length>0&&E.jsxs("section",{children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Qualifications"}),E.jsx("ul",{className:"grid grid-cols-1 gap-2",children:e.qualifications.map((g,_)=>E.jsxs("li",{className:"flex items-start",children:[E.jsx("span",{className:"mr-3 text-teal-500 bg-teal-100 rounded-full p-1 mt-1",children:E.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),E.jsx("span",{className:"text-gray-700",children:g})]},_))})]}),e.eligibility&&e.eligibility.length>0&&E.jsxs("section",{children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Eligibility Criteria"}),E.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:e.eligibility.map((g,_)=>E.jsx("li",{children:g},_))})]})]}),E.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 text-center",children:[E.jsx("p",{className:"text-gray-600 mb-4",children:"Interested in this role?"}),E.jsx("button",{onClick:()=>c(!0),className:"btn-primary text-lg px-12 py-3 shadow-md hover:shadow-lg",children:"Apply Application"})]})]})]}),l&&e&&E.jsx(D3,{opening:e,onClose:()=>c(!1)})]})}function O3(){const r=ta(),e=r.state?.referenceId||"REF-DEMO-0000",t=r.state?.candidateName||"Candidate",i=r.state?.category||"General",a=r.state?.role||"Position";return E.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-teal-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"card max-w-2xl w-full text-center ",style:{boxShadow:"6px 6px 6px 6px rgba(0, 0, 0, 0.1)"},children:[E.jsx(UA,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),E.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Application Submitted Successfully!"}),E.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Thank you, ",E.jsx("strong",{children:t}),". Your application has been received."]}),E.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 text-left",children:[E.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Application Summary"}),E.jsxs("div",{className:"space-y-2 text-sm",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:"text-gray-600",children:"Reference ID:"}),E.jsx("span",{className:"font-mono font-bold text-teal-600",children:e})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:"text-gray-600",children:"Category:"}),E.jsx("span",{className:"font-medium text-gray-900",children:i})]}),E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:"text-gray-600",children:"Position:"}),E.jsx("span",{className:"font-medium text-gray-900",children:a})]})]})]}),E.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:E.jsxs("p",{className:"text-sm text-blue-900",children:[E.jsx(D2,{className:"w-5 h-5 inline mr-2"}),"You will receive a confirmation email shortly with your application details."]})}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[E.jsxs(ui,{to:"/",className:"btn-primary",children:[E.jsx(j2,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),E.jsx(ui,{to:"/",className:"btn-secondary",children:"Apply to Another Role"})]}),E.jsx("p",{className:"text-xs text-gray-500 mt-6",children:"Our HR team will review your application and contact you within 5-7 business days."})]})})}function P3(){const r=im(),[e,t]=F.useState(null),[i,a]=F.useState(!0),[l,c]=F.useState(!1),[d,m]=F.useState({isOpen:!1,type:"info",title:"",message:""}),[g,_]=F.useState(""),[v,w]=F.useState(""),[R,k]=F.useState(!1),[L,j]=F.useState([]),[J,ne]=F.useState(""),[G,W]=F.useState("all"),[le,pe]=F.useState("all"),[C,x]=F.useState("all"),[N,M]=F.useState(null),[O,U]=F.useState(!1),[I,Oe]=F.useState({category:"Corporate",roleTitle:"",department:"",location:["Puducherry"],center:"",experience:"",numberOfPositions:"",description:"",responsibilities:[""],qualifications:[""],skills:[""],eligibility:[""]});F.useEffect(()=>{const Z=YO(hf,ht=>{t(ht),a(!1)});return()=>Z()},[]),F.useEffect(()=>{e&&It()},[e]);const It=async()=>{try{const Z=await Bs.getAllJobs();j(Z)}catch(Z){console.error("Failed to load jobs",Z)}},ee=F.useMemo(()=>Array.from(new Set(L.map(Z=>Z.department))).sort(),[L]),de=F.useMemo(()=>{const Z=L.flatMap(ht=>Array.isArray(ht.location)?ht.location:[ht.location]);return Array.from(new Set(Z)).sort()},[L]),Te=F.useMemo(()=>L.filter(Z=>{const ht=J.toLowerCase(),vt=Array.isArray(Z.location)?Z.location.join(" "):Z.location,Et=[Z.roleTitle,Z.department,vt,Z.applicationId,Z.description,...Z.skills||[],...Z.qualifications||[]].join(" ").toLowerCase(),fa=!ht||Et.includes(ht),pi=G==="all"||Z.department===G,ma=le==="all"||(Array.isArray(Z.location)?Z.location.includes(le):Z.location===le);let Vr=!0;if(C!=="all"&&Z.datePosted){const Ct=new Date(Z.datePosted).getTime(),Xn=(Date.now()-Ct)/(1e3*3600*24);switch(C){case"7days":Vr=Xn<=7;break;case"30days":Vr=Xn<=30;break;case"6months":Vr=Xn<=180;break}}return fa&&pi&&ma&&Vr}),[L,J,G,le,C]),je=()=>{ne(""),W("all"),pe("all"),x("all")},$e=J||G!=="all"||le!=="all"||C!=="all",V=(Z,ht,vt,Et)=>{m({isOpen:!0,type:Z,title:ht,message:vt,onConfirm:Et})},se=()=>{m(Z=>({...Z,isOpen:!1}))},fe=async Z=>{Z.preventDefault(),c(!0);try{R?(await GO(hf,g,v),V("success","Welcome!","Account created! You are now logged in.")):await KO(hf,g,v)}catch(ht){V("error","Authentication Failed",ht.message)}finally{c(!1)}},ge=async()=>{await XO(hf),r("/")},Ie=()=>`AWCE-${Math.floor(1e5+Math.random()*9e5).toString()}`,Re=async()=>{try{const Z=new Date().toISOString(),ht=I.location?.filter(Et=>Et.trim().length>0)||[],vt={applicationId:Ie(),category:I.category,roleTitle:I.roleTitle||"",department:I.department||"",location:ht.length>0?ht:["Puducherry"],center:I.center||"",experience:I.experience||"",numberOfPositions:I.numberOfPositions||"",description:I.description||"",responsibilities:I.responsibilities?.filter(Et=>Et.trim())||[],qualifications:I.qualifications?.filter(Et=>Et.trim())||[],skills:I.skills?.filter(Et=>Et.trim())||[],eligibility:I.eligibility?.filter(Et=>Et.trim())||[],datePosted:Z,lastUpdated:Z};await Bs.addJob(vt),await It(),U(!1),Yn(),V("success","Success","Job opening added successfully.")}catch(Z){console.error(Z),V("error","Error","Failed to add job opening.")}},Ue=async()=>{if(N)try{const Z=I.location?.filter(vt=>vt.trim().length>0)||[],ht={category:I.category,roleTitle:I.roleTitle||"",department:I.department||"",location:Z.length>0?Z:["Puducherry"],center:I.center||"",experience:I.experience||"",numberOfPositions:I.numberOfPositions||"",description:I.description||"",responsibilities:I.responsibilities?.filter(vt=>vt.trim())||[],qualifications:I.qualifications?.filter(vt=>vt.trim())||[],skills:I.skills?.filter(vt=>vt.trim())||[],eligibility:I.eligibility?.filter(vt=>vt.trim())||[],lastUpdated:new Date().toISOString()};await Bs.updateJob(N,ht),await It(),M(null),Yn(),V("success","Success","Job opening updated successfully.")}catch(Z){console.error(Z),V("error","Error","Failed to update job opening.")}},Vt=async Z=>{V("confirmation","Delete Opening","Are you sure you want to delete this job opening? This action cannot be undone.",async()=>{try{await Bs.deleteJob(Z),j(ht=>ht.filter(vt=>vt.id!==Z)),setTimeout(()=>{V("success","Deleted","Job opening has been deleted.")},300)}catch{V("error","Error","Failed to delete job.")}})},ft=Z=>{M(Z.id),Oe({...Z,location:Array.isArray(Z.location)?Z.location:[Z.location||"Puducherry"],responsibilities:Z.responsibilities?.length?Z.responsibilities:[""],qualifications:Z.qualifications?.length?Z.qualifications:[""],skills:Z.skills?.length?Z.skills:[""],eligibility:Z.eligibility?.length?Z.eligibility:[""]})},Yn=()=>{Oe({category:"Corporate",roleTitle:"",department:"",location:["Puducherry"],center:"",experience:"",numberOfPositions:"",description:"",responsibilities:[""],qualifications:[""],skills:[""],eligibility:[""]})};return i?E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e?E.jsxs("div",{className:"min-h-screen ",children:[E.jsx(e_,{isOpen:d.isOpen,type:d.type,title:d.title,message:d.message,onClose:se,onConfirm:d.onConfirm}),E.jsx("header",{className:"bg-white border-b border-gray-200",children:E.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"}),E.jsxs("p",{className:"text-sm text-gray-600",children:["Manage ",L.length," job openings"]})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("button",{onClick:()=>U(!0),className:"btn-primary",children:[E.jsx(X2,{className:"w-4 h-4 mr-2"}),"Add Opening"]}),E.jsxs("button",{onClick:ge,className:"btn-secondary flex gap-1 text-red-600 hover:bg-red-50",children:[E.jsx(G2,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),E.jsxs("main",{className:"container mx-auto bg-white/70 px-4 sm:px-6 lg:px-8 py-8",children:[(O||N)&&E.jsxs("div",{className:"p-6 mb-6 border border-gray-20",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900",children:N?"Edit Opening":"Add New Opening"}),E.jsx("button",{onClick:()=>{U(!1),M(null),Yn()},className:"bg-[#FF0000] p-2 text-white rounded-full",children:E.jsx(Tl,{size:20,className:" text-white-400 "})})]}),E.jsx("h3",{className:"font-semibold text-gray-800 mb-3 border-b pb-1",children:"Basic Information"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),E.jsxs("select",{className:"input-field",value:I.category,onChange:Z=>Oe({...I,category:Z.target.value}),children:[E.jsx("option",{value:"School",children:"School"}),E.jsx("option",{value:"College",children:"College"}),E.jsx("option",{value:"Corporate",children:"Corporate"}),E.jsx("option",{value:"Others",children:"Others"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Title"}),E.jsx("input",{type:"text",className:"input-field",value:I.roleTitle,onChange:Z=>Oe({...I,roleTitle:Z.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),E.jsx("input",{type:"text",className:"input-field",value:I.department,onChange:Z=>Oe({...I,department:Z.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location (One per line)"}),E.jsx("textarea",{className:"input-field",rows:2,value:I.location?.join(`
`),onChange:Z=>Oe({...I,location:Z.target.value.split(`
`)}),placeholder:"e.g. Puducherry"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Center"}),E.jsx("input",{type:"text",className:"input-field",value:I.center,onChange:Z=>Oe({...I,center:Z.target.value}),placeholder:"e.g. Main Campus"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. of Positions"}),E.jsx("input",{type:"text",className:"input-field",value:I.numberOfPositions,onChange:Z=>Oe({...I,numberOfPositions:Z.target.value}),placeholder:"e.g. 5"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience Required"}),E.jsx("input",{type:"text",className:"input-field",value:I.experience,onChange:Z=>Oe({...I,experience:Z.target.value}),placeholder:"e.g. 2-5 Years"})]})]}),E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Description"}),E.jsx("textarea",{className:"input-field",rows:3,value:I.description,onChange:Z=>Oe({...I,description:Z.target.value})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualifications (one per line)"}),E.jsx("textarea",{className:"input-field",rows:4,value:I.qualifications?.join(`
`),onChange:Z=>Oe({...I,qualifications:Z.target.value.split(`
`)}),placeholder:"e.g. B.Tech in CS"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Required Skills (one per line)"}),E.jsx("textarea",{className:"input-field",rows:4,value:I.skills?.join(`
`),onChange:Z=>Oe({...I,skills:Z.target.value.split(`
`)}),placeholder:"e.g. React.js\\nNode.js"})]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Responsibilities (one per line)"}),E.jsx("textarea",{className:"input-field",rows:4,value:I.responsibilities?.join(`
`),onChange:Z=>Oe({...I,responsibilities:Z.target.value.split(`
`)})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Eligibility & Other Requirements (one per line)"}),E.jsx("textarea",{className:"input-field",rows:4,value:I.eligibility?.join(`
`),onChange:Z=>Oe({...I,eligibility:Z.target.value.split(`
`)})})]})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:N?Ue:Re,className:"btn-primary",children:[E.jsx(W2,{className:"w-4 h-4 mr-2"}),N?"Update":"Add"," Opening"]}),E.jsxs("button",{onClick:()=>{U(!1),M(null),Yn()},className:"border border-gray-400 bg-gray-200 hover:bg-gray-400 flex py-2 px-4 items-center rounded-lg text-gray-900",children:[E.jsx(Tl,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})]}),E.jsxs(ui,{to:"/",className:"flex pb-3 items-center gap-2 text-blue-600",children:[E.jsx(Nf,{size:18})," Back To Home"]}),E.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 mb-6",children:[E.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Search Jobs"}),E.jsxs("div",{className:"relative group",children:[E.jsx(BA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),E.jsx("input",{type:"text",placeholder:"Search by role, skill, ID (e.g. AWCE-...), or keyword...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",value:J,onChange:Z=>ne(Z.target.value)})]})]}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 xl:w-auto",children:[E.jsxs("div",{className:"flex-1 min-w-[200px]",children:[E.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Department"}),E.jsxs("div",{className:"relative",children:[E.jsx(am,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),E.jsxs("select",{value:G,onChange:Z=>W(Z.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[E.jsx("option",{value:"all",children:"All Departments"}),ee.map(Z=>E.jsx("option",{value:Z,children:Z},Z))]})]})]}),E.jsxs("div",{className:"flex-1 min-w-[200px]",children:[E.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Location"}),E.jsxs("div",{className:"relative",children:[E.jsx(om,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),E.jsxs("select",{value:le,onChange:Z=>pe(Z.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[E.jsx("option",{value:"all",children:"All Locations"}),de.map(Z=>E.jsx("option",{value:Z,children:Z},Z))]})]})]}),E.jsxs("div",{className:"flex-1 min-w-[200px]",children:[E.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Posted Date"}),E.jsxs("div",{className:"relative",children:[E.jsx(o_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),E.jsxs("select",{value:C,onChange:Z=>x(Z.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[E.jsx("option",{value:"all",children:"Anytime"}),E.jsx("option",{value:"7days",children:"Last 7 Days"}),E.jsx("option",{value:"30days",children:"Last 30 Days"}),E.jsx("option",{value:"6months",children:"Last 6 Months"})]})]})]})]})]}),$e&&E.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[E.jsxs("div",{className:"text-sm text-gray-500",children:["Found"," ",E.jsx("span",{className:"font-bold text-gray-900",children:Te.length})," ","matches based on your filters."]}),E.jsxs("button",{onClick:je,className:"flex items-center text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[E.jsx(Tl,{className:"w-4 h-4 mr-1 bg-red"}),"Clear Filters"]})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 w-full gap-6",children:Te.map(Z=>E.jsx("div",{className:"border border-gray-200  rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow bg-white/70",children:E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:" gap-2 mb-4 flex-wrap",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:Z.roleTitle}),E.jsxs("div",{className:"flex flex-wrap gap-2",children:[E.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Z.category==="School"?"bg-blue-100 text-blue-700":Z.category==="College"?"bg-purple-100 text-purple-700":"bg-teal-100 text-teal-700"}`,children:Z.category}),E.jsxs("span",{className:"text-gray-500 text-xs font-mono bg-gray-100 px-2 py-1 rounded",children:["ID: ",Z.applicationId||"N/A"]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-sm text-gray-600 mb-4",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Department:"})," ",Z.department]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Location:"})," ",Array.isArray(Z.location)?Z.location.join(", "):Z.location]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Center:"})," ",Z.center||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"No.of.Positions:"})," ",Z.numberOfPositions||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Experience:"})," ",Z.experience||"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Posted:"})," ",Z.datePosted?new Date(Z.datePosted).toLocaleDateString():"N/A"]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Updated:"})," ",Z.lastUpdated?new Date(Z.lastUpdated).toLocaleDateString():"N/A"]})]})]}),E.jsxs("div",{className:"flex gap-2 ml-4",children:[E.jsx("button",{onClick:()=>ft(Z),className:"p-2 text-teal-600 hover:bg-teal-50 rounded",title:"Edit",children:E.jsx($2,{className:"w-5 h-5"})}),E.jsx("button",{onClick:()=>Vt(Z.id),className:"p-2 text-white bg-red-600 hover:bg-red-700 rounded",title:"Delete",children:E.jsx(tD,{className:"w-5 h-5"})})]})]})},Z.id))}),E.jsx("div",{className:"mt-6",children:L.length===0?E.jsx("div",{className:"bg-white/70 rounded-lg p-12 text-center border border-gray-200",children:E.jsx("p",{className:"text-gray-500 text-lg",children:'No job openings yet. Click "Add Opening" to create one.'})}):Te.length===0?E.jsxs("div",{className:"bg-white/70 rounded-2xl p-12 text-center border border-gray-200 shadow-sm",children:[E.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:E.jsx(zA,{className:"w-8 h-8 text-gray-400"})}),E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No jobs found"}),E.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mb-6",children:"We couldn't find any positions matching your specific criteria. Try adjusting your filters or search terms."}),E.jsxs("button",{onClick:je,className:"btn-primary inline-flex items-center gap-2",children:[E.jsx(Tl,{size:16})," Clear Filters"]})]}):null})]})]}):E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-blue-50 flex items-center justify-center p-4",children:[E.jsx(e_,{isOpen:d.isOpen,type:d.type,title:d.title,message:d.message,onClose:se,onConfirm:d.onConfirm}),E.jsxs("div",{className:"card max-w-md w-full",children:[E.jsxs("div",{className:"text-center mb-6",children:[E.jsx(q2,{className:"w-12 h-12 text-teal-600 mx-auto mb-3"}),E.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Panel"}),E.jsx("p",{className:"text-sm text-gray-600",children:R?"Create Admin Account":"Login to Manage Jobs"})]}),E.jsxs("form",{onSubmit:fe,children:[E.jsxs("div",{className:"mb-4",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),E.jsx("input",{type:"email",className:"input-field",placeholder:"admin@example.com",value:g,onChange:Z=>_(Z.target.value),required:!0})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),E.jsx("input",{type:"password",className:"input-field",placeholder:"",value:v,onChange:Z=>w(Z.target.value),required:!0})]}),E.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:l,children:l?"Processing...":R?"Create Account":"Login"})]}),E.jsx("div",{className:"mt-4 text-center",children:E.jsx("button",{onClick:()=>k(!R),className:"text-sm text-teal-600 hover:text-teal-800 flex items-center justify-center mx-auto",children:R?"Back to Login":E.jsxs(E.Fragment,{children:[E.jsx(oD,{className:"w-3 h-3 mr-1"})," Create One-Time Admin Account"]})})}),E.jsx("button",{onClick:()=>r("/"),className:"btn-secondary w-full mt-3",children:"Back to Careers"})]})]})}function M3(){return E.jsx(ZN,{children:E.jsxs(CN,{children:[E.jsx(Vs,{path:"/",element:E.jsx(x3,{})}),E.jsx(Vs,{path:"/school",element:E.jsx(hy,{category:"School"})}),E.jsx(Vs,{path:"/college",element:E.jsx(hy,{category:"College"})}),E.jsx(Vs,{path:"/corporate",element:E.jsx(hy,{category:"Corporate"})}),E.jsx(Vs,{path:"/:category/:applicationId",element:E.jsx(V3,{})}),E.jsx(Vs,{path:"/admin",element:E.jsx(P3,{})}),E.jsx(Vs,{path:"/thank-you",element:E.jsx(O3,{})})]})})}DC.createRoot(document.getElementById("root")).render(E.jsx(F.StrictMode,{children:E.jsx(M3,{})}));
