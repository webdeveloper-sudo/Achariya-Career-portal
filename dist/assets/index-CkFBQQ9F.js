(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var jg={exports:{}},fc={};var JT;function AC(){if(JT)return fc;JT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return fc.Fragment=e,fc.jsx=t,fc.jsxs=t,fc}var WT;function SC(){return WT||(WT=1,jg.exports=AC()),jg.exports}var v=SC(),Ug={exports:{}},Ie={};var ZT;function xC(){if(ZT)return Ie;ZT=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),w=Symbol.iterator;function R(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function J(V,se,fe){this.props=V,this.context=se,this.refs=j,this.updater=fe||k}J.prototype.isReactComponent={},J.prototype.setState=function(V,se){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,se,"setState")},J.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=J.prototype;function G(V,se,fe){this.props=V,this.context=se,this.refs=j,this.updater=fe||k}var W=G.prototype=new ne;W.constructor=G,L(W,J.prototype),W.isPureReactComponent=!0;var le=Array.isArray;function pe(){}var C={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function N(V,se,fe){var ge=fe.ref;return{$$typeof:r,type:V,key:se,ref:ge!==void 0?ge:null,props:fe}}function M(V,se){return N(V.type,se,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function U(V){var se={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return se[fe]})}var x=/\/+/g;function Oe(V,se){return typeof V=="object"&&V!==null&&V.key!=null?U(""+V.key):se.toString(36)}function xt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(pe,pe):(V.status="pending",V.then(function(se){V.status==="pending"&&(V.status="fulfilled",V.value=se)},function(se){V.status==="pending"&&(V.status="rejected",V.reason=se)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ee(V,se,fe,ge,xe){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Re){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case _:return Ue=V._init,ee(Ue(V._payload),se,fe,ge,xe)}}if(Ue)return xe=xe(V),Ue=ge===""?"."+Oe(V,0):ge,le(xe)?(fe="",Ue!=null&&(fe=Ue.replace(x,"$&/")+"/"),ee(xe,se,fe,"",function(mi){return mi})):xe!=null&&(O(xe)&&(xe=M(xe,fe+(xe.key==null||V&&V.key===xe.key?"":(""+xe.key).replace(x,"$&/")+"/")+Ue)),se.push(xe)),1;Ue=0;var Dt=ge===""?".":ge+":";if(le(V))for(var mt=0;mt<V.length;mt++)ge=V[mt],Re=Dt+Oe(ge,mt),Ue+=ee(ge,se,fe,Re,xe);else if(mt=R(V),typeof mt=="function")for(V=mt.call(V),mt=0;!(ge=V.next()).done;)ge=ge.value,Re=Dt+Oe(ge,mt++),Ue+=ee(ge,se,fe,Re,xe);else if(Re==="object"){if(typeof V.then=="function")return ee(xt(V),se,fe,ge,xe);throw se=String(V),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function de(V,se,fe){if(V==null)return V;var ge=[],xe=0;return ee(V,ge,"","",function(Re){return se.call(fe,Re,xe++)}),ge}function Te(V){if(V._status===-1){var se=V._result;se=se(),se.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=se)}if(V._status===1)return V._result.default;throw V._result}var je=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ye={map:de,forEach:function(V,se,fe){de(V,function(){se.apply(this,arguments)},fe)},count:function(V){var se=0;return de(V,function(){se++}),se},toArray:function(V){return de(V,function(se){return se})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ie.Activity=E,Ie.Children=Ye,Ie.Component=J,Ie.Fragment=t,Ie.Profiler=a,Ie.PureComponent=G,Ie.StrictMode=i,Ie.Suspense=m,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(V,se,fe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ge=L({},V.props),xe=V.key;if(se!=null)for(Re in se.key!==void 0&&(xe=""+se.key),se)!I.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(ge[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)ge.children=fe;else if(1<Re){for(var Ue=Array(Re),Dt=0;Dt<Re;Dt++)Ue[Dt]=arguments[Dt+2];ge.children=Ue}return N(V.type,xe,ge)},Ie.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},Ie.createElement=function(V,se,fe){var ge,xe={},Re=null;if(se!=null)for(ge in se.key!==void 0&&(Re=""+se.key),se)I.call(se,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(xe[ge]=se[ge]);var Ue=arguments.length-2;if(Ue===1)xe.children=fe;else if(1<Ue){for(var Dt=Array(Ue),mt=0;mt<Ue;mt++)Dt[mt]=arguments[mt+2];xe.children=Dt}if(V&&V.defaultProps)for(ge in Ue=V.defaultProps,Ue)xe[ge]===void 0&&(xe[ge]=Ue[ge]);return N(V,Re,xe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:d,render:V}},Ie.isValidElement=O,Ie.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:Te}},Ie.memo=function(V,se){return{$$typeof:g,type:V,compare:se===void 0?null:se}},Ie.startTransition=function(V){var se=C.T,fe={};C.T=fe;try{var ge=V(),xe=C.S;xe!==null&&xe(fe,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(pe,je)}catch(Re){je(Re)}finally{se!==null&&fe.types!==null&&(se.types=fe.types),C.T=se}},Ie.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ie.use=function(V){return C.H.use(V)},Ie.useActionState=function(V,se,fe){return C.H.useActionState(V,se,fe)},Ie.useCallback=function(V,se){return C.H.useCallback(V,se)},Ie.useContext=function(V){return C.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,se){return C.H.useDeferredValue(V,se)},Ie.useEffect=function(V,se){return C.H.useEffect(V,se)},Ie.useEffectEvent=function(V){return C.H.useEffectEvent(V)},Ie.useId=function(){return C.H.useId()},Ie.useImperativeHandle=function(V,se,fe){return C.H.useImperativeHandle(V,se,fe)},Ie.useInsertionEffect=function(V,se){return C.H.useInsertionEffect(V,se)},Ie.useLayoutEffect=function(V,se){return C.H.useLayoutEffect(V,se)},Ie.useMemo=function(V,se){return C.H.useMemo(V,se)},Ie.useOptimistic=function(V,se){return C.H.useOptimistic(V,se)},Ie.useReducer=function(V,se,fe){return C.H.useReducer(V,se,fe)},Ie.useRef=function(V){return C.H.useRef(V)},Ie.useState=function(V){return C.H.useState(V)},Ie.useSyncExternalStore=function(V,se,fe){return C.H.useSyncExternalStore(V,se,fe)},Ie.useTransition=function(){return C.H.useTransition()},Ie.version="19.2.3",Ie}var eb;function n_(){return eb||(eb=1,Ug.exports=xC()),Ug.exports}var F=n_(),zg={exports:{}},mc={},Bg={exports:{}},Fg={};var tb;function IC(){return tb||(tb=1,(function(r){function e(ee,de){var Te=ee.length;ee.push(de);e:for(;0<Te;){var je=Te-1>>>1,Ye=ee[je];if(0<a(Ye,de))ee[je]=de,ee[Te]=Ye,Te=je;else break e}}function t(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var de=ee[0],Te=ee.pop();if(Te!==de){ee[0]=Te;e:for(var je=0,Ye=ee.length,V=Ye>>>1;je<V;){var se=2*(je+1)-1,fe=ee[se],ge=se+1,xe=ee[ge];if(0>a(fe,Te))ge<Ye&&0>a(xe,fe)?(ee[je]=xe,ee[ge]=Te,je=ge):(ee[je]=fe,ee[se]=Te,je=se);else if(ge<Ye&&0>a(xe,Te))ee[je]=xe,ee[ge]=Te,je=ge;else break e}}return de}function a(ee,de){var Te=ee.sortIndex-de.sortIndex;return Te!==0?Te:ee.id-de.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,E=null,w=3,R=!1,k=!1,L=!1,j=!1,J=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function W(ee){for(var de=t(g);de!==null;){if(de.callback===null)i(g);else if(de.startTime<=ee)i(g),de.sortIndex=de.expirationTime,e(m,de);else break;de=t(g)}}function le(ee){if(L=!1,W(ee),!k)if(t(m)!==null)k=!0,pe||(pe=!0,U());else{var de=t(g);de!==null&&xt(le,de.startTime-ee)}}var pe=!1,C=-1,I=5,N=-1;function M(){return j?!0:!(r.unstable_now()-N<I)}function O(){if(j=!1,pe){var ee=r.unstable_now();N=ee;var de=!0;try{e:{k=!1,L&&(L=!1,ne(C),C=-1),R=!0;var Te=w;try{t:{for(W(ee),E=t(m);E!==null&&!(E.expirationTime>ee&&M());){var je=E.callback;if(typeof je=="function"){E.callback=null,w=E.priorityLevel;var Ye=je(E.expirationTime<=ee);if(ee=r.unstable_now(),typeof Ye=="function"){E.callback=Ye,W(ee),de=!0;break t}E===t(m)&&i(m),W(ee)}else i(m);E=t(m)}if(E!==null)de=!0;else{var V=t(g);V!==null&&xt(le,V.startTime-ee),de=!1}}break e}finally{E=null,w=Te,R=!1}de=void 0}}finally{de?U():pe=!1}}}var U;if(typeof G=="function")U=function(){G(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Oe=x.port2;x.port1.onmessage=O,U=function(){Oe.postMessage(null)}}else U=function(){J(O,0)};function xt(ee,de){C=J(function(){ee(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ee){ee.callback=null},r.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ee?Math.floor(1e3/ee):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(ee){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var Te=w;w=de;try{return ee()}finally{w=Te}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(ee,de){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var Te=w;w=ee;try{return de()}finally{w=Te}},r.unstable_scheduleCallback=function(ee,de,Te){var je=r.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?je+Te:je):Te=je,ee){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=Te+Ye,ee={id:_++,callback:de,priorityLevel:ee,startTime:Te,expirationTime:Ye,sortIndex:-1},Te>je?(ee.sortIndex=Te,e(g,ee),t(m)===null&&ee===t(g)&&(L?(ne(C),C=-1):L=!0,xt(le,Te-je))):(ee.sortIndex=Ye,e(m,ee),k||R||(k=!0,pe||(pe=!0,U()))),ee},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(ee){var de=w;return function(){var Te=w;w=de;try{return ee.apply(this,arguments)}finally{w=Te}}}})(Fg)),Fg}var nb;function RC(){return nb||(nb=1,Bg.exports=IC()),Bg.exports}var qg={exports:{}},pn={};var rb;function CC(){if(rb)return pn;rb=1;var r=n_();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:m,containerInfo:g,implementation:_}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},pn.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},pn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},pn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},pn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:R}):_==="script"&&i.d.X(m,{crossOrigin:E,integrity:w,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},pn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},pn.requestFormReset=function(m){i.d.r(m)},pn.unstable_batchedUpdates=function(m,g){return m(g)},pn.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},pn.useFormStatus=function(){return c.H.useHostTransitionStatus()},pn.version="19.2.3",pn}var ib;function NC(){if(ib)return qg.exports;ib=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qg.exports=CC(),qg.exports}var sb;function DC(){if(sb)return mc;sb=1;var r=RC(),e=n_(),t=NC();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(l(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return m(f),n;if(p===u)return m(f),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=p;else{for(var T=!1,A=f.child;A;){if(A===o){T=!0,o=f,u=p;break}if(A===u){T=!0,u=f,o=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===o){T=!0,o=p,u=f;break}if(A===u){T=!0,u=p,o=f;break}A=A.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function _(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=_(n),s!==null)return s;n=n.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),G=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var x=Symbol.for("react.client.reference");function Oe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===x?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case J:return"Profiler";case j:return"StrictMode";case le:return"Suspense";case pe:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case G:return n.displayName||"Context";case ne:return(n._context.displayName||"Context")+".Consumer";case W:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:Oe(n.type)||"Memo";case I:s=n._payload,n=n._init;try{return Oe(n(s))}catch{}}return null}var xt=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te={pending:!1,data:null,method:null,action:null},je=[],Ye=-1;function V(n){return{current:n}}function se(n){0>Ye||(n.current=je[Ye],je[Ye]=null,Ye--)}function fe(n,s){Ye++,je[Ye]=n.current,n.current=s}var ge=V(null),xe=V(null),Re=V(null),Ue=V(null);function Dt(n,s){switch(fe(Re,s),fe(xe,n),fe(ge,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?ET(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=ET(s),n=TT(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}se(ge),fe(ge,n)}function mt(){se(ge),se(xe),se(Re)}function mi(n){n.memoizedState!==null&&fe(Ue,n);var s=ge.current,o=TT(s,n.type);s!==o&&(fe(xe,n),fe(ge,o))}function hr(n){xe.current===n&&(se(ge),se(xe)),Ue.current===n&&(se(Ue),uc._currentValue=Te)}var Z,dt;function at(n){if(Z===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Z=s&&s[1]||"",dt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+n+dt}var Yt=!1;function pi(n,s){if(!n||Yt)return"";Yt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var $=X}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(X){$=X}n.call(ae.prototype)}}else{try{throw Error()}catch(X){$=X}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var D=T.split(`
`),K=A.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===K.length)for(u=D.length-1,f=K.length-1;1<=u&&0<=f&&D[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==K[f]){var te=`
`+D[u].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=u&&0<=f);break}}}finally{Yt=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?at(o):""}function fa(n,s){switch(n.tag){case 26:case 27:case 5:return at(n.type);case 16:return at("Lazy");case 13:return n.child!==s&&s!==null?at("Suspense Fallback"):at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return pi(n.type,!1);case 11:return pi(n.type.render,!1);case 1:return pi(n.type,!0);case 31:return at("Activity");default:return""}}function ma(n){try{var s="",o=null;do s+=fa(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var gt=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,gi=r.unstable_cancelCallback,pa=r.unstable_shouldYield,Sh=r.unstable_requestPaint,En=r.unstable_now,ga=r.unstable_getCurrentPriorityLevel,du=r.unstable_ImmediatePriority,fu=r.unstable_UserBlockingPriority,Wi=r.unstable_NormalPriority,Bm=r.unstable_LowPriority,xh=r.unstable_IdlePriority,Ih=r.log,Rh=r.unstable_setDisableYieldValue,dr=null,on=null;function Yn(n){if(typeof Ih=="function"&&Rh(n),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(dr,n)}catch{}}var Ot=Math.clz32?Math.clz32:Nh,Ch=Math.log,wo=Math.LN2;function Nh(n){return n>>>=0,n===0?32:31-(Ch(n)/wo|0)|0}var Vr=256,ya=262144,Ut=4194304;function Or(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Pr(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,p=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?f=Or(u):(T&=A,T!==0?f=Or(T):o||(o=A&~n,o!==0&&(f=Or(o))))):(A=u&~p,A!==0?f=Or(A):T!==0?f=Or(T):o||(o=u&~n,o!==0&&(f=Or(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function fr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Fm(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dh(){var n=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),n}function Mr(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function _a(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qm(n,s,o,u,f,p){var T=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var A=n.entanglements,D=n.expirationTimes,K=n.hiddenUpdates;for(o=T&~o;0<o;){var te=31-Ot(o),ae=1<<te;A[te]=0,D[te]=-1;var $=K[te];if($!==null)for(K[te]=null,te=0;te<$.length;te++){var X=$[te];X!==null&&(X.lane&=-536870913)}o&=~ae}u!==0&&va(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(T&~s))}function va(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Ot(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function mu(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Ot(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function pu(n,s){var o=s&-s;return o=(o&42)!==0?1:Ea(o),(o&(n.suspendedLanes|s))!==0?0:o}function Ea(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function yi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vh(){var n=de.p;return n!==0?n:(n=window.event,n===void 0?32:HT(n.type))}function mr(n,s){var o=de.p;try{return de.p=n,s()}finally{de.p=o}}var pr=Math.random().toString(36).slice(2),zt="__reactFiber$"+pr,en="__reactProps$"+pr,kr="__reactContainer$"+pr,Ao="__reactEvents$"+pr,Hm="__reactListeners$"+pr,Oh="__reactHandles$"+pr,Ph="__reactResources$"+pr,Lr="__reactMarker$"+pr;function So(n){delete n[zt],delete n[en],delete n[Ao],delete n[Hm],delete n[Oh]}function jr(n){var s=n[zt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[kr]||o[zt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=RT(n);n!==null;){if(o=n[zt])return o;n=RT(n)}return s}n=o,o=n.parentNode}return null}function Xn(n){if(n=n[zt]||n[kr]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function kn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Ur(n){var s=n[Ph];return s||(s=n[Ph]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(n){n[Lr]=!0}var gu=new Set,yu={};function zr(n,s){Br(n,s),Br(n+"Capture",s)}function Br(n,s){for(yu[n]=s,n=0;n<s.length;n++)gu.add(s[n])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},Eu={};function Mh(n){return gt.call(Eu,n)?!0:gt.call(vu,n)?!1:_u.test(n)?Eu[n]=!0:(vu[n]=!0,!1)}function xo(n,s,o){if(Mh(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Ln(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Ft(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Zi(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tu(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ze(n){if(!n._valueTracker){var s=Zi(n)?"checked":"value";n._valueTracker=Tu(n,s,""+n[s])}}function Ta(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Zi(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Fr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ba=/[\n"\\]/g;function wn(n){return n.replace(ba,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Io(n,s,o,u,f,p,T,A){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),s!=null?T==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+tn(s)):n.value!==""+tn(s)&&(n.value=""+tn(s)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),s!=null?bu(n,T,tn(s)):o!=null?bu(n,T,tn(o)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+tn(A):n.removeAttribute("name")}function kh(n,s,o,u,f,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){Ze(n);return}o=o!=null?""+tn(o):"",s=s!=null?""+tn(s):o,A||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=A?n.checked:!!u,n.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),Ze(n)}function bu(n,s,o){s==="number"&&Fr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function es(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+tn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Lh(n,s,o){if(s!=null&&(s=""+tn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+tn(o):""}function ts(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(xt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=tn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ze(n)}function An(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var jh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||jh.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Au(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&wu(n,f,u)}else for(var p in s)s.hasOwnProperty(p)&&wu(n,p,s[p])}function Ro(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Co(n){return ns.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function gr(){}var Su=null;function Jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var rs=null,qr=null;function wa(n){var s=Xn(n);if(s&&(n=s.stateNode)){var o=n[en]||null;e:switch(n=s.stateNode,s.type){case"input":if(Io(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+wn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[en]||null;if(!f)throw Error(i(90));Io(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Ta(u)}break e;case"textarea":Lh(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&es(n,!!o.multiple,s,!1)}}}var No=!1;function is(n,s,o){if(No)return n(s,o);No=!0;try{var u=n(s);return u}finally{if(No=!1,(rs!==null||qr!==null)&&(Vd(),rs&&(s=rs,n=qr,qr=rs=null,wa(s),n)))for(s=0;s<n.length;s++)wa(n[s])}}function yr(n,s){var o=n.stateNode;if(o===null)return null;var u=o[en]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(Wn)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Aa=!1}var Hr=null,xu=null,Sa=null;function Iu(){if(Sa)return Sa;var n,s=xu,o=s.length,u,f="value"in Hr?Hr.value:Hr.textContent,p=f.length;for(n=0;n<o&&s[n]===f[n];n++);var T=o-n;for(u=1;u<=T&&s[o-u]===f[p-u];u++);return Sa=f.slice(n,1<u?1-u:void 0)}function xa(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function _i(){return!0}function _r(){return!1}function ln(n){function s(o,u,f,p,T){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(o=n[A],this[A]=o?o(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?_i:_r,this.isPropagationStopped=_r,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),s}var vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gr=ln(vi),ss=E({},vi,{view:0,detail:0}),Ru=ln(ss),as,Do,Kr,Vo=E({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:os,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kr&&(Kr&&n.type==="mousemove"?(as=n.screenX-Kr.screenX,Do=n.screenY-Kr.screenY):Do=as=0,Kr=n),as)},movementY:function(n){return"movementY"in n?n.movementY:Do}}),Cu=ln(Vo),Ia=E({},Vo,{dataTransfer:0}),zh=ln(Ia),Bh=E({},ss,{relatedTarget:0}),Ra=ln(Bh),Nu=E({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fh=ln(Nu),Oo=E({},vi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qh=ln(Oo),Hh=E({},vi,{data:0}),Qr=ln(Hh),Gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $h(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Qh[n])?!!s[n]:!1}function os(){return $h}var Tn=E({},ss,{key:function(n){if(n.key){var s=Gh[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=xa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Kh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:os,charCode:function(n){return n.type==="keypress"?xa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?xa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Yh=ln(Tn),Xh=E({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ei=ln(Xh),h=E({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:os}),y=ln(h),b=E({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=ln(b),q=E({},Vo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=ln(q),ce=E({},vi,{newState:0,oldState:0}),Ne=ln(ce),Pt=[9,13,27,32],Xe=Wn&&"CompositionEvent"in window,Tt=null;Wn&&"documentMode"in document&&(Tt=document.documentMode);var Zn=Wn&&"TextEvent"in window&&!Tt,$r=Wn&&(!Xe||Tt&&8<Tt&&11>=Tt),vr=" ",Er=!1;function Ca(n,s){switch(n){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Po(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mo=!1;function $I(n,s){switch(n){case"compositionend":return Po(s);case"keypress":return s.which!==32?null:(Er=!0,vr);case"textInput":return n=s.data,n===vr&&Er?null:n;default:return null}}function YI(n,s){if(Mo)return n==="compositionend"||!Xe&&Ca(n,s)?(n=Iu(),Sa=xu=Hr=null,Mo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $r&&s.locale!=="ko"?null:s.data;default:return null}}var XI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!XI[n.type]:s==="textarea"}function Vv(n,s,o,u){rs?qr?qr.push(u):qr=[u]:rs=u,s=Ud(s,"onChange"),0<s.length&&(o=new Gr("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Du=null,Vu=null;function JI(n){mT(n,0)}function Jh(n){var s=kn(n);if(Ta(s))return n}function Ov(n,s){if(n==="change")return s}var Pv=!1;if(Wn){var Gm;if(Wn){var Km="oninput"in document;if(!Km){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),Km=typeof Mv.oninput=="function"}Gm=Km}else Gm=!1;Pv=Gm&&(!document.documentMode||9<document.documentMode)}function kv(){Du&&(Du.detachEvent("onpropertychange",Lv),Vu=Du=null)}function Lv(n){if(n.propertyName==="value"&&Jh(Vu)){var s=[];Vv(s,Vu,n,Jn(n)),is(JI,s)}}function WI(n,s,o){n==="focusin"?(kv(),Du=s,Vu=o,Du.attachEvent("onpropertychange",Lv)):n==="focusout"&&kv()}function ZI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Jh(Vu)}function eR(n,s){if(n==="click")return Jh(s)}function tR(n,s){if(n==="input"||n==="change")return Jh(s)}function nR(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var jn=typeof Object.is=="function"?Object.is:nR;function Ou(n,s){if(jn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!gt.call(s,f)||!jn(n[f],s[f]))return!1}return!0}function jv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Uv(n,s){var o=jv(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jv(o)}}function zv(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?zv(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Bv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Fr(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Fr(n.document)}return s}function Qm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var rR=Wn&&"documentMode"in document&&11>=document.documentMode,ko=null,$m=null,Pu=null,Ym=!1;function Fv(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ym||ko==null||ko!==Fr(u)||(u=ko,"selectionStart"in u&&Qm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pu&&Ou(Pu,u)||(Pu=u,u=Ud($m,"onSelect"),0<u.length&&(s=new Gr("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=ko)))}function Na(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Lo={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionrun:Na("Transition","TransitionRun"),transitionstart:Na("Transition","TransitionStart"),transitioncancel:Na("Transition","TransitionCancel"),transitionend:Na("Transition","TransitionEnd")},Xm={},qv={};Wn&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Da(n){if(Xm[n])return Xm[n];if(!Lo[n])return n;var s=Lo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in qv)return Xm[n]=s[o];return n}var Hv=Da("animationend"),Gv=Da("animationiteration"),Kv=Da("animationstart"),iR=Da("transitionrun"),sR=Da("transitionstart"),aR=Da("transitioncancel"),Qv=Da("transitionend"),$v=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jm.push("scrollEnd");function Tr(n,s){$v.set(n,s),zr(s,[n])}var Wh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},er=[],jo=0,Wm=0;function Zh(){for(var n=jo,s=Wm=jo=0;s<n;){var o=er[s];er[s++]=null;var u=er[s];er[s++]=null;var f=er[s];er[s++]=null;var p=er[s];if(er[s++]=null,u!==null&&f!==null){var T=u.pending;T===null?f.next=f:(f.next=T.next,T.next=f),u.pending=f}p!==0&&Yv(o,f,p)}}function ed(n,s,o,u){er[jo++]=n,er[jo++]=s,er[jo++]=o,er[jo++]=u,Wm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Zm(n,s,o,u){return ed(n,s,o,u),td(n)}function Va(n,s){return ed(n,null,null,s),td(n)}function Yv(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-Ot(o),n=p.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function td(n){if(50<nc)throw nc=0,lg=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Uo={};function oR(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(n,s,o,u){return new oR(n,s,o,u)}function ep(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ti(n,s){var o=n.alternate;return o===null?(o=Un(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Xv(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function nd(n,s,o,u,f,p){var T=0;if(u=n,typeof n=="function")ep(n)&&(T=1);else if(typeof n=="string")T=dC(n,o,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=Un(31,o,s,f),n.elementType=N,n.lanes=p,n;case L:return Oa(o.children,f,p,s);case j:T=8,f|=24;break;case J:return n=Un(12,o,s,f|2),n.elementType=J,n.lanes=p,n;case le:return n=Un(13,o,s,f),n.elementType=le,n.lanes=p,n;case pe:return n=Un(19,o,s,f),n.elementType=pe,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:T=10;break e;case ne:T=9;break e;case W:T=11;break e;case C:T=14;break e;case I:T=16,u=null;break e}T=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=Un(T,o,s,f),s.elementType=n,s.type=u,s.lanes=p,s}function Oa(n,s,o,u){return n=Un(7,n,u,s),n.lanes=o,n}function tp(n,s,o){return n=Un(6,n,null,s),n.lanes=o,n}function Jv(n){var s=Un(18,null,null,0);return s.stateNode=n,s}function np(n,s,o){return s=Un(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Wv=new WeakMap;function tr(n,s){if(typeof n=="object"&&n!==null){var o=Wv.get(n);return o!==void 0?o:(s={value:n,source:s,stack:ma(s)},Wv.set(n,s),s)}return{value:n,source:s,stack:ma(s)}}var zo=[],Bo=0,rd=null,Mu=0,nr=[],rr=0,ls=null,Yr=1,Xr="";function bi(n,s){zo[Bo++]=Mu,zo[Bo++]=rd,rd=n,Mu=s}function Zv(n,s,o){nr[rr++]=Yr,nr[rr++]=Xr,nr[rr++]=ls,ls=n;var u=Yr;n=Xr;var f=32-Ot(u)-1;u&=~(1<<f),o+=1;var p=32-Ot(s)+f;if(30<p){var T=f-f%5;p=(u&(1<<T)-1).toString(32),u>>=T,f-=T,Yr=1<<32-Ot(s)+f|o<<f|u,Xr=p+n}else Yr=1<<p|o<<f|u,Xr=n}function rp(n){n.return!==null&&(bi(n,1),Zv(n,1,0))}function ip(n){for(;n===rd;)rd=zo[--Bo],zo[Bo]=null,Mu=zo[--Bo],zo[Bo]=null;for(;n===ls;)ls=nr[--rr],nr[rr]=null,Xr=nr[--rr],nr[rr]=null,Yr=nr[--rr],nr[rr]=null}function e0(n,s){nr[rr++]=Yr,nr[rr++]=Xr,nr[rr++]=ls,Yr=s.id,Xr=s.overflow,ls=n}var un=null,yt=null,He=!1,us=null,ir=!1,sp=Error(i(519));function cs(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ku(tr(s,n)),sp}function t0(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[zt]=n,s[en]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<ic.length;o++)Le(ic[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),kh(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),ts(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||_T(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=gr),s=!0):s=!1,s||cs(n,!0)}function n0(n){for(un=n.return;un;)switch(un.tag){case 5:case 31:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:un=un.return}}function Fo(n){if(n!==un)return!1;if(!He)return n0(n),He=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||wg(n.type,n.memoizedProps)),o=!o),o&&yt&&cs(n),n0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));yt=IT(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));yt=IT(n)}else s===27?(s=yt,As(n.type)?(n=Rg,Rg=null,yt=n):yt=s):yt=un?ar(n.stateNode.nextSibling):null;return!0}function Pa(){yt=un=null,He=!1}function ap(){var n=us;return n!==null&&(Rn===null?Rn=n:Rn.push.apply(Rn,n),us=null),n}function ku(n){us===null?us=[n]:us.push(n)}var op=V(null),Ma=null,wi=null;function hs(n,s,o){fe(op,s._currentValue),s._currentValue=o}function Ai(n){n._currentValue=op.current,se(op)}function lp(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function up(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var T=f.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=f;for(var D=0;D<s.length;D++)if(A.context===s[D]){p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),lp(p.return,o,n),u||(T=null);break e}p=A.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(i(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),lp(T,o,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function qo(n,s,o,u){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=f.type;jn(f.pendingProps.value,T.value)||(n!==null?n.push(A):n=[A])}}else if(f===Ue.current){if(T=f.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(uc):n=[uc])}f=f.return}n!==null&&up(s,n,o,u),s.flags|=262144}function id(n){for(n=n.firstContext;n!==null;){if(!jn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ka(n){Ma=n,wi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function cn(n){return r0(Ma,n)}function sd(n,s){return Ma===null&&ka(n),r0(n,s)}function r0(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},wi===null){if(n===null)throw Error(i(308));wi=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else wi=wi.next=s;return o}var lR=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},uR=r.unstable_scheduleCallback,cR=r.unstable_NormalPriority,qt={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cp(){return{controller:new lR,data:new Map,refCount:0}}function Lu(n){n.refCount--,n.refCount===0&&uR(cR,function(){n.controller.abort()})}var ju=null,hp=0,Ho=0,Go=null;function hR(n,s){if(ju===null){var o=ju=[];hp=0,Ho=mg(),Go={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hp++,s.then(i0,i0),s}function i0(){if(--hp===0&&ju!==null){Go!==null&&(Go.status="fulfilled");var n=ju;ju=null,Ho=0,Go=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function dR(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var s0=ee.S;ee.S=function(n,s){FE=En(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&hR(n,s),s0!==null&&s0(n,s)};var La=V(null);function dp(){var n=La.current;return n!==null?n:ft.pooledCache}function ad(n,s){s===null?fe(La,La.current):fe(La,s.pool)}function a0(){var n=dp();return n===null?null:{parent:qt._currentValue,pool:n}}var Ko=Error(i(460)),fp=Error(i(474)),od=Error(i(542)),ld={then:function(){}};function o0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function l0(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(gr,gr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,c0(n),n;default:if(typeof s.status=="string")s.then(gr,gr);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,c0(n),n}throw Ua=s,Ko}}function ja(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ua=o,Ko):o}}var Ua=null;function u0(){if(Ua===null)throw Error(i(459));var n=Ua;return Ua=null,n}function c0(n){if(n===Ko||n===od)throw Error(i(483))}var Qo=null,Uu=0;function ud(n){var s=Uu;return Uu+=1,Qo===null&&(Qo=[]),l0(Qo,n,s)}function zu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function cd(n,s){throw s.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function h0(n){function s(z,P){if(n){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function o(z,P){if(!n)return null;for(;P!==null;)s(z,P),P=P.sibling;return null}function u(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Ti(z,P),z.index=0,z.sibling=null,z}function p(z,P,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=67108866,P):H):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function T(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function A(z,P,H,re){return P===null||P.tag!==6?(P=tp(H,z.mode,re),P.return=z,P):(P=f(P,H),P.return=z,P)}function D(z,P,H,re){var be=H.type;return be===L?te(z,P,H.props.children,re,H.key):P!==null&&(P.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===I&&ja(be)===P.type)?(P=f(P,H.props),zu(P,H),P.return=z,P):(P=nd(H.type,H.key,H.props,null,z.mode,re),zu(P,H),P.return=z,P)}function K(z,P,H,re){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=np(H,z.mode,re),P.return=z,P):(P=f(P,H.children||[]),P.return=z,P)}function te(z,P,H,re,be){return P===null||P.tag!==7?(P=Oa(H,z.mode,re,be),P.return=z,P):(P=f(P,H),P.return=z,P)}function ae(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=tp(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case R:return H=nd(P.type,P.key,P.props,null,z.mode,H),zu(H,P),H.return=z,H;case k:return P=np(P,z.mode,H),P.return=z,P;case I:return P=ja(P),ae(z,P,H)}if(xt(P)||U(P))return P=Oa(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return ae(z,ud(P),H);if(P.$$typeof===G)return ae(z,sd(z,P),H);cd(z,P)}return null}function $(z,P,H,re){var be=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return be!==null?null:A(z,P,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case R:return H.key===be?D(z,P,H,re):null;case k:return H.key===be?K(z,P,H,re):null;case I:return H=ja(H),$(z,P,H,re)}if(xt(H)||U(H))return be!==null?null:te(z,P,H,re,null);if(typeof H.then=="function")return $(z,P,ud(H),re);if(H.$$typeof===G)return $(z,P,sd(z,H),re);cd(z,H)}return null}function X(z,P,H,re,be){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return z=z.get(H)||null,A(P,z,""+re,be);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case R:return z=z.get(re.key===null?H:re.key)||null,D(P,z,re,be);case k:return z=z.get(re.key===null?H:re.key)||null,K(P,z,re,be);case I:return re=ja(re),X(z,P,H,re,be)}if(xt(re)||U(re))return z=z.get(H)||null,te(P,z,re,be,null);if(typeof re.then=="function")return X(z,P,H,ud(re),be);if(re.$$typeof===G)return X(z,P,H,sd(P,re),be);cd(P,re)}return null}function ye(z,P,H,re){for(var be=null,Ke=null,ve=P,Ve=P=0,Be=null;ve!==null&&Ve<H.length;Ve++){ve.index>Ve?(Be=ve,ve=null):Be=ve.sibling;var Qe=$(z,ve,H[Ve],re);if(Qe===null){ve===null&&(ve=Be);break}n&&ve&&Qe.alternate===null&&s(z,ve),P=p(Qe,P,Ve),Ke===null?be=Qe:Ke.sibling=Qe,Ke=Qe,ve=Be}if(Ve===H.length)return o(z,ve),He&&bi(z,Ve),be;if(ve===null){for(;Ve<H.length;Ve++)ve=ae(z,H[Ve],re),ve!==null&&(P=p(ve,P,Ve),Ke===null?be=ve:Ke.sibling=ve,Ke=ve);return He&&bi(z,Ve),be}for(ve=u(ve);Ve<H.length;Ve++)Be=X(ve,z,Ve,H[Ve],re),Be!==null&&(n&&Be.alternate!==null&&ve.delete(Be.key===null?Ve:Be.key),P=p(Be,P,Ve),Ke===null?be=Be:Ke.sibling=Be,Ke=Be);return n&&ve.forEach(function(Cs){return s(z,Cs)}),He&&bi(z,Ve),be}function we(z,P,H,re){if(H==null)throw Error(i(151));for(var be=null,Ke=null,ve=P,Ve=P=0,Be=null,Qe=H.next();ve!==null&&!Qe.done;Ve++,Qe=H.next()){ve.index>Ve?(Be=ve,ve=null):Be=ve.sibling;var Cs=$(z,ve,Qe.value,re);if(Cs===null){ve===null&&(ve=Be);break}n&&ve&&Cs.alternate===null&&s(z,ve),P=p(Cs,P,Ve),Ke===null?be=Cs:Ke.sibling=Cs,Ke=Cs,ve=Be}if(Qe.done)return o(z,ve),He&&bi(z,Ve),be;if(ve===null){for(;!Qe.done;Ve++,Qe=H.next())Qe=ae(z,Qe.value,re),Qe!==null&&(P=p(Qe,P,Ve),Ke===null?be=Qe:Ke.sibling=Qe,Ke=Qe);return He&&bi(z,Ve),be}for(ve=u(ve);!Qe.done;Ve++,Qe=H.next())Qe=X(ve,z,Ve,Qe.value,re),Qe!==null&&(n&&Qe.alternate!==null&&ve.delete(Qe.key===null?Ve:Qe.key),P=p(Qe,P,Ve),Ke===null?be=Qe:Ke.sibling=Qe,Ke=Qe);return n&&ve.forEach(function(wC){return s(z,wC)}),He&&bi(z,Ve),be}function ct(z,P,H,re){if(typeof H=="object"&&H!==null&&H.type===L&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case R:e:{for(var be=H.key;P!==null;){if(P.key===be){if(be=H.type,be===L){if(P.tag===7){o(z,P.sibling),re=f(P,H.props.children),re.return=z,z=re;break e}}else if(P.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===I&&ja(be)===P.type){o(z,P.sibling),re=f(P,H.props),zu(re,H),re.return=z,z=re;break e}o(z,P);break}else s(z,P);P=P.sibling}H.type===L?(re=Oa(H.props.children,z.mode,re,H.key),re.return=z,z=re):(re=nd(H.type,H.key,H.props,null,z.mode,re),zu(re,H),re.return=z,z=re)}return T(z);case k:e:{for(be=H.key;P!==null;){if(P.key===be)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){o(z,P.sibling),re=f(P,H.children||[]),re.return=z,z=re;break e}else{o(z,P);break}else s(z,P);P=P.sibling}re=np(H,z.mode,re),re.return=z,z=re}return T(z);case I:return H=ja(H),ct(z,P,H,re)}if(xt(H))return ye(z,P,H,re);if(U(H)){if(be=U(H),typeof be!="function")throw Error(i(150));return H=be.call(H),we(z,P,H,re)}if(typeof H.then=="function")return ct(z,P,ud(H),re);if(H.$$typeof===G)return ct(z,P,sd(z,H),re);cd(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(o(z,P.sibling),re=f(P,H),re.return=z,z=re):(o(z,P),re=tp(H,z.mode,re),re.return=z,z=re),T(z)):o(z,P)}return function(z,P,H,re){try{Uu=0;var be=ct(z,P,H,re);return Qo=null,be}catch(ve){if(ve===Ko||ve===od)throw ve;var Ke=Un(29,ve,null,z.mode);return Ke.lanes=re,Ke.return=z,Ke}}}var za=h0(!0),d0=h0(!1),ds=!1;function mp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pp(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function fs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ms(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=td(n),Yv(n,null,o),s}return ed(n,u,s,o),td(n)}function Bu(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,mu(n,o)}}function gp(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var yp=!1;function Fu(){if(yp){var n=Go;if(n!==null)throw n}}function qu(n,s,o,u){yp=!1;var f=n.updateQueue;ds=!1;var p=f.firstBaseUpdate,T=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,K=D.next;D.next=null,T===null?p=K:T.next=K,T=D;var te=n.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==T&&(A===null?te.firstBaseUpdate=K:A.next=K,te.lastBaseUpdate=D))}if(p!==null){var ae=f.baseState;T=0,te=K=D=null,A=p;do{var $=A.lane&-536870913,X=$!==A.lane;if(X?(ze&$)===$:(u&$)===$){$!==0&&$===Ho&&(yp=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ye=n,we=A;$=s;var ct=o;switch(we.tag){case 1:if(ye=we.payload,typeof ye=="function"){ae=ye.call(ct,ae,$);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=we.payload,$=typeof ye=="function"?ye.call(ct,ae,$):ye,$==null)break e;ae=E({},ae,$);break e;case 2:ds=!0}}$=A.callback,$!==null&&(n.flags|=64,X&&(n.flags|=8192),X=f.callbacks,X===null?f.callbacks=[$]:X.push($))}else X={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(K=te=X,D=ae):te=te.next=X,T|=$;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);te===null&&(D=ae),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=te,p===null&&(f.shared.lanes=0),vs|=T,n.lanes=T,n.memoizedState=ae}}function f0(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function m0(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)f0(o[n],s)}var $o=V(null),hd=V(0);function p0(n,s){n=Oi,fe(hd,n),fe($o,s),Oi=n|s.baseLanes}function _p(){fe(hd,Oi),fe($o,$o.current)}function vp(){Oi=hd.current,se($o),se(hd)}var zn=V(null),sr=null;function ps(n){var s=n.alternate;fe(Mt,Mt.current&1),fe(zn,n),sr===null&&(s===null||$o.current!==null||s.memoizedState!==null)&&(sr=n)}function Ep(n){fe(Mt,Mt.current),fe(zn,n),sr===null&&(sr=n)}function g0(n){n.tag===22?(fe(Mt,Mt.current),fe(zn,n),sr===null&&(sr=n)):gs()}function gs(){fe(Mt,Mt.current),fe(zn,zn.current)}function Bn(n){se(zn),sr===n&&(sr=null),se(Mt)}var Mt=V(0);function dd(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||xg(o)||Ig(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Si=0,De=null,lt=null,Ht=null,fd=!1,Yo=!1,Ba=!1,md=0,Hu=0,Xo=null,fR=0;function Ct(){throw Error(i(321))}function Tp(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!jn(n[o],s[o]))return!1;return!0}function bp(n,s,o,u,f,p){return Si=p,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ee.H=n===null||n.memoizedState===null?Z0:Lp,Ba=!1,p=o(u,f),Ba=!1,Yo&&(p=_0(s,o,u,f)),y0(n),p}function y0(n){ee.H=Qu;var s=lt!==null&&lt.next!==null;if(Si=0,Ht=lt=De=null,fd=!1,Hu=0,Xo=null,s)throw Error(i(300));n===null||Gt||(n=n.dependencies,n!==null&&id(n)&&(Gt=!0))}function _0(n,s,o,u){De=n;var f=0;do{if(Yo&&(Xo=null),Hu=0,Yo=!1,25<=f)throw Error(i(301));if(f+=1,Ht=lt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}ee.H=eE,p=s(o,u)}while(Yo);return p}function mR(){var n=ee.H,s=n.useState()[0];return s=typeof s.then=="function"?Gu(s):s,n=n.useState()[0],(lt!==null?lt.memoizedState:null)!==n&&(De.flags|=1024),s}function wp(){var n=md!==0;return md=0,n}function Ap(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Sp(n){if(fd){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}fd=!1}Si=0,Ht=lt=De=null,Yo=!1,Hu=md=0,Xo=null}function bn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?De.memoizedState=Ht=n:Ht=Ht.next=n,Ht}function kt(){if(lt===null){var n=De.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var s=Ht===null?De.memoizedState:Ht.next;if(s!==null)Ht=s,lt=n;else{if(n===null)throw De.alternate===null?Error(i(467)):Error(i(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Ht===null?De.memoizedState=Ht=n:Ht=Ht.next=n}return Ht}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gu(n){var s=Hu;return Hu+=1,Xo===null&&(Xo=[]),n=l0(Xo,n,s),s=De,(Ht===null?s.memoizedState:Ht.next)===null&&(s=s.alternate,ee.H=s===null||s.memoizedState===null?Z0:Lp),n}function gd(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Gu(n);if(n.$$typeof===G)return cn(n)}throw Error(i(438,String(n)))}function xp(n){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=pd(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=M;return s.index++,o}function xi(n,s){return typeof s=="function"?s(n):s}function yd(n){var s=kt();return Ip(s,lt,n)}function Ip(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var T=f.next;f.next=p.next,p.next=T}s.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var A=T=null,D=null,K=s,te=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(ze&ae)===ae:(Si&ae)===ae){var $=K.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===Ho&&(te=!0);else if((Si&$)===$){K=K.next,$===Ho&&(te=!0);continue}else ae={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=ae,T=p):D=D.next=ae,De.lanes|=$,vs|=$;ae=K.action,Ba&&o(p,ae),p=K.hasEagerState?K.eagerState:o(p,ae)}else $={lane:ae,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=$,T=p):D=D.next=$,De.lanes|=ae,vs|=ae;K=K.next}while(K!==null&&K!==s);if(D===null?T=p:D.next=A,!jn(p,n.memoizedState)&&(Gt=!0,te&&(o=Go,o!==null)))throw o;n.memoizedState=p,n.baseState=T,n.baseQueue=D,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Rp(n){var s=kt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var T=f=f.next;do p=n(p,T.action),T=T.next;while(T!==f);jn(p,s.memoizedState)||(Gt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function v0(n,s,o){var u=De,f=kt(),p=He;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!jn((lt||f).memoizedState,o);if(T&&(f.memoizedState=o,Gt=!0),f=f.queue,Dp(b0.bind(null,u,f,n),[n]),f.getSnapshot!==s||T||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,Jo(9,{destroy:void 0},T0.bind(null,u,f,o,s),null),ft===null)throw Error(i(349));p||(Si&127)!==0||E0(u,s,o)}return o}function E0(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=pd(),De.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function T0(n,s,o,u){s.value=o,s.getSnapshot=u,w0(s)&&A0(n)}function b0(n,s,o){return o(function(){w0(s)&&A0(n)})}function w0(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!jn(n,o)}catch{return!0}}function A0(n){var s=Va(n,2);s!==null&&Cn(s,n,2)}function Cp(n){var s=bn();if(typeof n=="function"){var o=n;if(n=o(),Ba){Yn(!0);try{o()}finally{Yn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:n},s}function S0(n,s,o,u){return n.baseState=o,Ip(n,lt,typeof u=="function"?u:xi)}function pR(n,s,o,u,f){if(Ed(n))throw Error(i(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};ee.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,x0(s,p)):(p.next=o.next,s.pending=o.next=p)}}function x0(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var p=ee.T,T={};ee.T=T;try{var A=o(f,u),D=ee.S;D!==null&&D(T,A),I0(n,s,A)}catch(K){Np(n,s,K)}finally{p!==null&&T.types!==null&&(p.types=T.types),ee.T=p}}else try{p=o(f,u),I0(n,s,p)}catch(K){Np(n,s,K)}}function I0(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){R0(n,s,u)},function(u){return Np(n,s,u)}):R0(n,s,o)}function R0(n,s,o){s.status="fulfilled",s.value=o,C0(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,x0(n,o)))}function Np(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,C0(s),s=s.next;while(s!==u)}n.action=null}function C0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function N0(n,s){return s}function D0(n,s){if(He){var o=ft.formState;if(o!==null){e:{var u=De;if(He){if(yt){t:{for(var f=yt,p=ir;f.nodeType!==8;){if(!p){f=null;break t}if(f=ar(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){yt=ar(f.nextSibling),u=f.data==="F!";break e}}cs(u)}u=!1}u&&(s=o[0])}}return o=bn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N0,lastRenderedState:s},o.queue=u,o=X0.bind(null,De,u),u.dispatch=o,u=Cp(!1),p=kp.bind(null,De,!1,u.queue),u=bn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=pR.bind(null,De,f,p,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function V0(n){var s=kt();return O0(s,lt,n)}function O0(n,s,o){if(s=Ip(n,s,N0)[0],n=yd(xi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Gu(s)}catch(T){throw T===Ko?od:T}else u=s;s=kt();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(De.flags|=2048,Jo(9,{destroy:void 0},gR.bind(null,f,o),null)),[u,p,n]}function gR(n,s){n.action=s}function P0(n){var s=kt(),o=lt;if(o!==null)return O0(s,o,n);kt(),s=s.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function Jo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=De.updateQueue,s===null&&(s=pd(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function M0(){return kt().memoizedState}function _d(n,s,o,u){var f=bn();De.flags|=n,f.memoizedState=Jo(1|s,{destroy:void 0},o,u===void 0?null:u)}function vd(n,s,o,u){var f=kt();u=u===void 0?null:u;var p=f.memoizedState.inst;lt!==null&&u!==null&&Tp(u,lt.memoizedState.deps)?f.memoizedState=Jo(s,p,o,u):(De.flags|=n,f.memoizedState=Jo(1|s,p,o,u))}function k0(n,s){_d(8390656,8,n,s)}function Dp(n,s){vd(2048,8,n,s)}function yR(n){De.flags|=4;var s=De.updateQueue;if(s===null)s=pd(),De.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function L0(n){var s=kt().memoizedState;return yR({ref:s,nextImpl:n}),function(){if((Je&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function j0(n,s){return vd(4,2,n,s)}function U0(n,s){return vd(4,4,n,s)}function z0(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function B0(n,s,o){o=o!=null?o.concat([n]):null,vd(4,4,z0.bind(null,s,n),o)}function Vp(){}function F0(n,s){var o=kt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Tp(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function q0(n,s){var o=kt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Tp(s,u[1]))return u[0];if(u=n(),Ba){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u}function Op(n,s,o){return o===void 0||(Si&1073741824)!==0&&(ze&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=HE(),De.lanes|=n,vs|=n,o)}function H0(n,s,o,u){return jn(o,s)?o:$o.current!==null?(n=Op(n,o,u),jn(n,s)||(Gt=!0),n):(Si&42)===0||(Si&1073741824)!==0&&(ze&261930)===0?(Gt=!0,n.memoizedState=o):(n=HE(),De.lanes|=n,vs|=n,s)}function G0(n,s,o,u,f){var p=de.p;de.p=p!==0&&8>p?p:8;var T=ee.T,A={};ee.T=A,kp(n,!1,s,o);try{var D=f(),K=ee.S;if(K!==null&&K(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var te=dR(D,u);Ku(n,s,te,Hn(n))}else Ku(n,s,u,Hn(n))}catch(ae){Ku(n,s,{then:function(){},status:"rejected",reason:ae},Hn())}finally{de.p=p,T!==null&&A.types!==null&&(T.types=A.types),ee.T=T}}function _R(){}function Pp(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=K0(n).queue;G0(n,f,s,Te,o===null?_R:function(){return Q0(n),o(u)})}function K0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:Te,baseState:Te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:Te},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Q0(n){var s=K0(n);s.next===null&&(s=n.alternate.memoizedState),Ku(n,s.next.queue,{},Hn())}function Mp(){return cn(uc)}function $0(){return kt().memoizedState}function Y0(){return kt().memoizedState}function vR(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Hn();n=fs(o);var u=ms(s,n,o);u!==null&&(Cn(u,s,o),Bu(u,s,o)),s={cache:cp()},n.payload=s;return}s=s.return}}function ER(n,s,o){var u=Hn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ed(n)?J0(s,o):(o=Zm(n,s,o,u),o!==null&&(Cn(o,n,u),W0(o,s,u)))}function X0(n,s,o){var u=Hn();Ku(n,s,o,u)}function Ku(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ed(n))J0(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var T=s.lastRenderedState,A=p(T,o);if(f.hasEagerState=!0,f.eagerState=A,jn(A,T))return ed(n,s,f,0),ft===null&&Zh(),!1}catch{}if(o=Zm(n,s,f,u),o!==null)return Cn(o,n,u),W0(o,s,u),!0}return!1}function kp(n,s,o,u){if(u={lane:2,revertLane:mg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ed(n)){if(s)throw Error(i(479))}else s=Zm(n,o,u,2),s!==null&&Cn(s,n,2)}function Ed(n){var s=n.alternate;return n===De||s!==null&&s===De}function J0(n,s){Yo=fd=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function W0(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,mu(n,o)}}var Qu={readContext:cn,use:gd,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};Qu.useEffectEvent=Ct;var Z0={readContext:cn,use:gd,useCallback:function(n,s){return bn().memoizedState=[n,s===void 0?null:s],n},useContext:cn,useEffect:k0,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,_d(4194308,4,z0.bind(null,s,n),o)},useLayoutEffect:function(n,s){return _d(4194308,4,n,s)},useInsertionEffect:function(n,s){_d(4,2,n,s)},useMemo:function(n,s){var o=bn();s=s===void 0?null:s;var u=n();if(Ba){Yn(!0);try{n()}finally{Yn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=bn();if(o!==void 0){var f=o(s);if(Ba){Yn(!0);try{o(s)}finally{Yn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=ER.bind(null,De,n),[u.memoizedState,n]},useRef:function(n){var s=bn();return n={current:n},s.memoizedState=n},useState:function(n){n=Cp(n);var s=n.queue,o=X0.bind(null,De,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Vp,useDeferredValue:function(n,s){var o=bn();return Op(o,n,s)},useTransition:function(){var n=Cp(!1);return n=G0.bind(null,De,n.queue,!0,!1),bn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=De,f=bn();if(He){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ft===null)throw Error(i(349));(ze&127)!==0||E0(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,k0(b0.bind(null,u,p,n),[n]),u.flags|=2048,Jo(9,{destroy:void 0},T0.bind(null,u,p,o,s),null),o},useId:function(){var n=bn(),s=ft.identifierPrefix;if(He){var o=Xr,u=Yr;o=(u&~(1<<32-Ot(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=md++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=fR++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Mp,useFormState:D0,useActionState:D0,useOptimistic:function(n){var s=bn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=kp.bind(null,De,!0,o),o.dispatch=s,[n,s]},useMemoCache:xp,useCacheRefresh:function(){return bn().memoizedState=vR.bind(null,De)},useEffectEvent:function(n){var s=bn(),o={impl:n};return s.memoizedState=o,function(){if((Je&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Lp={readContext:cn,use:gd,useCallback:F0,useContext:cn,useEffect:Dp,useImperativeHandle:B0,useInsertionEffect:j0,useLayoutEffect:U0,useMemo:q0,useReducer:yd,useRef:M0,useState:function(){return yd(xi)},useDebugValue:Vp,useDeferredValue:function(n,s){var o=kt();return H0(o,lt.memoizedState,n,s)},useTransition:function(){var n=yd(xi)[0],s=kt().memoizedState;return[typeof n=="boolean"?n:Gu(n),s]},useSyncExternalStore:v0,useId:$0,useHostTransitionStatus:Mp,useFormState:V0,useActionState:V0,useOptimistic:function(n,s){var o=kt();return S0(o,lt,n,s)},useMemoCache:xp,useCacheRefresh:Y0};Lp.useEffectEvent=L0;var eE={readContext:cn,use:gd,useCallback:F0,useContext:cn,useEffect:Dp,useImperativeHandle:B0,useInsertionEffect:j0,useLayoutEffect:U0,useMemo:q0,useReducer:Rp,useRef:M0,useState:function(){return Rp(xi)},useDebugValue:Vp,useDeferredValue:function(n,s){var o=kt();return lt===null?Op(o,n,s):H0(o,lt.memoizedState,n,s)},useTransition:function(){var n=Rp(xi)[0],s=kt().memoizedState;return[typeof n=="boolean"?n:Gu(n),s]},useSyncExternalStore:v0,useId:$0,useHostTransitionStatus:Mp,useFormState:P0,useActionState:P0,useOptimistic:function(n,s){var o=kt();return lt!==null?S0(o,lt,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:xp,useCacheRefresh:Y0};eE.useEffectEvent=L0;function jp(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:E({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Up={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Hn(),f=fs(u);f.payload=s,o!=null&&(f.callback=o),s=ms(n,f,u),s!==null&&(Cn(s,n,u),Bu(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Hn(),f=fs(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ms(n,f,u),s!==null&&(Cn(s,n,u),Bu(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Hn(),u=fs(o);u.tag=2,s!=null&&(u.callback=s),s=ms(n,u,o),s!==null&&(Cn(s,n,o),Bu(s,n,o))}};function tE(n,s,o,u,f,p,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,T):s.prototype&&s.prototype.isPureReactComponent?!Ou(o,u)||!Ou(f,p):!0}function nE(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Up.enqueueReplaceState(s,s.state,null)}function Fa(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=E({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function rE(n){Wh(n)}function iE(n){console.error(n)}function sE(n){Wh(n)}function Td(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function aE(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zp(n,s,o){return o=fs(o),o.tag=3,o.payload={element:null},o.callback=function(){Td(n,s)},o}function oE(n){return n=fs(n),n.tag=3,n}function lE(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){aE(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){aE(s,o,u),typeof f!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function TR(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&qo(s,o,f,!0),o=zn.current,o!==null){switch(o.tag){case 31:case 13:return sr===null?Od():o.alternate===null&&Nt===0&&(Nt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ld?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),hg(n,u,f)),!1;case 22:return o.flags|=65536,u===ld?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),hg(n,u,f)),!1}throw Error(i(435,o.tag))}return hg(n,u,f),Od(),!1}if(He)return s=zn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==sp&&(n=Error(i(422),{cause:u}),ku(tr(n,o)))):(u!==sp&&(s=Error(i(423),{cause:u}),ku(tr(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=tr(u,o),f=zp(n.stateNode,u,f),gp(n,f),Nt!==4&&(Nt=2)),!1;var p=Error(i(520),{cause:u});if(p=tr(p,o),tc===null?tc=[p]:tc.push(p),Nt!==4&&(Nt=2),s===null)return!0;u=tr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=zp(o.stateNode,u,n),gp(o,n),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Es===null||!Es.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=oE(f),lE(f,n,o,u),gp(o,f),!1}o=o.return}while(o!==null);return!1}var Bp=Error(i(461)),Gt=!1;function hn(n,s,o,u){s.child=n===null?d0(s,null,o,u):za(s,n.child,o,u)}function uE(n,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var T={};for(var A in u)A!=="ref"&&(T[A]=u[A])}else T=u;return ka(s),u=bp(n,s,o,T,p,f),A=wp(),n!==null&&!Gt?(Ap(n,s,f),Ii(n,s,f)):(He&&A&&rp(s),s.flags|=1,hn(n,s,u,f),s.child)}function cE(n,s,o,u,f){if(n===null){var p=o.type;return typeof p=="function"&&!ep(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,hE(n,s,p,u,f)):(n=nd(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!Yp(n,f)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ou,o(T,u)&&n.ref===s.ref)return Ii(n,s,f)}return s.flags|=1,n=Ti(p,u),n.ref=s.ref,n.return=s,s.child=n}function hE(n,s,o,u,f){if(n!==null){var p=n.memoizedProps;if(Ou(p,u)&&n.ref===s.ref)if(Gt=!1,s.pendingProps=u=p,Yp(n,f))(n.flags&131072)!==0&&(Gt=!0);else return s.lanes=n.lanes,Ii(n,s,f)}return Fp(n,s,o,u,f)}function dE(n,s,o,u){var f=u.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,s.child=null;return fE(n,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ad(s,p!==null?p.cachePool:null),p!==null?p0(s,p):_p(),g0(s);else return u=s.lanes=536870912,fE(n,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(ad(s,p.cachePool),p0(s,p),gs(),s.memoizedState=null):(n!==null&&ad(s,null),_p(),gs());return hn(n,s,f,o),s.child}function $u(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function fE(n,s,o,u,f){var p=dp();return p=p===null?null:{parent:qt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},n!==null&&ad(s,null),_p(),g0(s),n!==null&&qo(n,s,u,!0),s.childLanes=f,null}function bd(n,s){return s=Ad({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function mE(n,s,o){return za(s,n.child,null,o),n=bd(s,s.pendingProps),n.flags|=2,Bn(s),s.memoizedState=null,n}function bR(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(He){if(u.mode==="hidden")return n=bd(s,u),s.lanes=536870912,$u(null,n);if(Ep(s),(n=yt)?(n=xT(n,ir),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ls!==null?{id:Yr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},o=Jv(n),o.return=s,s.child=o,un=s,yt=null)):n=null,n===null)throw cs(s);return s.lanes=536870912,null}return bd(s,u)}var p=n.memoizedState;if(p!==null){var T=p.dehydrated;if(Ep(s),f)if(s.flags&256)s.flags&=-257,s=mE(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Gt||qo(n,s,o,!1),f=(o&n.childLanes)!==0,Gt||f){if(u=ft,u!==null&&(T=pu(u,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,Va(n,T),Cn(u,n,T),Bp;Od(),s=mE(n,s,o)}else n=p.treeContext,yt=ar(T.nextSibling),un=s,He=!0,us=null,ir=!1,n!==null&&e0(s,n),s=bd(s,u),s.flags|=4096;return s}return n=Ti(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function wd(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Fp(n,s,o,u,f){return ka(s),o=bp(n,s,o,u,void 0,f),u=wp(),n!==null&&!Gt?(Ap(n,s,f),Ii(n,s,f)):(He&&u&&rp(s),s.flags|=1,hn(n,s,o,f),s.child)}function pE(n,s,o,u,f,p){return ka(s),s.updateQueue=null,o=_0(s,u,o,f),y0(n),u=wp(),n!==null&&!Gt?(Ap(n,s,p),Ii(n,s,p)):(He&&u&&rp(s),s.flags|=1,hn(n,s,o,p),s.child)}function gE(n,s,o,u,f){if(ka(s),s.stateNode===null){var p=Uo,T=o.contextType;typeof T=="object"&&T!==null&&(p=cn(T)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Up,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},mp(s),T=o.contextType,p.context=typeof T=="object"&&T!==null?cn(T):Uo,p.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(jp(s,o,T,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Up.enqueueReplaceState(p,p.state,null),qu(s,u,p,f),Fu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){p=s.stateNode;var A=s.memoizedProps,D=Fa(o,A);p.props=D;var K=p.context,te=o.contextType;T=Uo,typeof te=="object"&&te!==null&&(T=cn(te));var ae=o.getDerivedStateFromProps;te=typeof ae=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||K!==T)&&nE(s,p,u,T),ds=!1;var $=s.memoizedState;p.state=$,qu(s,u,p,f),Fu(),K=s.memoizedState,A||$!==K||ds?(typeof ae=="function"&&(jp(s,o,ae,u),K=s.memoizedState),(D=ds||tE(s,o,D,u,$,K,T))?(te||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),p.props=u,p.state=K,p.context=T,u=D):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,pp(n,s),T=s.memoizedProps,te=Fa(o,T),p.props=te,ae=s.pendingProps,$=p.context,K=o.contextType,D=Uo,typeof K=="object"&&K!==null&&(D=cn(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==ae||$!==D)&&nE(s,p,u,D),ds=!1,$=s.memoizedState,p.state=$,qu(s,u,p,f),Fu();var X=s.memoizedState;T!==ae||$!==X||ds||n!==null&&n.dependencies!==null&&id(n.dependencies)?(typeof A=="function"&&(jp(s,o,A,u),X=s.memoizedState),(te=ds||tE(s,o,te,u,$,X,D)||n!==null&&n.dependencies!==null&&id(n.dependencies))?(K||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,D)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=X),p.props=u,p.state=X,p.context=D,u=te):(typeof p.componentDidUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),u=!1)}return p=u,wd(n,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&u?(s.child=za(s,n.child,null,f),s.child=za(s,null,o,f)):hn(n,s,o,f),s.memoizedState=p.state,n=s.child):n=Ii(n,s,f),n}function yE(n,s,o,u){return Pa(),s.flags|=256,hn(n,s,o,u),s.child}var qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hp(n){return{baseLanes:n,cachePool:a0()}}function Gp(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=qn),n}function _E(n,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,T;if((T=p)||(T=n!==null&&n.memoizedState===null?!1:(Mt.current&2)!==0),T&&(f=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,n===null){if(He){if(f?ps(s):gs(),(n=yt)?(n=xT(n,ir),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ls!==null?{id:Yr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},o=Jv(n),o.return=s,s.child=o,un=s,yt=null)):n=null,n===null)throw cs(s);return Ig(n)?s.lanes=32:s.lanes=536870912,null}var A=u.children;return u=u.fallback,f?(gs(),f=s.mode,A=Ad({mode:"hidden",children:A},f),u=Oa(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,u=s.child,u.memoizedState=Hp(o),u.childLanes=Gp(n,T,o),s.memoizedState=qp,$u(null,u)):(ps(s),Kp(s,A))}var D=n.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(p)s.flags&256?(ps(s),s.flags&=-257,s=Qp(n,s,o)):s.memoizedState!==null?(gs(),s.child=n.child,s.flags|=128,s=null):(gs(),A=u.fallback,f=s.mode,u=Ad({mode:"visible",children:u.children},f),A=Oa(A,f,o,null),A.flags|=2,u.return=s,A.return=s,u.sibling=A,s.child=u,za(s,n.child,null,o),u=s.child,u.memoizedState=Hp(o),u.childLanes=Gp(n,T,o),s.memoizedState=qp,s=$u(null,u));else if(ps(s),Ig(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var K=T.dgst;T=K,u=Error(i(419)),u.stack="",u.digest=T,ku({value:u,source:null,stack:null}),s=Qp(n,s,o)}else if(Gt||qo(n,s,o,!1),T=(o&n.childLanes)!==0,Gt||T){if(T=ft,T!==null&&(u=pu(T,o),u!==0&&u!==D.retryLane))throw D.retryLane=u,Va(n,u),Cn(T,n,u),Bp;xg(A)||Od(),s=Qp(n,s,o)}else xg(A)?(s.flags|=192,s.child=n.child,s=null):(n=D.treeContext,yt=ar(A.nextSibling),un=s,He=!0,us=null,ir=!1,n!==null&&e0(s,n),s=Kp(s,u.children),s.flags|=4096);return s}return f?(gs(),A=u.fallback,f=s.mode,D=n.child,K=D.sibling,u=Ti(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,K!==null?A=Ti(K,A):(A=Oa(A,f,o,null),A.flags|=2),A.return=s,u.return=s,u.sibling=A,s.child=u,$u(null,u),u=s.child,A=n.child.memoizedState,A===null?A=Hp(o):(f=A.cachePool,f!==null?(D=qt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=a0(),A={baseLanes:A.baseLanes|o,cachePool:f}),u.memoizedState=A,u.childLanes=Gp(n,T,o),s.memoizedState=qp,$u(n.child,u)):(ps(s),o=n.child,n=o.sibling,o=Ti(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(T=s.deletions,T===null?(s.deletions=[n],s.flags|=16):T.push(n)),s.child=o,s.memoizedState=null,o)}function Kp(n,s){return s=Ad({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Ad(n,s){return n=Un(22,n,null,s),n.lanes=0,n}function Qp(n,s,o){return za(s,n.child,null,o),n=Kp(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function vE(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),lp(n.return,s,o)}function $p(n,s,o,u,f,p){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:p}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=f,T.treeForkCount=p)}function EE(n,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var T=Mt.current,A=(T&2)!==0;if(A?(T=T&1|2,s.flags|=128):T&=1,fe(Mt,T),hn(n,s,u,o),u=He?Mu:0,!A&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vE(n,o,s);else if(n.tag===19)vE(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&dd(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),$p(s,!1,f,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&dd(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}$p(s,!0,o,null,p,u);break;case"together":$p(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ii(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),vs|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(qo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=Ti(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Ti(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Yp(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&id(n)))}function wR(n,s,o){switch(s.tag){case 3:Dt(s,s.stateNode.containerInfo),hs(s,qt,n.memoizedState.cache),Pa();break;case 27:case 5:mi(s);break;case 4:Dt(s,s.stateNode.containerInfo);break;case 10:hs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ep(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ps(s),s.flags|=128,null):(o&s.child.childLanes)!==0?_E(n,s,o):(ps(s),n=Ii(n,s,o),n!==null?n.sibling:null);ps(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(qo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return EE(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),fe(Mt,Mt.current),u)break;return null;case 22:return s.lanes=0,dE(n,s,o,s.pendingProps);case 24:hs(s,qt,n.memoizedState.cache)}return Ii(n,s,o)}function TE(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Gt=!0;else{if(!Yp(n,o)&&(s.flags&128)===0)return Gt=!1,wR(n,s,o);Gt=(n.flags&131072)!==0}else Gt=!1,He&&(s.flags&1048576)!==0&&Zv(s,Mu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=ja(s.elementType),s.type=n,typeof n=="function")ep(n)?(u=Fa(n,u),s.tag=1,s=gE(null,s,n,u,o)):(s.tag=0,s=Fp(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===W){s.tag=11,s=uE(null,s,n,u,o);break e}else if(f===C){s.tag=14,s=cE(null,s,n,u,o);break e}}throw s=Oe(n)||n,Error(i(306,s,""))}}return s;case 0:return Fp(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Fa(u,s.pendingProps),gE(n,s,u,f,o);case 3:e:{if(Dt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,pp(n,s),qu(s,u,null,o);var T=s.memoizedState;if(u=T.cache,hs(s,qt,u),u!==p.cache&&up(s,[qt],o,!0),Fu(),u=T.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=yE(n,s,u,o);break e}else if(u!==f){f=tr(Error(i(424)),s),ku(f),s=yE(n,s,u,o);break e}else for(n=s.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,yt=ar(n.firstChild),un=s,He=!0,us=null,ir=!0,o=d0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Pa(),u===f){s=Ii(n,s,o);break e}hn(n,s,u,o)}s=s.child}return s;case 26:return wd(n,s),n===null?(o=VT(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,n=s.pendingProps,u=zd(Re.current).createElement(o),u[zt]=s,u[en]=n,dn(u,o,n),Bt(u),s.stateNode=u):s.memoizedState=VT(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return mi(s),n===null&&He&&(u=s.stateNode=CT(s.type,s.pendingProps,Re.current),un=s,ir=!0,f=yt,As(s.type)?(Rg=f,yt=ar(u.firstChild)):yt=f),hn(n,s,s.pendingProps.children,o),wd(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&He&&((f=u=yt)&&(u=ZR(u,s.type,s.pendingProps,ir),u!==null?(s.stateNode=u,un=s,yt=ar(u.firstChild),ir=!1,f=!0):f=!1),f||cs(s)),mi(s),f=s.type,p=s.pendingProps,T=n!==null?n.memoizedProps:null,u=p.children,wg(f,p)?u=null:T!==null&&wg(f,T)&&(s.flags|=32),s.memoizedState!==null&&(f=bp(n,s,mR,null,null,o),uc._currentValue=f),wd(n,s),hn(n,s,u,o),s.child;case 6:return n===null&&He&&((n=o=yt)&&(o=eC(o,s.pendingProps,ir),o!==null?(s.stateNode=o,un=s,yt=null,n=!0):n=!1),n||cs(s)),null;case 13:return _E(n,s,o);case 4:return Dt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=za(s,null,u,o):hn(n,s,u,o),s.child;case 11:return uE(n,s,s.type,s.pendingProps,o);case 7:return hn(n,s,s.pendingProps,o),s.child;case 8:return hn(n,s,s.pendingProps.children,o),s.child;case 12:return hn(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,hs(s,s.type,u.value),hn(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ka(s),f=cn(f),u=u(f),s.flags|=1,hn(n,s,u,o),s.child;case 14:return cE(n,s,s.type,s.pendingProps,o);case 15:return hE(n,s,s.type,s.pendingProps,o);case 19:return EE(n,s,o);case 31:return bR(n,s,o);case 22:return dE(n,s,o,s.pendingProps);case 24:return ka(s),u=cn(qt),n===null?(f=dp(),f===null&&(f=ft,p=cp(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},mp(s),hs(s,qt,f)):((n.lanes&o)!==0&&(pp(n,s),qu(s,null,null,o),Fu()),f=n.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),hs(s,qt,u)):(u=p.cache,hs(s,qt,u),u!==f.cache&&up(s,[qt],o,!0))),hn(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ri(n){n.flags|=4}function Xp(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if($E())n.flags|=8192;else throw Ua=ld,fp}else n.flags&=-16777217}function bE(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!LT(s))if($E())n.flags|=8192;else throw Ua=ld,fp}function Sd(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Dh():536870912,n.lanes|=s,tl|=s)}function Yu(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function _t(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function AR(n,s,o){var u=s.pendingProps;switch(ip(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ai(qt),mt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Fo(s)?Ri(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ap())),_t(s),null;case 26:var f=s.type,p=s.memoizedState;return n===null?(Ri(s),p!==null?(_t(s),bE(s,p)):(_t(s),Xp(s,f,null,u,o))):p?p!==n.memoizedState?(Ri(s),_t(s),bE(s,p)):(_t(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Ri(s),_t(s),Xp(s,f,n,u,o)),null;case 27:if(hr(s),o=Re.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ri(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return _t(s),null}n=ge.current,Fo(s)?t0(s):(n=CT(f,u,o),s.stateNode=n,Ri(s))}return _t(s),null;case 5:if(hr(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Ri(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return _t(s),null}if(p=ge.current,Fo(s))t0(s);else{var T=zd(Re.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?T.createElement(f,{is:u.is}):T.createElement(f)}}p[zt]=s,p[en]=u;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=p;e:switch(dn(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ri(s)}}return _t(s),Xp(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Ri(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=Re.current,Fo(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=un,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[zt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||_T(n.nodeValue,o)),n||cs(s,!0)}else n=zd(n).createTextNode(u),n[zt]=s,s.stateNode=n}return _t(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=Fo(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[zt]=s}else Pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),n=!1}else o=ap(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Bn(s),s):(Bn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return _t(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Fo(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[zt]=s}else Pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),f=!1}else f=ap(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Bn(s),s):(Bn(s),null)}return Bn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Sd(s,s.updateQueue),_t(s),null);case 4:return mt(),n===null&&_g(s.stateNode.containerInfo),_t(s),null;case 10:return Ai(s.type),_t(s),null;case 19:if(se(Mt),u=s.memoizedState,u===null)return _t(s),null;if(f=(s.flags&128)!==0,p=u.rendering,p===null)if(f)Yu(u,!1);else{if(Nt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=dd(n),p!==null){for(s.flags|=128,Yu(u,!1),n=p.updateQueue,s.updateQueue=n,Sd(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Xv(o,n),o=o.sibling;return fe(Mt,Mt.current&1|2),He&&bi(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&En()>Nd&&(s.flags|=128,f=!0,Yu(u,!1),s.lanes=4194304)}else{if(!f)if(n=dd(p),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Sd(s,n),Yu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!He)return _t(s),null}else 2*En()-u.renderingStartTime>Nd&&o!==536870912&&(s.flags|=128,f=!0,Yu(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(n=u.last,n!==null?n.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=En(),n.sibling=null,o=Mt.current,fe(Mt,f?o&1|2:o&1),He&&bi(s,u.treeForkCount),n):(_t(s),null);case 22:case 23:return Bn(s),vp(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),o=s.updateQueue,o!==null&&Sd(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&se(La),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ai(qt),_t(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function SR(n,s){switch(ip(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Ai(qt),mt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return hr(s),null;case 31:if(s.memoizedState!==null){if(Bn(s),s.alternate===null)throw Error(i(340));Pa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Bn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Pa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return se(Mt),null;case 4:return mt(),null;case 10:return Ai(s.type),null;case 22:case 23:return Bn(s),vp(),n!==null&&se(La),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Ai(qt),null;case 25:return null;default:return null}}function wE(n,s){switch(ip(s),s.tag){case 3:Ai(qt),mt();break;case 26:case 27:case 5:hr(s);break;case 4:mt();break;case 31:s.memoizedState!==null&&Bn(s);break;case 13:Bn(s);break;case 19:se(Mt);break;case 10:Ai(s.type);break;case 22:case 23:Bn(s),vp(),n!==null&&se(La);break;case 24:Ai(qt)}}function Xu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var p=o.create,T=o.inst;u=p(),T.destroy=u}o=o.next}while(o!==f)}}catch(A){tt(s,s.return,A)}}function ys(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var T=u.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,f=s;var D=o,K=A;try{K()}catch(te){tt(f,D,te)}}}u=u.next}while(u!==p)}}catch(te){tt(s,s.return,te)}}function AE(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{m0(s,o)}catch(u){tt(n,n.return,u)}}}function SE(n,s,o){o.props=Fa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,s,u)}}function Ju(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,s,f)}}function Jr(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,s,f)}else o.current=null}function xE(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function Jp(n,s,o){try{var u=n.stateNode;QR(u,n.type,o,s),u[en]=s}catch(f){tt(n,n.return,f)}}function IE(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&As(n.type)||n.tag===4}function Wp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||IE(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&As(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zp(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=gr));else if(u!==4&&(u===27&&As(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Zp(n,s,o),n=n.sibling;n!==null;)Zp(n,s,o),n=n.sibling}function xd(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&As(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(xd(n,s,o),n=n.sibling;n!==null;)xd(n,s,o),n=n.sibling}function RE(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);dn(s,u,o),s[zt]=n,s[en]=o}catch(p){tt(n,n.return,p)}}var Ci=!1,Kt=!1,eg=!1,CE=typeof WeakSet=="function"?WeakSet:Set,nn=null;function xR(n,s){if(n=n.containerInfo,Tg=Qd,n=Bv(n),Qm(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var T=0,A=-1,D=-1,K=0,te=0,ae=n,$=null;t:for(;;){for(var X;ae!==o||f!==0&&ae.nodeType!==3||(A=T+f),ae!==p||u!==0&&ae.nodeType!==3||(D=T+u),ae.nodeType===3&&(T+=ae.nodeValue.length),(X=ae.firstChild)!==null;)$=ae,ae=X;for(;;){if(ae===n)break t;if($===o&&++K===f&&(A=T),$===p&&++te===u&&(D=T),(X=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=X}o=A===-1||D===-1?null:{start:A,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(bg={focusedElem:n,selectionRange:o},Qd=!1,nn=s;nn!==null;)if(s=nn,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,nn=n;else for(;nn!==null;){switch(s=nn,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var ye=Fa(o.type,f);n=u.getSnapshotBeforeUpdate(ye,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(we){tt(o,o.return,we)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Sg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Sg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,nn=n;break}nn=s.return}}function NE(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Di(n,o),u&4&&Xu(5,o);break;case 1:if(Di(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(T){tt(o,o.return,T)}else{var f=Fa(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(T){tt(o,o.return,T)}}u&64&&AE(o),u&512&&Ju(o,o.return);break;case 3:if(Di(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{m0(n,s)}catch(T){tt(o,o.return,T)}}break;case 27:s===null&&u&4&&RE(o);case 26:case 5:Di(n,o),s===null&&u&4&&xE(o),u&512&&Ju(o,o.return);break;case 12:Di(n,o);break;case 31:Di(n,o),u&4&&OE(n,o);break;case 13:Di(n,o),u&4&&PE(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=MR.bind(null,o),tC(n,o))));break;case 22:if(u=o.memoizedState!==null||Ci,!u){s=s!==null&&s.memoizedState!==null||Kt,f=Ci;var p=Kt;Ci=u,(Kt=s)&&!p?Vi(n,o,(o.subtreeFlags&8772)!==0):Di(n,o),Ci=f,Kt=p}break;case 30:break;default:Di(n,o)}}function DE(n){var s=n.alternate;s!==null&&(n.alternate=null,DE(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&So(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bt=null,Sn=!1;function Ni(n,s,o){for(o=o.child;o!==null;)VE(n,s,o),o=o.sibling}function VE(n,s,o){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(dr,o)}catch{}switch(o.tag){case 26:Kt||Jr(o,s),Ni(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Kt||Jr(o,s);var u=bt,f=Sn;As(o.type)&&(bt=o.stateNode,Sn=!1),Ni(n,s,o),ac(o.stateNode),bt=u,Sn=f;break;case 5:Kt||Jr(o,s);case 6:if(u=bt,f=Sn,bt=null,Ni(n,s,o),bt=u,Sn=f,bt!==null)if(Sn)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(p){tt(o,s,p)}else try{bt.removeChild(o.stateNode)}catch(p){tt(o,s,p)}break;case 18:bt!==null&&(Sn?(n=bt,AT(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ul(n)):AT(bt,o.stateNode));break;case 4:u=bt,f=Sn,bt=o.stateNode.containerInfo,Sn=!0,Ni(n,s,o),bt=u,Sn=f;break;case 0:case 11:case 14:case 15:ys(2,o,s),Kt||ys(4,o,s),Ni(n,s,o);break;case 1:Kt||(Jr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&SE(o,s,u)),Ni(n,s,o);break;case 21:Ni(n,s,o);break;case 22:Kt=(u=Kt)||o.memoizedState!==null,Ni(n,s,o),Kt=u;break;default:Ni(n,s,o)}}function OE(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ul(n)}catch(o){tt(s,s.return,o)}}}function PE(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ul(n)}catch(o){tt(s,s.return,o)}}function IR(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new CE),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new CE),s;default:throw Error(i(435,n.tag))}}function Id(n,s){var o=IR(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=kR.bind(null,n,u);u.then(f,f)}})}function xn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=n,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(As(A.type)){bt=A.stateNode,Sn=!1;break e}break;case 5:bt=A.stateNode,Sn=!1;break e;case 3:case 4:bt=A.stateNode.containerInfo,Sn=!0;break e}A=A.return}if(bt===null)throw Error(i(160));VE(p,T,f),bt=null,Sn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ME(s,n),s=s.sibling}var br=null;function ME(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xn(s,n),In(n),u&4&&(ys(3,n,n.return),Xu(3,n),ys(5,n,n.return));break;case 1:xn(s,n),In(n),u&512&&(Kt||o===null||Jr(o,o.return)),u&64&&Ci&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=br;if(xn(s,n),In(n),u&512&&(Kt||o===null||Jr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Lr]||p[zt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),dn(p,u,o),p[zt]=n,Bt(p),u=p;break e;case"link":var T=MT("link","href",f).get(u+(o.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(A,1);break t}}p=f.createElement(u),dn(p,u,o),f.head.appendChild(p);break;case"meta":if(T=MT("meta","content",f).get(u+(o.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(A,1);break t}}p=f.createElement(u),dn(p,u,o),f.head.appendChild(p);break;default:throw Error(i(468,u))}p[zt]=n,Bt(p),u=p}n.stateNode=u}else kT(f,n.type,n.stateNode);else n.stateNode=PT(f,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?kT(f,n.type,n.stateNode):PT(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Jp(n,n.memoizedProps,o.memoizedProps)}break;case 27:xn(s,n),In(n),u&512&&(Kt||o===null||Jr(o,o.return)),o!==null&&u&4&&Jp(n,n.memoizedProps,o.memoizedProps);break;case 5:if(xn(s,n),In(n),u&512&&(Kt||o===null||Jr(o,o.return)),n.flags&32){f=n.stateNode;try{An(f,"")}catch(ye){tt(n,n.return,ye)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Jp(n,f,o!==null?o.memoizedProps:f)),u&1024&&(eg=!0);break;case 6:if(xn(s,n),In(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(ye){tt(n,n.return,ye)}}break;case 3:if(qd=null,f=br,br=Bd(s.containerInfo),xn(s,n),br=f,In(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ul(s.containerInfo)}catch(ye){tt(n,n.return,ye)}eg&&(eg=!1,kE(n));break;case 4:u=br,br=Bd(n.stateNode.containerInfo),xn(s,n),In(n),br=u;break;case 12:xn(s,n),In(n);break;case 31:xn(s,n),In(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Id(n,u)));break;case 13:xn(s,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Cd=En()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Id(n,u)));break;case 22:f=n.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,K=Ci,te=Kt;if(Ci=K||f,Kt=te||D,xn(s,n),Kt=te,Ci=K,In(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||D||Ci||Kt||qa(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(p=D.stateNode,f)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=D.stateNode;var ae=D.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ye){tt(D,D.return,ye)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ye){tt(D,D.return,ye)}}}else if(s.tag===18){if(o===null){D=s;try{var X=D.stateNode;f?ST(X,!0):ST(D.stateNode,!1)}catch(ye){tt(D,D.return,ye)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Id(n,o))));break;case 19:xn(s,n),In(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Id(n,u)));break;case 30:break;case 21:break;default:xn(s,n),In(n)}}function In(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(IE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,p=Wp(n);xd(n,p,f);break;case 5:var T=o.stateNode;o.flags&32&&(An(T,""),o.flags&=-33);var A=Wp(n);xd(n,A,T);break;case 3:case 4:var D=o.stateNode.containerInfo,K=Wp(n);Zp(n,K,D);break;default:throw Error(i(161))}}catch(te){tt(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function kE(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;kE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Di(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)NE(n,s.alternate,s),s=s.sibling}function qa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ys(4,s,s.return),qa(s);break;case 1:Jr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&SE(s,s.return,o),qa(s);break;case 27:ac(s.stateNode);case 26:case 5:Jr(s,s.return),qa(s);break;case 22:s.memoizedState===null&&qa(s);break;case 30:qa(s);break;default:qa(s)}n=n.sibling}}function Vi(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,p=s,T=p.flags;switch(p.tag){case 0:case 11:case 15:Vi(f,p,o),Xu(4,p);break;case 1:if(Vi(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){tt(u,u.return,K)}if(u=p,f=u.updateQueue,f!==null){var A=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)f0(D[f],A)}catch(K){tt(u,u.return,K)}}o&&T&64&&AE(p),Ju(p,p.return);break;case 27:RE(p);case 26:case 5:Vi(f,p,o),o&&u===null&&T&4&&xE(p),Ju(p,p.return);break;case 12:Vi(f,p,o);break;case 31:Vi(f,p,o),o&&T&4&&OE(f,p);break;case 13:Vi(f,p,o),o&&T&4&&PE(f,p);break;case 22:p.memoizedState===null&&Vi(f,p,o),Ju(p,p.return);break;case 30:break;default:Vi(f,p,o)}s=s.sibling}}function tg(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Lu(o))}function ng(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Lu(n))}function wr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)LE(n,s,o,u),s=s.sibling}function LE(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:wr(n,s,o,u),f&2048&&Xu(9,s);break;case 1:wr(n,s,o,u);break;case 3:wr(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Lu(n)));break;case 12:if(f&2048){wr(n,s,o,u),n=s.stateNode;try{var p=s.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){tt(s,s.return,D)}}else wr(n,s,o,u);break;case 31:wr(n,s,o,u);break;case 13:wr(n,s,o,u);break;case 23:break;case 22:p=s.stateNode,T=s.alternate,s.memoizedState!==null?p._visibility&2?wr(n,s,o,u):Wu(n,s):p._visibility&2?wr(n,s,o,u):(p._visibility|=2,Wo(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&tg(T,s);break;case 24:wr(n,s,o,u),f&2048&&ng(s.alternate,s);break;default:wr(n,s,o,u)}}function Wo(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,T=s,A=o,D=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Wo(p,T,A,D,f),Xu(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?Wo(p,T,A,D,f):Wu(p,T):(te._visibility|=2,Wo(p,T,A,D,f)),f&&K&2048&&tg(T.alternate,T);break;case 24:Wo(p,T,A,D,f),f&&K&2048&&ng(T.alternate,T);break;default:Wo(p,T,A,D,f)}s=s.sibling}}function Wu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:Wu(o,u),f&2048&&tg(u.alternate,u);break;case 24:Wu(o,u),f&2048&&ng(u.alternate,u);break;default:Wu(o,u)}s=s.sibling}}var Zu=8192;function Zo(n,s,o){if(n.subtreeFlags&Zu)for(n=n.child;n!==null;)jE(n,s,o),n=n.sibling}function jE(n,s,o){switch(n.tag){case 26:Zo(n,s,o),n.flags&Zu&&n.memoizedState!==null&&fC(o,br,n.memoizedState,n.memoizedProps);break;case 5:Zo(n,s,o);break;case 3:case 4:var u=br;br=Bd(n.stateNode.containerInfo),Zo(n,s,o),br=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Zu,Zu=16777216,Zo(n,s,o),Zu=u):Zo(n,s,o));break;default:Zo(n,s,o)}}function UE(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ec(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,BE(u,n)}UE(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zE(n),n=n.sibling}function zE(n){switch(n.tag){case 0:case 11:case 15:ec(n),n.flags&2048&&ys(9,n,n.return);break;case 3:ec(n);break;case 12:ec(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Rd(n)):ec(n);break;default:ec(n)}}function Rd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];nn=u,BE(u,n)}UE(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ys(8,s,s.return),Rd(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Rd(s));break;default:Rd(s)}n=n.sibling}}function BE(n,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ys(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Lu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,nn=u;else e:for(o=n;nn!==null;){u=nn;var f=u.sibling,p=u.return;if(DE(u),u===o){nn=null;break e}if(f!==null){f.return=p,nn=f;break e}nn=p}}}var RR={getCacheForType:function(n){var s=cn(qt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return cn(qt).controller.signal}},CR=typeof WeakMap=="function"?WeakMap:Map,Je=0,ft=null,ke=null,ze=0,et=0,Fn=null,_s=!1,el=!1,rg=!1,Oi=0,Nt=0,vs=0,Ha=0,ig=0,qn=0,tl=0,tc=null,Rn=null,sg=!1,Cd=0,FE=0,Nd=1/0,Dd=null,Es=null,Xt=0,Ts=null,nl=null,Pi=0,ag=0,og=null,qE=null,nc=0,lg=null;function Hn(){return(Je&2)!==0&&ze!==0?ze&-ze:ee.T!==null?mg():Vh()}function HE(){if(qn===0)if((ze&536870912)===0||He){var n=ya;ya<<=1,(ya&3932160)===0&&(ya=262144),qn=n}else qn=536870912;return n=zn.current,n!==null&&(n.flags|=32),qn}function Cn(n,s,o){(n===ft&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(rl(n,0),bs(n,ze,qn,!1)),_a(n,o),((Je&2)===0||n!==ft)&&(n===ft&&((Je&2)===0&&(Ha|=o),Nt===4&&bs(n,ze,qn,!1)),Wr(n))}function GE(n,s,o){if((Je&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||fr(n,s),f=u?VR(n,s):cg(n,s,!0),p=u;do{if(f===0){el&&!u&&bs(n,s,0,!1);break}else{if(o=n.current.alternate,p&&!NR(o)){f=cg(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var A=n;f=tc;var D=A.current.memoizedState.isDehydrated;if(D&&(rl(A,T).flags|=256),T=cg(A,T,!1),T!==2){if(rg&&!D){A.errorRecoveryDisabledLanes|=p,Ha|=p,f=4;break e}p=Rn,Rn=f,p!==null&&(Rn===null?Rn=p:Rn.push.apply(Rn,p))}f=T}if(p=!1,f!==2)continue}}if(f===1){rl(n,0),bs(n,s,0,!0);break}e:{switch(u=n,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:bs(u,s,qn,!_s);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Cd+300-En(),10<f)){if(bs(u,s,qn,!_s),Pr(u,0,!0)!==0)break e;Pi=s,u.timeoutHandle=bT(KE.bind(null,u,o,Rn,Dd,sg,s,qn,Ha,tl,_s,p,"Throttled",-0,0),f);break e}KE(u,o,Rn,Dd,sg,s,qn,Ha,tl,_s,p,null,-0,0)}}break}while(!0);Wr(n)}function KE(n,s,o,u,f,p,T,A,D,K,te,ae,$,X){if(n.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gr},jE(s,p,ae);var ye=(p&62914560)===p?Cd-En():(p&4194048)===p?FE-En():0;if(ye=mC(ae,ye),ye!==null){Pi=p,n.cancelPendingCommit=ye(eT.bind(null,n,s,p,o,u,f,T,A,D,te,ae,null,$,X)),bs(n,p,T,!K);return}}eT(n,s,p,o,u,f,T,A,D)}function NR(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!jn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bs(n,s,o,u){s&=~ig,s&=~Ha,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var p=31-Ot(f),T=1<<p;u[p]=-1,f&=~T}o!==0&&va(n,o,s)}function Vd(){return(Je&6)===0?(rc(0),!1):!0}function ug(){if(ke!==null){if(et===0)var n=ke.return;else n=ke,wi=Ma=null,Sp(n),Qo=null,Uu=0,n=ke;for(;n!==null;)wE(n.alternate,n),n=n.return;ke=null}}function rl(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,XR(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Pi=0,ug(),ft=n,ke=o=Ti(n.current,null),ze=s,et=0,Fn=null,_s=!1,el=fr(n,s),rg=!1,tl=qn=ig=Ha=vs=Nt=0,Rn=tc=null,sg=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Ot(u),p=1<<f;s|=n[f],u&=~p}return Oi=s,Zh(),o}function QE(n,s){De=null,ee.H=Qu,s===Ko||s===od?(s=u0(),et=3):s===fp?(s=u0(),et=4):et=s===Bp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Fn=s,ke===null&&(Nt=1,Td(n,tr(s,n.current)))}function $E(){var n=zn.current;return n===null?!0:(ze&4194048)===ze?sr===null:(ze&62914560)===ze||(ze&536870912)!==0?n===sr:!1}function YE(){var n=ee.H;return ee.H=Qu,n===null?Qu:n}function XE(){var n=ee.A;return ee.A=RR,n}function Od(){Nt=4,_s||(ze&4194048)!==ze&&zn.current!==null||(el=!0),(vs&134217727)===0&&(Ha&134217727)===0||ft===null||bs(ft,ze,qn,!1)}function cg(n,s,o){var u=Je;Je|=2;var f=YE(),p=XE();(ft!==n||ze!==s)&&(Dd=null,rl(n,s)),s=!1;var T=Nt;e:do try{if(et!==0&&ke!==null){var A=ke,D=Fn;switch(et){case 8:ug(),T=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(s=!0);var K=et;if(et=0,Fn=null,il(n,A,D,K),o&&el){T=0;break e}break;default:K=et,et=0,Fn=null,il(n,A,D,K)}}DR(),T=Nt;break}catch(te){QE(n,te)}while(!0);return s&&n.shellSuspendCounter++,wi=Ma=null,Je=u,ee.H=f,ee.A=p,ke===null&&(ft=null,ze=0,Zh()),T}function DR(){for(;ke!==null;)JE(ke)}function VR(n,s){var o=Je;Je|=2;var u=YE(),f=XE();ft!==n||ze!==s?(Dd=null,Nd=En()+500,rl(n,s)):el=fr(n,s);e:do try{if(et!==0&&ke!==null){s=ke;var p=Fn;t:switch(et){case 1:et=0,Fn=null,il(n,s,p,1);break;case 2:case 9:if(o0(p)){et=0,Fn=null,WE(s);break}s=function(){et!==2&&et!==9||ft!==n||(et=7),Wr(n)},p.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:o0(p)?(et=0,Fn=null,WE(s)):(et=0,Fn=null,il(n,s,p,7));break;case 5:var T=null;switch(ke.tag){case 26:T=ke.memoizedState;case 5:case 27:var A=ke;if(T?LT(T):A.stateNode.complete){et=0,Fn=null;var D=A.sibling;if(D!==null)ke=D;else{var K=A.return;K!==null?(ke=K,Pd(K)):ke=null}break t}}et=0,Fn=null,il(n,s,p,5);break;case 6:et=0,Fn=null,il(n,s,p,6);break;case 8:ug(),Nt=6;break e;default:throw Error(i(462))}}OR();break}catch(te){QE(n,te)}while(!0);return wi=Ma=null,ee.H=u,ee.A=f,Je=o,ke!==null?0:(ft=null,ze=0,Zh(),Nt)}function OR(){for(;ke!==null&&!pa();)JE(ke)}function JE(n){var s=TE(n.alternate,n,Oi);n.memoizedProps=n.pendingProps,s===null?Pd(n):ke=s}function WE(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=pE(o,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=pE(o,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:Sp(s);default:wE(o,s),s=ke=Xv(s,Oi),s=TE(o,s,Oi)}n.memoizedProps=n.pendingProps,s===null?Pd(n):ke=s}function il(n,s,o,u){wi=Ma=null,Sp(s),Qo=null,Uu=0;var f=s.return;try{if(TR(n,f,s,o,ze)){Nt=1,Td(n,tr(o,n.current)),ke=null;return}}catch(p){if(f!==null)throw ke=f,p;Nt=1,Td(n,tr(o,n.current)),ke=null;return}s.flags&32768?(He||u===1?n=!0:el||(ze&536870912)!==0?n=!1:(_s=n=!0,(u===2||u===9||u===3||u===6)&&(u=zn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ZE(s,n)):Pd(s)}function Pd(n){var s=n;do{if((s.flags&32768)!==0){ZE(s,_s);return}n=s.return;var o=AR(s.alternate,s,Oi);if(o!==null){ke=o;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=n}while(s!==null);Nt===0&&(Nt=5)}function ZE(n,s){do{var o=SR(n.alternate,n);if(o!==null){o.flags&=32767,ke=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){ke=n;return}ke=n=o}while(n!==null);Nt=6,ke=null}function eT(n,s,o,u,f,p,T,A,D){n.cancelPendingCommit=null;do Md();while(Xt!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Wm,qm(n,o,p,T,A,D),n===ft&&(ke=ft=null,ze=0),nl=s,Ts=n,Pi=o,ag=p,og=f,qE=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,LR(Wi,function(){return sT(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=ee.T,ee.T=null,f=de.p,de.p=2,T=Je,Je|=4;try{xR(n,s,o)}finally{Je=T,de.p=f,ee.T=u}}Xt=1,tT(),nT(),rT()}}function tT(){if(Xt===1){Xt=0;var n=Ts,s=nl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var u=de.p;de.p=2;var f=Je;Je|=4;try{ME(s,n);var p=bg,T=Bv(n.containerInfo),A=p.focusedElem,D=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&zv(A.ownerDocument.documentElement,A)){if(D!==null&&Qm(A)){var K=D.start,te=D.end;if(te===void 0&&(te=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(te,A.value.length);else{var ae=A.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var X=$.getSelection(),ye=A.textContent.length,we=Math.min(D.start,ye),ct=D.end===void 0?we:Math.min(D.end,ye);!X.extend&&we>ct&&(T=ct,ct=we,we=T);var z=Uv(A,we),P=Uv(A,ct);if(z&&P&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var H=ae.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),we>ct?(X.addRange(H),X.extend(P.node,P.offset)):(H.setEnd(P.node,P.offset),X.addRange(H))}}}}for(ae=[],X=A;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ae.length;A++){var re=ae[A];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}Qd=!!Tg,bg=Tg=null}finally{Je=f,de.p=u,ee.T=o}}n.current=s,Xt=2}}function nT(){if(Xt===2){Xt=0;var n=Ts,s=nl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var u=de.p;de.p=2;var f=Je;Je|=4;try{NE(n,s.alternate,s)}finally{Je=f,de.p=u,ee.T=o}}Xt=3}}function rT(){if(Xt===4||Xt===3){Xt=0,Sh();var n=Ts,s=nl,o=Pi,u=qE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Xt=5:(Xt=0,nl=Ts=null,iT(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Es=null),yi(o),s=s.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(dr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=ee.T,f=de.p,de.p=2,ee.T=null;try{for(var p=n.onRecoverableError,T=0;T<u.length;T++){var A=u[T];p(A.value,{componentStack:A.stack})}}finally{ee.T=s,de.p=f}}(Pi&3)!==0&&Md(),Wr(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===lg?nc++:(nc=0,lg=n):nc=0,rc(0)}}function iT(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Lu(s)))}function Md(){return tT(),nT(),rT(),sT()}function sT(){if(Xt!==5)return!1;var n=Ts,s=ag;ag=0;var o=yi(Pi),u=ee.T,f=de.p;try{de.p=32>o?32:o,ee.T=null,o=og,og=null;var p=Ts,T=Pi;if(Xt=0,nl=Ts=null,Pi=0,(Je&6)!==0)throw Error(i(331));var A=Je;if(Je|=4,zE(p.current),LE(p,p.current,T,o),Je=A,rc(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(dr,p)}catch{}return!0}finally{de.p=f,ee.T=u,iT(n,s)}}function aT(n,s,o){s=tr(o,s),s=zp(n.stateNode,s,2),n=ms(n,s,2),n!==null&&(_a(n,2),Wr(n))}function tt(n,s,o){if(n.tag===3)aT(n,n,o);else for(;s!==null;){if(s.tag===3){aT(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Es===null||!Es.has(u))){n=tr(o,n),o=oE(2),u=ms(s,o,2),u!==null&&(lE(o,u,s,n),_a(u,2),Wr(u));break}}s=s.return}}function hg(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new CR;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(rg=!0,f.add(o),n=PR.bind(null,n,s,o),s.then(n,n))}function PR(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ft===n&&(ze&o)===o&&(Nt===4||Nt===3&&(ze&62914560)===ze&&300>En()-Cd?(Je&2)===0&&rl(n,0):ig|=o,tl===ze&&(tl=0)),Wr(n)}function oT(n,s){s===0&&(s=Dh()),n=Va(n,s),n!==null&&(_a(n,s),Wr(n))}function MR(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),oT(n,o)}function kR(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),oT(n,o)}function LR(n,s){return Vt(n,s)}var kd=null,sl=null,dg=!1,Ld=!1,fg=!1,ws=0;function Wr(n){n!==sl&&n.next===null&&(sl===null?kd=sl=n:sl=sl.next=n),Ld=!0,dg||(dg=!0,UR())}function rc(n,s){if(!fg&&Ld){fg=!0;do for(var o=!1,u=kd;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var T=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-Ot(42|n)+1)-1,p&=f&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,hT(u,p))}else p=ze,p=Pr(u,u===ft?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||fr(u,p)||(o=!0,hT(u,p));u=u.next}while(o);fg=!1}}function jR(){lT()}function lT(){Ld=dg=!1;var n=0;ws!==0&&YR()&&(n=ws);for(var s=En(),o=null,u=kd;u!==null;){var f=u.next,p=uT(u,s);p===0?(u.next=null,o===null?kd=f:o.next=f,f===null&&(sl=o)):(o=u,(n!==0||(p&3)!==0)&&(Ld=!0)),u=f}Xt!==0&&Xt!==5||rc(n),ws!==0&&(ws=0)}function uT(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var T=31-Ot(p),A=1<<T,D=f[T];D===-1?((A&o)===0||(A&u)!==0)&&(f[T]=Fm(A,s)):D<=s&&(n.expiredLanes|=A),p&=~A}if(s=ft,o=ze,o=Pr(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&gi(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||fr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&gi(u),yi(o)){case 2:case 8:o=fu;break;case 32:o=Wi;break;case 268435456:o=xh;break;default:o=Wi}return u=cT.bind(null,n),o=Vt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&gi(u),n.callbackPriority=2,n.callbackNode=null,2}function cT(n,s){if(Xt!==0&&Xt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Md()&&n.callbackNode!==o)return null;var u=ze;return u=Pr(n,n===ft?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(GE(n,u,s),uT(n,En()),n.callbackNode!=null&&n.callbackNode===o?cT.bind(null,n):null)}function hT(n,s){if(Md())return null;GE(n,s,!0)}function UR(){JR(function(){(Je&6)!==0?Vt(du,jR):lT()})}function mg(){if(ws===0){var n=Ho;n===0&&(n=Vr,Vr<<=1,(Vr&261888)===0&&(Vr=256)),ws=n}return ws}function dT(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Co(""+n)}function fT(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function zR(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=dT((f[en]||null).action),T=u.submitter;T&&(s=(s=T[en]||null)?dT(s.formAction):T.getAttribute("formAction"),s!==null&&(p=s,T=null));var A=new Gr("action","action",null,u,f);n.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ws!==0){var D=T?fT(f,T):new FormData(f);Pp(o,{pending:!0,data:D,method:f.method,action:p},null,D)}}else typeof p=="function"&&(A.preventDefault(),D=T?fT(f,T):new FormData(f),Pp(o,{pending:!0,data:D,method:f.method,action:p},p,D))},currentTarget:f}]})}}for(var pg=0;pg<Jm.length;pg++){var gg=Jm[pg],BR=gg.toLowerCase(),FR=gg[0].toUpperCase()+gg.slice(1);Tr(BR,"on"+FR)}Tr(Hv,"onAnimationEnd"),Tr(Gv,"onAnimationIteration"),Tr(Kv,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(iR,"onTransitionRun"),Tr(sR,"onTransitionStart"),Tr(aR,"onTransitionCancel"),Tr(Qv,"onTransitionEnd"),Br("onMouseEnter",["mouseout","mouseover"]),Br("onMouseLeave",["mouseout","mouseover"]),Br("onPointerEnter",["pointerout","pointerover"]),Br("onPointerLeave",["pointerout","pointerover"]),zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function mT(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var T=u.length-1;0<=T;T--){var A=u[T],D=A.instance,K=A.currentTarget;if(A=A.listener,D!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=K;try{p(f)}catch(te){Wh(te)}f.currentTarget=null,p=D}else for(T=0;T<u.length;T++){if(A=u[T],D=A.instance,K=A.currentTarget,A=A.listener,D!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=K;try{p(f)}catch(te){Wh(te)}f.currentTarget=null,p=D}}}}function Le(n,s){var o=s[Ao];o===void 0&&(o=s[Ao]=new Set);var u=n+"__bubble";o.has(u)||(pT(s,n,2,!1),o.add(u))}function yg(n,s,o){var u=0;s&&(u|=4),pT(o,n,u,s)}var jd="_reactListening"+Math.random().toString(36).slice(2);function _g(n){if(!n[jd]){n[jd]=!0,gu.forEach(function(o){o!=="selectionchange"&&(qR.has(o)||yg(o,!1,n),yg(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[jd]||(s[jd]=!0,yg("selectionchange",!1,s))}}function pT(n,s,o,u){switch(HT(s)){case 2:var f=yC;break;case 8:f=_C;break;default:f=Og}o=f.bind(null,s,o,n),f=void 0,!Aa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function vg(n,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var A=u.stateNode.containerInfo;if(A===f)break;if(T===4)for(T=u.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;A!==null;){if(T=jr(A),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){u=p=T;continue e}A=A.parentNode}}u=u.return}is(function(){var K=p,te=Jn(o),ae=[];e:{var $=$v.get(n);if($!==void 0){var X=Gr,ye=n;switch(n){case"keypress":if(xa(o)===0)break e;case"keydown":case"keyup":X=Yh;break;case"focusin":ye="focus",X=Ra;break;case"focusout":ye="blur",X=Ra;break;case"beforeblur":case"afterblur":X=Ra;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Hv:case Gv:case Kv:X=Fh;break;case Qv:X=S;break;case"scroll":case"scrollend":X=Ru;break;case"wheel":X=Y;break;case"copy":case"cut":case"paste":X=qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ei;break;case"toggle":case"beforetoggle":X=Ne}var we=(s&4)!==0,ct=!we&&(n==="scroll"||n==="scrollend"),z=we?$!==null?$+"Capture":null:$;we=[];for(var P=K,H;P!==null;){var re=P;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||z===null||(re=yr(P,z),re!=null&&we.push(sc(P,re,H))),ct)break;P=P.return}0<we.length&&($=new X($,ye,null,o,te),ae.push({event:$,listeners:we}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",$&&o!==Su&&(ye=o.relatedTarget||o.fromElement)&&(jr(ye)||ye[kr]))break e;if((X||$)&&($=te.window===te?te:($=te.ownerDocument)?$.defaultView||$.parentWindow:window,X?(ye=o.relatedTarget||o.toElement,X=K,ye=ye?jr(ye):null,ye!==null&&(ct=l(ye),we=ye.tag,ye!==ct||we!==5&&we!==27&&we!==6)&&(ye=null)):(X=null,ye=K),X!==ye)){if(we=Cu,re="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(we=Ei,re="onPointerLeave",z="onPointerEnter",P="pointer"),ct=X==null?$:kn(X),H=ye==null?$:kn(ye),$=new we(re,P+"leave",X,o,te),$.target=ct,$.relatedTarget=H,re=null,jr(te)===K&&(we=new we(z,P+"enter",ye,o,te),we.target=H,we.relatedTarget=ct,re=we),ct=re,X&&ye)t:{for(we=HR,z=X,P=ye,H=0,re=z;re;re=we(re))H++;re=0;for(var be=P;be;be=we(be))re++;for(;0<H-re;)z=we(z),H--;for(;0<re-H;)P=we(P),re--;for(;H--;){if(z===P||P!==null&&z===P.alternate){we=z;break t}z=we(z),P=we(P)}we=null}else we=null;X!==null&&gT(ae,$,X,we,!1),ye!==null&&ct!==null&&gT(ae,ct,ye,we,!0)}}e:{if($=K?kn(K):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var Ke=Ov;else if(Dv($))if(Pv)Ke=tR;else{Ke=ZI;var ve=WI}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?K&&Ro(K.elementType)&&(Ke=Ov):Ke=eR;if(Ke&&(Ke=Ke(n,K))){Vv(ae,Ke,o,te);break e}ve&&ve(n,$,K),n==="focusout"&&K&&$.type==="number"&&K.memoizedProps.value!=null&&bu($,"number",$.value)}switch(ve=K?kn(K):window,n){case"focusin":(Dv(ve)||ve.contentEditable==="true")&&(ko=ve,$m=K,Pu=null);break;case"focusout":Pu=$m=ko=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,Fv(ae,o,te);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":Fv(ae,o,te)}var Ve;if(Xe)e:{switch(n){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Mo?Ca(n,o)&&(Be="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&($r&&o.locale!=="ko"&&(Mo||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Mo&&(Ve=Iu()):(Hr=te,xu="value"in Hr?Hr.value:Hr.textContent,Mo=!0)),ve=Ud(K,Be),0<ve.length&&(Be=new Qr(Be,n,null,o,te),ae.push({event:Be,listeners:ve}),Ve?Be.data=Ve:(Ve=Po(o),Ve!==null&&(Be.data=Ve)))),(Ve=Zn?$I(n,o):YI(n,o))&&(Be=Ud(K,"onBeforeInput"),0<Be.length&&(ve=new Qr("onBeforeInput","beforeinput",null,o,te),ae.push({event:ve,listeners:Be}),ve.data=Ve)),zR(ae,n,K,o,te)}mT(ae,s)})}function sc(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Ud(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=yr(n,o),f!=null&&u.unshift(sc(n,f,p)),f=yr(n,s),f!=null&&u.push(sc(n,f,p))),n.tag===3)return u;n=n.return}return[]}function HR(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function gT(n,s,o,u,f){for(var p=s._reactName,T=[];o!==null&&o!==u;){var A=o,D=A.alternate,K=A.stateNode;if(A=A.tag,D!==null&&D===u)break;A!==5&&A!==26&&A!==27||K===null||(D=K,f?(K=yr(o,p),K!=null&&T.unshift(sc(o,K,D))):f||(K=yr(o,p),K!=null&&T.push(sc(o,K,D)))),o=o.return}T.length!==0&&n.push({event:s,listeners:T})}var GR=/\r\n?/g,KR=/\u0000|\uFFFD/g;function yT(n){return(typeof n=="string"?n:""+n).replace(GR,`
`).replace(KR,"")}function _T(n,s){return s=yT(s),yT(n)===s}function ut(n,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||An(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&An(n,""+u);break;case"className":Ln(n,"class",u);break;case"tabIndex":Ln(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(n,o,u);break;case"style":Au(n,u,p);break;case"data":if(s!=="object"){Ln(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Co(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&ut(n,s,"name",f.name,f,null),ut(n,s,"formEncType",f.formEncType,f,null),ut(n,s,"formMethod",f.formMethod,f,null),ut(n,s,"formTarget",f.formTarget,f,null)):(ut(n,s,"encType",f.encType,f,null),ut(n,s,"method",f.method,f,null),ut(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Co(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=gr);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Co(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Le("beforetoggle",n),Le("toggle",n),xo(n,"popover",u);break;case"xlinkActuate":Ft(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ft(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ft(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ft(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ft(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ft(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uh.get(o)||o,xo(n,o,u))}}function Eg(n,s,o,u,f,p){switch(o){case"style":Au(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?An(n,u):(typeof u=="number"||typeof u=="bigint")&&An(n,""+u);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"onClick":u!=null&&(n.onclick=gr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=n[en]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):xo(n,o,u)}}}function dn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(n,s,p,T,o,null)}}f&&ut(n,s,"srcSet",o.srcSet,o,null),u&&ut(n,s,"src",o.src,o,null);return;case"input":Le("invalid",n);var A=p=T=f=null,D=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":T=te;break;case"checked":D=te;break;case"defaultChecked":K=te;break;case"value":p=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:ut(n,s,u,te,o,null)}}kh(n,p,A,D,K,T,f,!1);return;case"select":Le("invalid",n),u=T=p=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":u=A;default:ut(n,s,f,A,o,null)}s=p,o=T,n.multiple=!!u,s!=null?es(n,!!u,s,!1):o!=null&&es(n,!!u,o,!0);return;case"textarea":Le("invalid",n),p=f=u=null;for(T in o)if(o.hasOwnProperty(T)&&(A=o[T],A!=null))switch(T){case"value":u=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ut(n,s,T,A,o,null)}ts(n,u,f,p);return;case"option":for(D in o)o.hasOwnProperty(D)&&(u=o[D],u!=null)&&(D==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":ut(n,s,D,u,o,null));return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(u=0;u<ic.length;u++)Le(ic[u],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ut(n,s,K,u,o,null)}return;default:if(Ro(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&Eg(n,s,te,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ut(n,s,A,u,o,null))}function QR(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,T=null,A=null,D=null,K=null,te=null;for(X in o){var ae=o[X];if(o.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ae;default:u.hasOwnProperty(X)||ut(n,s,X,null,u,ae)}}for(var $ in u){var X=u[$];if(ae=o[$],u.hasOwnProperty($)&&(X!=null||ae!=null))switch($){case"type":p=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":te=X;break;case"value":T=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==ae&&ut(n,s,$,X,u,ae)}}Io(n,T,A,D,K,te,p,f);return;case"select":X=T=A=$=null;for(p in o)if(D=o[p],o.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":X=D;default:u.hasOwnProperty(p)||ut(n,s,p,null,u,D)}for(f in u)if(p=u[f],D=o[f],u.hasOwnProperty(f)&&(p!=null||D!=null))switch(f){case"value":$=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==D&&ut(n,s,f,p,u,D)}s=A,o=T,u=X,$!=null?es(n,!!o,$,!1):!!u!=!!o&&(s!=null?es(n,!!o,s,!0):es(n,!!o,o?[]:"",!1));return;case"textarea":X=$=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(n,s,A,null,u,f)}for(T in u)if(f=u[T],p=o[T],u.hasOwnProperty(T)&&(f!=null||p!=null))switch(T){case"value":$=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&ut(n,s,T,f,u,p)}Lh(n,$,X);return;case"option":for(var ye in o)$=o[ye],o.hasOwnProperty(ye)&&$!=null&&!u.hasOwnProperty(ye)&&(ye==="selected"?n.selected=!1:ut(n,s,ye,null,u,$));for(D in u)$=u[D],X=o[D],u.hasOwnProperty(D)&&$!==X&&($!=null||X!=null)&&(D==="selected"?n.selected=$&&typeof $!="function"&&typeof $!="symbol":ut(n,s,D,$,u,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)$=o[we],o.hasOwnProperty(we)&&$!=null&&!u.hasOwnProperty(we)&&ut(n,s,we,null,u,$);for(K in u)if($=u[K],X=o[K],u.hasOwnProperty(K)&&$!==X&&($!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:ut(n,s,K,$,u,X)}return;default:if(Ro(s)){for(var ct in o)$=o[ct],o.hasOwnProperty(ct)&&$!==void 0&&!u.hasOwnProperty(ct)&&Eg(n,s,ct,void 0,u,$);for(te in u)$=u[te],X=o[te],!u.hasOwnProperty(te)||$===X||$===void 0&&X===void 0||Eg(n,s,te,$,u,X);return}}for(var z in o)$=o[z],o.hasOwnProperty(z)&&$!=null&&!u.hasOwnProperty(z)&&ut(n,s,z,null,u,$);for(ae in u)$=u[ae],X=o[ae],!u.hasOwnProperty(ae)||$===X||$==null&&X==null||ut(n,s,ae,$,u,X)}function vT(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $R(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],p=f.transferSize,T=f.initiatorType,A=f.duration;if(p&&A&&vT(T)){for(T=0,A=f.responseEnd,u+=1;u<o.length;u++){var D=o[u],K=D.startTime;if(K>A)break;var te=D.transferSize,ae=D.initiatorType;te&&vT(ae)&&(D=D.responseEnd,T+=te*(D<A?1:(A-K)/(D-K)))}if(--u,s+=8*(p+T)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Tg=null,bg=null;function zd(n){return n.nodeType===9?n:n.ownerDocument}function ET(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TT(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function wg(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ag=null;function YR(){var n=window.event;return n&&n.type==="popstate"?n===Ag?!1:(Ag=n,!0):(Ag=null,!1)}var bT=typeof setTimeout=="function"?setTimeout:void 0,XR=typeof clearTimeout=="function"?clearTimeout:void 0,wT=typeof Promise=="function"?Promise:void 0,JR=typeof queueMicrotask=="function"?queueMicrotask:typeof wT<"u"?function(n){return wT.resolve(null).then(n).catch(WR)}:bT;function WR(n){setTimeout(function(){throw n})}function As(n){return n==="head"}function AT(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),ul(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")ac(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,ac(o);for(var p=o.firstChild;p;){var T=p.nextSibling,A=p.nodeName;p[Lr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&ac(n.ownerDocument.body);o=f}while(o);ul(s)}function ST(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Sg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Sg(o),So(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function ZR(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Lr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=ar(n.nextSibling),n===null)break}return null}function eC(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ar(n.nextSibling),n===null))return null;return n}function xT(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=ar(n.nextSibling),n===null))return null;return n}function xg(n){return n.data==="$?"||n.data==="$~"}function Ig(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function tC(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ar(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Rg=null;function IT(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return ar(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function RT(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function CT(n,s,o){switch(s=zd(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function ac(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);So(n)}var or=new Map,NT=new Set;function Bd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Mi=de.d;de.d={f:nC,r:rC,D:iC,C:sC,L:aC,m:oC,X:uC,S:lC,M:cC};function nC(){var n=Mi.f(),s=Vd();return n||s}function rC(n){var s=Xn(n);s!==null&&s.tag===5&&s.type==="form"?Q0(s):Mi.r(n)}var al=typeof document>"u"?null:document;function DT(n,s,o){var u=al;if(u&&typeof s=="string"&&s){var f=wn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),NT.has(f)||(NT.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),dn(s,"link",n),Bt(s),u.head.appendChild(s)))}}function iC(n){Mi.D(n),DT("dns-prefetch",n,null)}function sC(n,s){Mi.C(n,s),DT("preconnect",n,s)}function aC(n,s,o){Mi.L(n,s,o);var u=al;if(u&&n&&s){var f='link[rel="preload"][as="'+wn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+wn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+wn(o.imageSizes)+'"]')):f+='[href="'+wn(n)+'"]';var p=f;switch(s){case"style":p=ol(n);break;case"script":p=ll(n)}or.has(p)||(n=E({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),or.set(p,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(oc(p))||s==="script"&&u.querySelector(lc(p))||(s=u.createElement("link"),dn(s,"link",n),Bt(s),u.head.appendChild(s)))}}function oC(n,s){Mi.m(n,s);var o=al;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+wn(u)+'"][href="'+wn(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ll(n)}if(!or.has(p)&&(n=E({rel:"modulepreload",href:n},s),or.set(p,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(lc(p)))return}u=o.createElement("link"),dn(u,"link",n),Bt(u),o.head.appendChild(u)}}}function lC(n,s,o){Mi.S(n,s,o);var u=al;if(u&&n){var f=Ur(u).hoistableStyles,p=ol(n);s=s||"default";var T=f.get(p);if(!T){var A={loading:0,preload:null};if(T=u.querySelector(oc(p)))A.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":s},o),(o=or.get(p))&&Cg(n,o);var D=T=u.createElement("link");Bt(D),dn(D,"link",n),D._p=new Promise(function(K,te){D.onload=K,D.onerror=te}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Fd(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:A},f.set(p,T)}}}function uC(n,s){Mi.X(n,s);var o=al;if(o&&n){var u=Ur(o).hoistableScripts,f=ll(n),p=u.get(f);p||(p=o.querySelector(lc(f)),p||(n=E({src:n,async:!0},s),(s=or.get(f))&&Ng(n,s),p=o.createElement("script"),Bt(p),dn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function cC(n,s){Mi.M(n,s);var o=al;if(o&&n){var u=Ur(o).hoistableScripts,f=ll(n),p=u.get(f);p||(p=o.querySelector(lc(f)),p||(n=E({src:n,async:!0,type:"module"},s),(s=or.get(f))&&Ng(n,s),p=o.createElement("script"),Bt(p),dn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function VT(n,s,o,u){var f=(f=Re.current)?Bd(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ol(o.href),o=Ur(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=ol(o.href);var p=Ur(f).hoistableStyles,T=p.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,T),(p=f.querySelector(oc(n)))&&!p._p&&(T.instance=p,T.state.loading=5),or.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},or.set(n,o),p||hC(f,n,o,T.state))),s&&u===null)throw Error(i(528,""));return T}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ll(o),o=Ur(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function ol(n){return'href="'+wn(n)+'"'}function oc(n){return'link[rel="stylesheet"]['+n+"]"}function OT(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function hC(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),dn(s,"link",o),Bt(s),n.head.appendChild(s))}function ll(n){return'[src="'+wn(n)+'"]'}function lc(n){return"script[async]"+n}function PT(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+wn(o.href)+'"]');if(u)return s.instance=u,Bt(u),u;var f=E({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Bt(u),dn(u,"style",f),Fd(u,o.precedence,n),s.instance=u;case"stylesheet":f=ol(o.href);var p=n.querySelector(oc(f));if(p)return s.state.loading|=4,s.instance=p,Bt(p),p;u=OT(o),(f=or.get(f))&&Cg(u,f),p=(n.ownerDocument||n).createElement("link"),Bt(p);var T=p;return T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),dn(p,"link",u),s.state.loading|=4,Fd(p,o.precedence,n),s.instance=p;case"script":return p=ll(o.src),(f=n.querySelector(lc(p)))?(s.instance=f,Bt(f),f):(u=o,(f=or.get(p))&&(u=E({},o),Ng(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Bt(f),dn(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Fd(u,o.precedence,n));return s.instance}function Fd(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,T=0;T<u.length;T++){var A=u[T];if(A.dataset.precedence===s)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Cg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Ng(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var qd=null;function MT(n,s,o){if(qd===null){var u=new Map,f=qd=new Map;f.set(o,u)}else f=qd,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[Lr]||p[zt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(s)||"";T=n+T;var A=u.get(T);A?A.push(p):u.set(T,[p])}}return u}function kT(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function dC(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(n=s.disabled,typeof s.precedence=="string"&&n==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function LT(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function fC(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ol(u.href),p=s.querySelector(oc(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Hd.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=p,Bt(p);return}p=s.ownerDocument||s,u=OT(u),(f=or.get(f))&&Cg(u,f),p=p.createElement("link"),Bt(p);var T=p;T._p=new Promise(function(A,D){T.onload=A,T.onerror=D}),dn(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Hd.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Dg=0;function mC(n,s){return n.stylesheets&&n.count===0&&Kd(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Kd(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&Dg===0&&(Dg=62500*$R());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Kd(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Dg?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Hd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Gd=null;function Kd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Gd=new Map,s.forEach(pC,n),Gd=null,Hd.call(n))}function pC(n,s){if(!(s.state.loading&4)){var o=Gd.get(n);if(o)var u=o.get(null);else{o=new Map,Gd.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var T=f[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}f=s.instance,T=f.getAttribute("data-precedence"),p=o.get(T)||u,p===u&&o.set(null,f),o.set(T,f),this.count++,u=Hd.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var uc={$$typeof:G,Provider:null,Consumer:null,_currentValue:Te,_currentValue2:Te,_threadCount:0};function gC(n,s,o,u,f,p,T,A,D){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mr(0),this.hiddenUpdates=Mr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function jT(n,s,o,u,f,p,T,A,D,K,te,ae){return n=new gC(n,s,o,T,D,K,te,ae,A),s=1,p===!0&&(s|=24),p=Un(3,null,null,s),n.current=p,p.stateNode=n,s=cp(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},mp(p),n}function UT(n){return n?(n=Uo,n):Uo}function zT(n,s,o,u,f,p){f=UT(f),u.context===null?u.context=f:u.pendingContext=f,u=fs(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=ms(n,u,s),o!==null&&(Cn(o,n,s),Bu(o,n,s))}function BT(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Vg(n,s){BT(n,s),(n=n.alternate)&&BT(n,s)}function FT(n){if(n.tag===13||n.tag===31){var s=Va(n,67108864);s!==null&&Cn(s,n,67108864),Vg(n,67108864)}}function qT(n){if(n.tag===13||n.tag===31){var s=Hn();s=Ea(s);var o=Va(n,s);o!==null&&Cn(o,n,s),Vg(n,s)}}var Qd=!0;function yC(n,s,o,u){var f=ee.T;ee.T=null;var p=de.p;try{de.p=2,Og(n,s,o,u)}finally{de.p=p,ee.T=f}}function _C(n,s,o,u){var f=ee.T;ee.T=null;var p=de.p;try{de.p=8,Og(n,s,o,u)}finally{de.p=p,ee.T=f}}function Og(n,s,o,u){if(Qd){var f=Pg(u);if(f===null)vg(n,s,u,$d,o),GT(n,u);else if(EC(f,n,s,o,u))u.stopPropagation();else if(GT(n,u),s&4&&-1<vC.indexOf(n)){for(;f!==null;){var p=Xn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Or(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var D=1<<31-Ot(T);A.entanglements[1]|=D,T&=~D}Wr(p),(Je&6)===0&&(Nd=En()+500,rc(0))}}break;case 31:case 13:A=Va(p,2),A!==null&&Cn(A,p,2),Vd(),Vg(p,2)}if(p=Pg(u),p===null&&vg(n,s,u,$d,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else vg(n,s,u,null,o)}}function Pg(n){return n=Jn(n),Mg(n)}var $d=null;function Mg(n){if($d=null,n=jr(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return $d=n,null}function HT(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ga()){case du:return 2;case fu:return 8;case Wi:case Bm:return 32;case xh:return 268435456;default:return 32}default:return 32}}var kg=!1,Ss=null,xs=null,Is=null,cc=new Map,hc=new Map,Rs=[],vC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GT(n,s){switch(n){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":cc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(s.pointerId)}}function dc(n,s,o,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Xn(s),s!==null&&FT(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function EC(n,s,o,u,f){switch(s){case"focusin":return Ss=dc(Ss,n,s,o,u,f),!0;case"dragenter":return xs=dc(xs,n,s,o,u,f),!0;case"mouseover":return Is=dc(Is,n,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return cc.set(p,dc(cc.get(p)||null,n,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,hc.set(p,dc(hc.get(p)||null,n,s,o,u,f)),!0}return!1}function KT(n){var s=jr(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,mr(n.priority,function(){qT(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,mr(n.priority,function(){qT(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Pg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Su=u,o.target.dispatchEvent(u),Su=null}else return s=Xn(o),s!==null&&FT(s),n.blockedOn=o,!1;s.shift()}return!0}function QT(n,s,o){Yd(n)&&o.delete(s)}function TC(){kg=!1,Ss!==null&&Yd(Ss)&&(Ss=null),xs!==null&&Yd(xs)&&(xs=null),Is!==null&&Yd(Is)&&(Is=null),cc.forEach(QT),hc.forEach(QT)}function Xd(n,s){n.blockedOn===s&&(n.blockedOn=null,kg||(kg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,TC)))}var Jd=null;function $T(n){Jd!==n&&(Jd=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jd===n&&(Jd=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Mg(u||o)===null)continue;break}var p=Xn(o);p!==null&&(n.splice(s,3),s-=3,Pp(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ul(n){function s(D){return Xd(D,n)}Ss!==null&&Xd(Ss,n),xs!==null&&Xd(xs,n),Is!==null&&Xd(Is,n),cc.forEach(s),hc.forEach(s);for(var o=0;o<Rs.length;o++){var u=Rs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Rs.length&&(o=Rs[0],o.blockedOn===null);)KT(o),o.blockedOn===null&&Rs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],T=f[en]||null;if(typeof p=="function")T||$T(o);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,T=p[en]||null)A=T.formAction;else if(Mg(f)!==null)continue}else A=T.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),$T(o)}}}function YT(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Lg(n){this._internalRoot=n}Wd.prototype.render=Lg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Hn();zT(o,u,n,s,null,null)},Wd.prototype.unmount=Lg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;zT(n.current,2,null,n,null,null),Vd(),s[kr]=null}};function Wd(n){this._internalRoot=n}Wd.prototype.unstable_scheduleHydration=function(n){if(n){var s=Vh();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Rs.length&&s!==0&&s<Rs[o].priority;o++);Rs.splice(o,0,n),o===0&&KT(n)}};var XT=e.version;if(XT!=="19.2.3")throw Error(i(527,XT,"19.2.3"));de.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?_(n):null,n=n===null?null:n.stateNode,n};var bC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{dr=Zd.inject(bC),on=Zd}catch{}}return mc.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=rE,p=iE,T=sE;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=jT(n,1,!1,null,null,o,u,null,f,p,T,YT),n[kr]=s.current,_g(n),new Lg(s)},mc.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",p=rE,T=iE,A=sE,D=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),s=jT(n,1,!0,s,o??null,u,f,D,p,T,A,YT),s.context=UT(null),o=s.current,u=Hn(),u=Ea(u),f=fs(u),f.callback=null,ms(o,f,u),o=u,s.current.lanes=o,_a(s,o),Wr(s),n[kr]=s.current,_g(n),new Wd(s)},mc.version="19.2.3",mc}var ab;function VC(){if(ab)return zg.exports;ab=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zg.exports=DC(),zg.exports}var OC=VC();var ob="popstate";function PC(r={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return dy("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Uc(a)}return kC(e,t,null,r)}function It(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Cr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MC(){return Math.random().toString(36).substring(2,10)}function lb(r,e){return{usr:r.state,key:r.key,idx:e}}function dy(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Xl(e):e,state:t,key:e&&e.key||i||MC()}}function Uc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Xl(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function kC(r,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function E(){d="POP";let j=_(),J=j==null?null:j-g;g=j,m&&m({action:d,location:L.location,delta:J})}function w(j,J){d="PUSH";let ne=dy(L.location,j,J);g=_()+1;let G=lb(ne,g),W=L.createHref(ne);try{c.pushState(G,"",W)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(W)}l&&m&&m({action:d,location:L.location,delta:1})}function R(j,J){d="REPLACE";let ne=dy(L.location,j,J);g=_();let G=lb(ne,g),W=L.createHref(ne);c.replaceState(G,"",W),l&&m&&m({action:d,location:L.location,delta:0})}function k(j){return LC(j)}let L={get action(){return d},get location(){return r(a,c)},listen(j){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(ob,E),m=j,()=>{a.removeEventListener(ob,E),m=null}},createHref(j){return e(a,j)},createURL:k,encodeLocation(j){let J=k(j);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:R,go(j){return c.go(j)}};return L}function LC(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),It(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:Uc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function EA(r,e,t="/"){return jC(r,e,t,!1)}function jC(r,e,t,i){let a=typeof e=="string"?Xl(e):e,l=Fi(a.pathname||"/",t);if(l==null)return null;let c=TA(r);UC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=XC(l);d=$C(c[m],g,i)}return d}function TA(r,e=[],t=[],i="",a=!1){let l=(c,d,m=a,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(i)&&m)return;It(_.relativePath.startsWith(i),`Absolute route path "${_.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(i.length)}let E=zi([i,_.relativePath]),w=t.concat(_);c.children&&c.children.length>0&&(It(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),TA(c.children,e,w,E,m)),!(c.path==null&&!c.index)&&e.push({path:E,score:KC(E,c.index),routesMeta:w})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of bA(c.path))l(c,d,!0,m)}),e}function bA(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=bA(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function UC(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:QC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var zC=/^:[\w-]+$/,BC=3,FC=2,qC=1,HC=10,GC=-2,ub=r=>r==="*";function KC(r,e){let t=r.split("/"),i=t.length;return t.some(ub)&&(i+=GC),e&&(i+=FC),t.filter(a=>!ub(a)).reduce((a,l)=>a+(zC.test(l)?BC:l===""?qC:HC),i)}function QC(r,e){return r.length===e.length&&r.slice(0,-1).every((i,a)=>i===e[a])?r[r.length-1]-e[e.length-1]:0}function $C(r,e,t=!1){let{routesMeta:i}=r,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",E=Nf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),w=m.route;if(!E&&g&&t&&!i[i.length-1].route.index&&(E=Nf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!E)return null;Object.assign(a,E.params),c.push({params:a,pathname:zi([l,E.pathname]),pathnameBase:eN(zi([l,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(l=zi([l,E.pathnameBase]))}return c}function Nf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=YC(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:E},w)=>{if(_==="*"){let k=d[w]||"";c=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const R=d[w];return E&&!R?g[_]=void 0:g[_]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function YC(r,e=!1,t=!0){Cr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(i.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function XC(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}var wA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JC=r=>wA.test(r);function WC(r,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof r=="string"?Xl(r):r,l;if(t)if(JC(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Cr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=cb(t.substring(1),"/"):l=cb(t,e)}else l=e;return{pathname:l,search:tN(i),hash:nN(a)}}function cb(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Hg(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZC(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function AA(r){let e=ZC(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function SA(r,e,t,i=!1){let a;typeof r=="string"?a=Xl(r):(a={...r},It(!a.pathname||!a.pathname.includes("?"),Hg("?","pathname","search",a)),It(!a.pathname||!a.pathname.includes("#"),Hg("#","pathname","hash",a)),It(!a.search||!a.search.includes("#"),Hg("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),E-=1;a.pathname=w.join("/")}d=E>=0?e[E]:"/"}let m=WC(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),eN=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tN=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nN=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,rN=class{constructor(r,e,t,i=!1){this.status=r,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function iN(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function sN(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function IA(r,e){let t=r;if(typeof t!="string"||!wA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,a=!1;if(xA)try{let l=new URL(window.location.href),c=t.startsWith("//")?new URL(l.protocol+t):new URL(t),d=Fi(c.pathname,e);c.origin===l.origin&&d!=null?t=d+c.search+c.hash:a=!0}catch{Cr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RA=["POST","PUT","PATCH","DELETE"];new Set(RA);var aN=["GET",...RA];new Set(aN);var Jl=F.createContext(null);Jl.displayName="DataRouter";var im=F.createContext(null);im.displayName="DataRouterState";var oN=F.createContext(!1),CA=F.createContext({isTransitioning:!1});CA.displayName="ViewTransition";var lN=F.createContext(new Map);lN.displayName="Fetchers";var uN=F.createContext(null);uN.displayName="Await";var cr=F.createContext(null);cr.displayName="Navigation";var nh=F.createContext(null);nh.displayName="Location";var hi=F.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var r_=F.createContext(null);r_.displayName="RouteError";var NA="REACT_ROUTER_ERROR",cN="REDIRECT",hN="ROUTE_ERROR_RESPONSE";function dN(r){if(r.startsWith(`${NA}:${cN}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function fN(r){if(r.startsWith(`${NA}:${hN}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rN(e.status,e.statusText,e.data)}catch{}}function mN(r,{relative:e}={}){It(rh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(cr),{hash:a,pathname:l,search:c}=ih(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:zi([t,l])),i.createHref({pathname:d,search:c,hash:a})}function rh(){return F.useContext(nh)!=null}function Qi(){return It(rh(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(nh).location}var DA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VA(r){F.useContext(cr).static||F.useLayoutEffect(r)}function sm(){let{isDataRoute:r}=F.useContext(hi);return r?RN():pN()}function pN(){It(rh(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(Jl),{basename:e,navigator:t}=F.useContext(cr),{matches:i}=F.useContext(hi),{pathname:a}=Qi(),l=JSON.stringify(AA(i)),c=F.useRef(!1);return VA(()=>{c.current=!0}),F.useCallback((m,g={})=>{if(Cr(c.current,DA),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=SA(m,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:zi([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,r])}F.createContext(null);function gN(){let{matches:r}=F.useContext(hi),e=r[r.length-1];return e?e.params:{}}function ih(r,{relative:e}={}){let{matches:t}=F.useContext(hi),{pathname:i}=Qi(),a=JSON.stringify(AA(t));return F.useMemo(()=>SA(r,JSON.parse(a),i,e==="path"),[r,a,i,e])}function yN(r,e){return OA(r,e)}function OA(r,e,t,i,a){It(rh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=F.useContext(cr),{matches:c}=F.useContext(hi),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",E=d&&d.route;{let ne=E&&E.path||"";MA(g,!E||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=Qi(),R;if(e){let ne=typeof e=="string"?Xl(e):e;It(_==="/"||ne.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),R=ne}else R=w;let k=R.pathname||"/",L=k;if(_!=="/"){let ne=_.replace(/^\//,"").split("/");L="/"+k.replace(/^\//,"").split("/").slice(ne.length).join("/")}let j=EA(r,{pathname:L});Cr(E||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Cr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=bN(j&&j.map(ne=>Object.assign({},ne,{params:Object.assign({},m,ne.params),pathname:zi([_,l.encodeLocation?l.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?_:zi([_,l.encodeLocation?l.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),c,t,i,a);return e&&J?F.createElement(nh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},J):J}function _N(){let r=IN(),e=iN(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var vN=F.createElement(_N,null),PA=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=fN(r.digest);t&&(r=t)}let e=r!==void 0?F.createElement(hi.Provider,{value:this.props.routeContext},F.createElement(r_.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?F.createElement(EN,{error:r},e):e}};PA.contextType=oN;var Gg=new WeakMap;function EN({children:r,error:e}){let{basename:t}=F.useContext(cr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=dN(e.digest);if(i){let a=Gg.get(e);if(a)throw a;let l=IA(i.location,t);if(xA&&!Gg.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Gg.set(e,c),c}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function TN({routeContext:r,match:e,children:t}){let i=F.useContext(Jl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(hi.Provider,{value:r},t)}function bN(r,e=[],t=null,i=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let _=l.findIndex(E=>E.route.id&&c?.[E.route.id]!==void 0);It(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,m=-1;if(t)for(let _=0;_<l.length;_++){let E=l[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(m=_),E.route.id){let{loaderData:w,errors:R}=t,k=E.route.loader&&!w.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||k){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let g=t&&i?(_,E)=>{i(_,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:sN(t.matches),errorInfo:E})}:void 0;return l.reduceRight((_,E,w)=>{let R,k=!1,L=null,j=null;t&&(R=c&&E.route.id?c[E.route.id]:void 0,L=E.route.errorElement||vN,d&&(m<0&&w===0?(MA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,j=null):m===w&&(k=!0,j=E.route.hydrateFallbackElement||null)));let J=e.concat(l.slice(0,w+1)),ne=()=>{let G;return R?G=L:k?G=j:E.route.Component?G=F.createElement(E.route.Component,null):E.route.element?G=E.route.element:G=_,F.createElement(TN,{match:E,routeContext:{outlet:_,matches:J,isDataRoute:t!=null},children:G})};return t&&(E.route.ErrorBoundary||E.route.errorElement||w===0)?F.createElement(PA,{location:t.location,revalidation:t.revalidation,component:L,error:R,children:ne(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):ne()},null)}function i_(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wN(r){let e=F.useContext(Jl);return It(e,i_(r)),e}function AN(r){let e=F.useContext(im);return It(e,i_(r)),e}function SN(r){let e=F.useContext(hi);return It(e,i_(r)),e}function s_(r){let e=SN(r),t=e.matches[e.matches.length-1];return It(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function xN(){return s_("useRouteId")}function IN(){let r=F.useContext(r_),e=AN("useRouteError"),t=s_("useRouteError");return r!==void 0?r:e.errors?.[t]}function RN(){let{router:r}=wN("useNavigate"),e=s_("useNavigate"),t=F.useRef(!1);return VA(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{Cr(t.current,DA),t.current&&(typeof a=="number"?await r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var hb={};function MA(r,e,t){!e&&!hb[r]&&(hb[r]=!0,Cr(!1,t))}F.memo(CN);function CN({routes:r,future:e,state:t,onError:i}){return OA(r,void 0,t,i,e)}function Zr(r){It(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NN({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){It(!rh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof t=="string"&&(t=Xl(t));let{pathname:g="/",search:_="",hash:E="",state:w=null,key:R="default"}=t,k=F.useMemo(()=>{let L=Fi(g,d);return L==null?null:{location:{pathname:L,search:_,hash:E,state:w,key:R},navigationType:i}},[d,g,_,E,w,R,i]);return Cr(k!=null,`<Router basename="${d}"> is not able to match the URL "${g}${_}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:F.createElement(cr.Provider,{value:m},F.createElement(nh.Provider,{children:e,value:k}))}function DN({children:r,location:e}){return yN(fy(r),e)}function fy(r,e=[]){let t=[];return F.Children.forEach(r,(i,a)=>{if(!F.isValidElement(i))return;let l=[...e,a];if(i.type===F.Fragment){t.push.apply(t,fy(i.props.children,l));return}It(i.type===Zr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),It(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=fy(i.props.children,l)),t.push(c)}),t}var ff="get",mf="application/x-www-form-urlencoded";function am(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function VN(r){return am(r)&&r.tagName.toLowerCase()==="button"}function ON(r){return am(r)&&r.tagName.toLowerCase()==="form"}function PN(r){return am(r)&&r.tagName.toLowerCase()==="input"}function MN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kN(r,e){return r.button===0&&(!e||e==="_self")&&!MN(r)}var ef=null;function LN(){if(ef===null)try{new FormData(document.createElement("form"),0),ef=!1}catch{ef=!0}return ef}var jN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kg(r){return r!=null&&!jN.has(r)?(Cr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mf}"`),null):r}function UN(r,e){let t,i,a,l,c;if(ON(r)){let d=r.getAttribute("action");i=d?Fi(d,e):null,t=r.getAttribute("method")||ff,a=Kg(r.getAttribute("enctype"))||mf,l=new FormData(r)}else if(VN(r)||PN(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(i=m?Fi(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||ff,a=Kg(r.getAttribute("formenctype"))||Kg(d.getAttribute("enctype"))||mf,l=new FormData(d,r),!LN()){let{name:g,type:_,value:E}=r;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,E)}}else{if(am(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ff,i=null,a=mf,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function a_(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zN(r,e,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Fi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function BN(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function FN(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qN(r,e,t){let i=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await BN(l,t);return c.links?c.links():[]}return[]}));return QN(i.flat(1).filter(FN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function db(r,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>t[g].pathname!==m.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let E=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function HN(r,e,{includeHydrateFallback:t}={}){return GN(r.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function GN(r){return[...new Set(r)]}function KN(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function QN(r,e){let t=new Set;return new Set(e),r.reduce((i,a)=>{let l=JSON.stringify(KN(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function kA(){let r=F.useContext(Jl);return a_(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function $N(){let r=F.useContext(im);return a_(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var o_=F.createContext(void 0);o_.displayName="FrameworkContext";function LA(){let r=F.useContext(o_);return a_(r,"You must render this element inside a <HydratedRouter> element"),r}function YN(r,e){let t=F.useContext(o_),[i,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:E}=e,w=F.useRef(null);F.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let L=J=>{J.forEach(ne=>{c(ne.isIntersecting)})},j=new IntersectionObserver(L,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),F.useEffect(()=>{if(i){let L=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(L)}}},[i]);let R=()=>{a(!0)},k=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,w,{}]:[l,w,{onFocus:pc(d,R),onBlur:pc(m,k),onMouseEnter:pc(g,R),onMouseLeave:pc(_,k),onTouchStart:pc(E,R)}]:[!1,w,{}]}function pc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function XN({page:r,...e}){let{router:t}=kA(),i=F.useMemo(()=>EA(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?F.createElement(WN,{page:r,matches:i,...e}):null}function JN(r){let{manifest:e,routeModules:t}=LA(),[i,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return qN(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),i}function WN({page:r,matches:e,...t}){let i=Qi(),{manifest:a,routeModules:l}=LA(),{basename:c}=kA(),{loaderData:d,matches:m}=$N(),g=F.useMemo(()=>db(r,e,m,a,i,"data"),[r,e,m,a,i]),_=F.useMemo(()=>db(r,e,m,a,i,"assets"),[r,e,m,a,i]),E=F.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let k=new Set,L=!1;if(e.forEach(J=>{let ne=a.routes[J.route.id];!ne||!ne.hasLoader||(!g.some(G=>G.route.id===J.route.id)&&J.route.id in d&&l[J.route.id]?.shouldRevalidate||ne.hasClientLoader?L=!0:k.add(J.route.id))}),k.size===0)return[];let j=zN(r,c,"data");return L&&k.size>0&&j.searchParams.set("_routes",e.filter(J=>k.has(J.route.id)).map(J=>J.route.id).join(",")),[j.pathname+j.search]},[c,d,i,a,g,e,r,l]),w=F.useMemo(()=>HN(_,a),[_,a]),R=JN(_);return F.createElement(F.Fragment,null,E.map(k=>F.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...t})),w.map(k=>F.createElement("link",{key:k,rel:"modulepreload",href:k,...t})),R.map(({key:k,link:L})=>F.createElement("link",{key:k,nonce:t.nonce,...L})))}function ZN(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var e2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e2&&(window.__reactRouterVersion="7.11.0")}catch{}function t2({basename:r,children:e,unstable_useTransitions:t,window:i}){let a=F.useRef();a.current==null&&(a.current=PC({window:i,v5Compat:!0}));let l=a.current,[c,d]=F.useState({action:l.action,location:l.location}),m=F.useCallback(g=>{t===!1?d(g):F.startTransition(()=>d(g))},[t]);return F.useLayoutEffect(()=>l.listen(m),[l,m]),F.createElement(NN,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t})}var jA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ur=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:w,...R},k){let{basename:L,unstable_useTransitions:j}=F.useContext(cr),J=typeof g=="string"&&jA.test(g),ne=IA(g,L);g=ne.to;let G=mN(g,{relative:a}),[W,le,pe]=YN(i,R),C=s2(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:E,unstable_defaultShouldRevalidate:w,unstable_useTransitions:j});function I(M){e&&e(M),M.defaultPrevented||C(M)}let N=F.createElement("a",{...R,...pe,href:ne.absoluteURL||G,onClick:ne.isExternal||l?e:I,ref:ZN(k,le),target:m,"data-discover":!J&&t==="render"?"true":void 0});return W&&!J?F.createElement(F.Fragment,null,N,F.createElement(XN,{page:G})):N});ur.displayName="Link";var n2=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let E=ih(c,{relative:g.relative}),w=Qi(),R=F.useContext(im),{navigator:k,basename:L}=F.useContext(cr),j=R!=null&&c2(E)&&d===!0,J=k.encodeLocation?k.encodeLocation(E).pathname:E.pathname,ne=w.pathname,G=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(ne=ne.toLowerCase(),G=G?G.toLowerCase():null,J=J.toLowerCase()),G&&L&&(G=Fi(G,L)||G);const W=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let le=ne===J||!a&&ne.startsWith(J)&&ne.charAt(W)==="/",pe=G!=null&&(G===J||!a&&G.startsWith(J)&&G.charAt(J.length)==="/"),C={isActive:le,isPending:pe,isTransitioning:j},I=le?e:void 0,N;typeof i=="function"?N=i(C):N=[i,le?"active":null,pe?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof l=="function"?l(C):l;return F.createElement(ur,{...g,"aria-current":I,className:N,ref:_,style:M,to:c,viewTransition:d},typeof m=="function"?m(C):m)});n2.displayName="NavLink";var r2=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=ff,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:w,...R},k)=>{let{unstable_useTransitions:L}=F.useContext(cr),j=l2(),J=u2(d,{relative:g}),ne=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&jA.test(d),W=le=>{if(m&&m(le),le.defaultPrevented)return;le.preventDefault();let pe=le.nativeEvent.submitter,C=pe?.getAttribute("formmethod")||c,I=()=>j(pe||le.currentTarget,{fetcherKey:e,method:C,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:E,unstable_defaultShouldRevalidate:w});L&&t!==!1?F.startTransition(()=>I()):I()};return F.createElement("form",{ref:k,method:ne,action:J,onSubmit:i?m:W,...R,"data-discover":!G&&r==="render"?"true":void 0})});r2.displayName="Form";function i2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UA(r){let e=F.useContext(Jl);return It(e,i2(r)),e}function s2(r,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let g=sm(),_=Qi(),E=ih(r,{relative:l});return F.useCallback(w=>{if(kN(w,e)){w.preventDefault();let R=t!==void 0?t:Uc(_)===Uc(E),k=()=>g(r,{replace:R,state:i,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});m?F.startTransition(()=>k()):k()}},[_,g,E,t,i,e,r,a,l,c,d,m])}var a2=0,o2=()=>`__${String(++a2)}__`;function l2(){let{router:r}=UA("useSubmit"),{basename:e}=F.useContext(cr),t=xN(),i=r.fetch,a=r.navigate;return F.useCallback(async(l,c={})=>{let{action:d,method:m,encType:g,formData:_,body:E}=UN(l,e);if(c.navigate===!1){let w=c.fetcherKey||o2();await i(w,t,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||m,formEncType:c.encType||g,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:E,formMethod:c.method||m,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,a,e,t])}function u2(r,{relative:e}={}){let{basename:t}=F.useContext(cr),i=F.useContext(hi);It(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...ih(r||".",{relative:e})},c=Qi();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(E=>E).forEach(E=>d.append("index",E));let _=d.toString();l.search=_?`?${_}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:zi([t,l.pathname])),Uc(l)}function c2(r,{relative:e}={}){let t=F.useContext(CA);It(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=UA("useViewTransitionState"),a=ih(r,{relative:e});if(!t.isTransitioning)return!1;let l=Fi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Fi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Nf(a.pathname,c)!=null||Nf(a.pathname,l)!=null}const h2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),d2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),fb=r=>{const e=d2(r);return e.charAt(0).toUpperCase()+e.slice(1)},zA=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),f2=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var m2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const p2=F.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...d},m)=>F.createElement("svg",{ref:m,...m2,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:zA("lucide",a),...!l&&!f2(d)&&{"aria-hidden":"true"},...d},[...c.map(([g,_])=>F.createElement(g,_)),...Array.isArray(l)?l:[l]]));const $e=(r,e)=>{const t=F.forwardRef(({className:i,...a},l)=>F.createElement(p2,{ref:l,iconNode:e,className:zA(`lucide-${h2(fb(r))}`,`lucide-${r}`,i),...a}));return t.displayName=fb(r),t};const g2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Df=$e("arrow-left",g2);const y2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],_2=$e("arrow-right",y2);const v2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],E2=$e("briefcase",v2);const T2=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],b2=$e("building-2",T2);const w2=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],om=$e("building",w2);const A2=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],l_=$e("calendar",A2);const S2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],x2=$e("circle-alert",S2);const I2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],BA=$e("circle-check-big",I2);const R2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],C2=$e("circle-check",R2);const N2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],D2=$e("circle-question-mark",N2);const V2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],O2=$e("circle-x",V2);const P2=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],FA=$e("funnel",P2);const M2=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],k2=$e("graduation-cap",M2);const L2=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],j2=$e("heart",L2);const U2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],u_=$e("house",U2);const z2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],B2=$e("info",z2);const F2=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],c_=$e("loader",F2);const q2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],H2=$e("lock",q2);const G2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],K2=$e("log-out",G2);const Q2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lm=$e("map-pin",Q2);const $2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Y2=$e("pen",$2);const X2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],J2=$e("plus",X2);const W2=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Z2=$e("refresh-cw",W2);const eD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tD=$e("save",eD);const nD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qA=$e("search",nD);const rD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],iD=$e("trash-2",rD);const sD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],aD=$e("trending-up",sD);const oD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],HA=$e("triangle-alert",oD);const lD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],uD=$e("upload",lD);const cD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],hD=$e("user-plus",cD);const dD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bl=$e("x",dD);const fD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mD=$e("zap",fD),pD="modulepreload",gD=function(r){return"/"+r},mb={},yD=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let g=function(_){return Promise.all(_.map(E=>Promise.resolve(E).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=g(t.map(_=>{if(_=gD(_),_ in mb)return;mb[_]=!0;const E=_.endsWith(".css"),w=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${w}`))return;const R=document.createElement("link");if(R.rel=E?"stylesheet":pD,E||(R.as="script"),R.crossOrigin="",R.href=_,m&&R.setAttribute("nonce",m),document.head.appendChild(R),E)return new Promise((k,L)=>{R.addEventListener("load",k),R.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${_}`)))})}))}function l(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},_D=()=>{};var pb={};const GA=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},vD=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},KA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,m=a+2<r.length,g=m?r[a+2]:0,_=l>>2,E=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,R=g&63;m||(R=64,c||(w=64)),i.push(t[_],t[E],t[w],t[R])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(GA(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vD(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const E=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||g==null||E==null)throw new ED;const w=l<<2|d>>4;if(i.push(w),g!==64){const R=d<<4&240|g>>2;if(i.push(R),E!==64){const k=g<<6&192|E;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ED extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TD=function(r){const e=GA(r);return KA.encodeByteArray(e,!0)},Vf=function(r){return TD(r).replace(/\./g,"")},QA=function(r){try{return KA.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bD=()=>$A().__FIREBASE_DEFAULTS__,wD=()=>{if(typeof process>"u"||typeof pb>"u")return;const r=pb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},AD=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&QA(r[1]);return e&&JSON.parse(e)},um=()=>{try{return _D()||bD()||wD()||AD()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YA=r=>um()?.emulatorHosts?.[r],XA=r=>{const e=YA(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},JA=()=>um()?.config,WA=r=>um()?.[`_${r}`];class SD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function na(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cm(r){return(await fetch(r,{credentials:"include"})).ok}function ZA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Vf(JSON.stringify(t)),Vf(JSON.stringify(c)),""].join(".")}const Ic={};function xD(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ic))Ic[e]?r.emulator.push(e):r.prod.push(e);return r}function ID(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let gb=!1;function h_(r,e){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||Ic[r]===e||Ic[r]||gb)return;Ic[r]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=xD().prod.length>0;function c(){const w=document.getElementById(i);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{gb=!0,c()},w}function _(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function E(){const w=ID(i),R=t("text"),k=document.getElementById(R)||document.createElement("span"),L=t("learnmore"),j=document.getElementById(L)||document.createElement("a"),J=t("preprendIcon"),ne=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const G=w.element;d(G),_(j,L);const W=g();m(ne,J),G.append(ne,k,j,W),document.body.appendChild(G)}l?(k.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function eS(){const r=um()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ND(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function DD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VD(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function tS(){return!eS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nS(){return!eS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function rS(){try{return typeof indexedDB=="object"}catch{return!1}}function OD(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const PD="FirebaseError";class di extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=PD,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sh.prototype.create)}}class sh{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?MD(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new di(a,d,i)}}function MD(r,e){return r.replace(kD,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const kD=/\{\$([^}]+)}/g;function LD(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Nr(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(yb(l)&&yb(c)){if(!Nr(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function yb(r){return r!==null&&typeof r=="object"}function ah(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Tc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function bc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function jD(r,e){const t=new UD(r,e);return t.subscribe.bind(t)}class UD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");zD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Qg),a.error===void 0&&(a.error=Qg),a.complete===void 0&&(a.complete=Qg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zD(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Qg(){}function st(r){return r&&r._delegate?r._delegate:r}class Qs{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ka="[DEFAULT]";class BD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new SD;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qD(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:FD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FD(r){return r===Ka?void 0:r}function qD(r){return r.instantiationMode==="EAGER"}class HD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Fe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Fe||(Fe={}));const GD={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},KD=Fe.INFO,QD={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},$D=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=QD[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class d_{constructor(e){this.name=e,this._logLevel=KD,this._logHandler=$D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const YD=(r,e)=>e.some(t=>r instanceof t);let _b,vb;function XD(){return _b||(_b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JD(){return vb||(vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iS=new WeakMap,my=new WeakMap,sS=new WeakMap,$g=new WeakMap,f_=new WeakMap;function WD(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(qs(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&iS.set(t,r)}).catch(()=>{}),f_.set(e,r),e}function ZD(r){if(my.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});my.set(r,e)}let py={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return my.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sS.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function eV(r){py=r(py)}function tV(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Yg(this),e,...t);return sS.set(i,e.sort?e.sort():[e]),qs(i)}:JD().includes(r)?function(...e){return r.apply(Yg(this),e),qs(iS.get(this))}:function(...e){return qs(r.apply(Yg(this),e))}}function nV(r){return typeof r=="function"?tV(r):(r instanceof IDBTransaction&&ZD(r),YD(r,XD())?new Proxy(r,py):r)}function qs(r){if(r instanceof IDBRequest)return WD(r);if($g.has(r))return $g.get(r);const e=nV(r);return e!==r&&($g.set(r,e),f_.set(e,r)),e}const Yg=r=>f_.get(r);function rV(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=qs(c);return i&&c.addEventListener("upgradeneeded",m=>{i(qs(c.result),m.oldVersion,m.newVersion,qs(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const iV=["get","getKey","getAll","getAllKeys","count"],sV=["put","add","delete","clear"],Xg=new Map;function Eb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Xg.get(e))return Xg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=sV.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||iV.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return Xg.set(e,l),l}eV(r=>({...r,get:(e,t,i)=>Eb(e,t)||r.get(e,t,i),has:(e,t)=>!!Eb(e,t)||r.has(e,t)}));class aV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(oV(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function oV(r){return r.getComponent()?.type==="VERSION"}const gy="@firebase/app",Tb="0.14.6";const qi=new d_("@firebase/app"),lV="@firebase/app-compat",uV="@firebase/analytics-compat",cV="@firebase/analytics",hV="@firebase/app-check-compat",dV="@firebase/app-check",fV="@firebase/auth",mV="@firebase/auth-compat",pV="@firebase/database",gV="@firebase/data-connect",yV="@firebase/database-compat",_V="@firebase/functions",vV="@firebase/functions-compat",EV="@firebase/installations",TV="@firebase/installations-compat",bV="@firebase/messaging",wV="@firebase/messaging-compat",AV="@firebase/performance",SV="@firebase/performance-compat",xV="@firebase/remote-config",IV="@firebase/remote-config-compat",RV="@firebase/storage",CV="@firebase/storage-compat",NV="@firebase/firestore",DV="@firebase/ai",VV="@firebase/firestore-compat",OV="firebase",PV="12.6.0";const Of="[DEFAULT]",MV={[gy]:"fire-core",[lV]:"fire-core-compat",[cV]:"fire-analytics",[uV]:"fire-analytics-compat",[dV]:"fire-app-check",[hV]:"fire-app-check-compat",[fV]:"fire-auth",[mV]:"fire-auth-compat",[pV]:"fire-rtdb",[gV]:"fire-data-connect",[yV]:"fire-rtdb-compat",[_V]:"fire-fn",[vV]:"fire-fn-compat",[EV]:"fire-iid",[TV]:"fire-iid-compat",[bV]:"fire-fcm",[wV]:"fire-fcm-compat",[AV]:"fire-perf",[SV]:"fire-perf-compat",[xV]:"fire-rc",[IV]:"fire-rc-compat",[RV]:"fire-gcs",[CV]:"fire-gcs-compat",[NV]:"fire-fst",[VV]:"fire-fst-compat",[DV]:"fire-vertex","fire-js":"fire-js",[OV]:"fire-js-all"};const Pf=new Map,kV=new Map,yy=new Map;function bb(r,e){try{r.container.addComponent(e)}catch(t){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ro(r){const e=r.name;if(yy.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;yy.set(e,r);for(const t of Pf.values())bb(t,r);for(const t of kV.values())bb(t,r);return!0}function Wl(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function LV(r,e,t=Of){Wl(r,e).clearInstance(t)}function Kn(r){return r==null?!1:r.settings!==void 0}const jV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new sh("app","Firebase",jV);class UV{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const go=PV;function aS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Of,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Hs.create("bad-app-name",{appName:String(a)});if(t||(t=JA()),!t)throw Hs.create("no-options");const l=Pf.get(a);if(l){if(Nr(t,l.options)&&Nr(i,l.config))return l;throw Hs.create("duplicate-app",{appName:a})}const c=new HD(a);for(const m of yy.values())c.addComponent(m);const d=new UV(t,i,c);return Pf.set(a,d),d}function m_(r=Of){const e=Pf.get(r);if(!e&&r===Of&&JA())return aS();if(!e)throw Hs.create("no-app",{appName:r});return e}function ii(r,e,t){let i=MV[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(c.join(" "));return}ro(new Qs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const zV="firebase-heartbeat-database",BV=1,zc="firebase-heartbeat-store";let Jg=null;function oS(){return Jg||(Jg=rV(zV,BV,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Hs.create("idb-open",{originalErrorMessage:r.message})})),Jg}async function FV(r){try{const t=(await oS()).transaction(zc),i=await t.objectStore(zc).get(lS(r));return await t.done,i}catch(e){if(e instanceof di)qi.warn(e.message);else{const t=Hs.create("idb-get",{originalErrorMessage:e?.message});qi.warn(t.message)}}}async function wb(r,e){try{const i=(await oS()).transaction(zc,"readwrite");await i.objectStore(zc).put(e,lS(r)),await i.done}catch(t){if(t instanceof di)qi.warn(t.message);else{const i=Hs.create("idb-set",{originalErrorMessage:t?.message});qi.warn(i.message)}}}function lS(r){return`${r.name}!${r.options.appId}`}const qV=1024,HV=30;class GV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QV(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ab();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>HV){const a=$V(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ab(),{heartbeatsToSend:t,unsentEntries:i}=KV(this._heartbeatsCache.heartbeats),a=Vf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return qi.warn(e),""}}}function Ab(){return new Date().toISOString().substring(0,10)}function KV(r,e=qV){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Sb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Sb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class QV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rS()?OD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await FV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sb(r){return Vf(JSON.stringify({version:2,heartbeats:r})).length}function $V(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function YV(r){ro(new Qs("platform-logger",e=>new aV(e),"PRIVATE")),ro(new Qs("heartbeat",e=>new GV(e),"PRIVATE")),ii(gy,Tb,r),ii(gy,Tb,"esm2020"),ii("fire-js","")}YV("");var XV="firebase",JV="12.7.0";ii(XV,JV,"app");function uS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WV=uS,cS=new sh("auth","Firebase",uS());const Mf=new d_("@firebase/auth");function ZV(r,...e){Mf.logLevel<=Fe.WARN&&Mf.warn(`Auth (${go}): ${r}`,...e)}function pf(r,...e){Mf.logLevel<=Fe.ERROR&&Mf.error(`Auth (${go}): ${r}`,...e)}function Dr(r,...e){throw p_(r,...e)}function si(r,...e){return p_(r,...e)}function hS(r,e,t){const i={...WV(),[e]:t};return new sh("auth","Firebase",i).create(e,{appName:r.name})}function Bi(r){return hS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p_(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return cS.create(r,...e)}function Ae(r,e,...t){if(!r)throw p_(e,...t)}function ki(r){const e="INTERNAL ASSERTION FAILED: "+r;throw pf(e),new Error(e)}function Hi(r,e){r||ki(e)}function _y(){return typeof self<"u"&&self.location?.href||""}function eO(){return xb()==="http:"||xb()==="https:"}function xb(){return typeof self<"u"&&self.location?.protocol||null}function tO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eO()||ND()||"connection"in navigator)?navigator.onLine:!0}function nO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class oh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=RD()||DD()}get(){return tO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function g_(r,e){Hi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sO=new oh(3e4,6e4);function ra(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ia(r,e,t,i,a={}){return fS(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ah({key:r.config.apiKey,...c}).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:m,...l};return CD()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&na(r.emulatorConfig.host)&&(g.credentials="include"),dS.fetch()(await mS(r,r.config.apiHost,t,d),g)})}async function fS(r,e,t){r._canInitEmulator=!1;const i={...rO,...e};try{const a=new oO(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw tf(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(r,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw tf(r,"email-already-in-use",c);if(m==="USER_DISABLED")throw tf(r,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw hS(r,_,g);Dr(r,_)}}catch(a){if(a instanceof di)throw a;Dr(r,"network-request-failed",{message:String(a)})}}async function lh(r,e,t,i,a={}){const l=await ia(r,e,t,i,a);return"mfaPendingCredential"in l&&Dr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function mS(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?g_(r.config,a):`${r.config.apiScheme}://${a}`;return iO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function aO(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(si(this.auth,"network-request-failed")),sO.get())})}}function tf(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=si(r,e,i);return a.customData._tokenResponse=t,a}function Ib(r){return r!==void 0&&r.enterprise!==void 0}class lO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return aO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uO(r,e){return ia(r,"GET","/v2/recaptchaConfig",ra(r,e))}async function cO(r,e){return ia(r,"POST","/v1/accounts:delete",e)}async function kf(r,e){return ia(r,"POST","/v1/accounts:lookup",e)}function Rc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hO(r,e=!1){const t=st(r),i=await t.getIdToken(e),a=y_(i);Ae(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:Rc(Wg(a.auth_time)),issuedAtTime:Rc(Wg(a.iat)),expirationTime:Rc(Wg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Wg(r){return Number(r)*1e3}function y_(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{const a=QA(t);return a?JSON.parse(a):(pf("Failed to decode base64 JWT payload"),null)}catch(a){return pf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Rb(r){const e=y_(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bc(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof di&&dO(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function dO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class fO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lf(r){const e=r.auth,t=await r.getIdToken(),i=await Bc(r,kf(e,{idToken:t}));Ae(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?pS(a.providerUserInfo):[],c=pO(r.providerData,l),d=r.isAnonymous,m=!(r.email&&a.passwordHash)&&!c?.length,g=d?m:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new vy(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(r,_)}async function mO(r){const e=st(r);await Lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pO(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function pS(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function gO(r,e){const t=await fS(r,{},async()=>{const i=ah({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await mS(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:i};return r.emulatorConfig&&na(r.emulatorConfig.host)&&(m.credentials="include"),dS.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yO(r,e){return ia(r,"POST","/v2/accounts:revokeToken",ra(r,e))}class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Rb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=Rb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await gO(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Al;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ae(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ae(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return ki("not implemented")}}function Ns(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new fO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new vy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hO(this,e)}reload(){return mO(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Lf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await Bc(this,cO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:w,isAnonymous:R,providerData:k,stsTokenManager:L}=t;Ae(E&&L,e,"internal-error");const j=Al.fromJSON(this.name,L);Ae(typeof E=="string",e,"internal-error"),Ns(i,e.name),Ns(a,e.name),Ae(typeof w=="boolean",e,"internal-error"),Ae(typeof R=="boolean",e,"internal-error"),Ns(l,e.name),Ns(c,e.name),Ns(d,e.name),Ns(m,e.name),Ns(g,e.name),Ns(_,e.name);const J=new Sr({uid:E,auth:e,email:a,emailVerified:w,displayName:i,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(J.providerData=k.map(ne=>({...ne}))),m&&(J._redirectEventId=m),J}static async _fromIdTokenResponse(e,t,i=!1){const a=new Al;a.updateFromServerResponse(t);const l=new Sr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Lf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ae(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?pS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Al;d.updateFromIdToken(i);const m=new Sr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new vy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const Cb=new Map;function Li(r){Hi(r instanceof Function,"Expected a class definition");let e=Cb.get(r);return e?(Hi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Cb.set(r,e),e)}class gS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}gS.type="NONE";const Nb=gS;function gf(r,e,t){return`firebase:${r}:${e}:${t}`}class Sl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=gf(this.userKey,a.apiKey,l),this.fullPersistenceKey=gf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kf(this.auth,{idToken:e}).catch(()=>{});return t?Sr._fromGetAccountInfoResponse(this.auth,t,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Sl(Li(Nb),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Li(Nb);const c=gf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const w=await kf(e,{idToken:_}).catch(()=>{});if(!w)break;E=await Sr._fromGetAccountInfoResponse(e,w,_)}else E=Sr._fromJSON(e,_);g!==l&&(d=E),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Sl(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Sl(l,e,i))}}function Db(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ES(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bS(e))return"Blackberry";if(wS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||vS(e))&&!e.includes("edge/"))return"Chrome";if(TS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function yS(r=Jt()){return/firefox\//i.test(r)}function _S(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vS(r=Jt()){return/crios\//i.test(r)}function ES(r=Jt()){return/iemobile/i.test(r)}function TS(r=Jt()){return/android/i.test(r)}function bS(r=Jt()){return/blackberry/i.test(r)}function wS(r=Jt()){return/webos/i.test(r)}function __(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _O(r=Jt()){return __(r)&&!!window.navigator?.standalone}function vO(){return VD()&&document.documentMode===10}function AS(r=Jt()){return __(r)||TS(r)||wS(r)||bS(r)||/windows phone/i.test(r)||ES(r)}function SS(r,e=[]){let t;switch(r){case"Browser":t=Db(Jt());break;case"Worker":t=`${Db(Jt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${go}/${i}`}class EO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function TO(r,e={}){return ia(r,"GET","/v2/passwordPolicy",ra(r,e))}const bO=6;class wO{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??bO,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class AO{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vb(this),this.idTokenSubscription=new Vb(this),this.beforeStateQueue=new EO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Sl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kf(this,{idToken:e}),i=await Sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(Bi(this));const t=e?st(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TO(this),t=new wO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sh("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await yO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Li(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Sl.create(this,[Li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ZV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yo(r){return st(r)}class Vb{constructor(e){this.auth=e,this.observer=null,this.addObserver=jD(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SO(r){hm=r}function xS(r){return hm.loadJS(r)}function xO(){return hm.recaptchaEnterpriseScript}function IO(){return hm.gapiScript}function RO(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class CO{constructor(){this.enterprise=new NO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class NO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DO="recaptcha-enterprise",IS="NO_RECAPTCHA";class VO{constructor(e){this.type=DO,this.auth=yo(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{uO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new lO(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;Ib(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(IS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&Ib(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=xO();m.length!==0&&(m+=d),xS(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Ob(r,e,t,i=!1,a=!1){const l=new VO(r);let c;if(a)c=IS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ey(r,e,t,i,a){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ob(r,e,t,t==="getOobCode");return i(r,l)}else return i(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ob(r,e,t,t==="getOobCode");return i(r,c)}else return Promise.reject(l)})}function OO(r,e){const t=Wl(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Nr(l,e??{}))return a;Dr(a,"already-initialized")}return t.initialize({options:e})}function PO(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Li);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function MO(r,e,t){const i=yo(r);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=RS(e),{host:c,port:d}=kO(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(Nr(g,i.config.emulator)&&Nr(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,na(c)?(cm(`${l}//${c}${m}`),h_("Auth",!0)):LO()}function RS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function kO(r){const e=RS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Pb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Pb(c)}}}function Pb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function LO(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class v_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function jO(r,e){return ia(r,"POST","/v1/accounts:signUp",e)}async function UO(r,e){return lh(r,"POST","/v1/accounts:signInWithPassword",ra(r,e))}async function zO(r,e){return lh(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}async function BO(r,e){return lh(r,"POST","/v1/accounts:signInWithEmailLink",ra(r,e))}class Fc extends v_{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Fc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Fc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,t,"signInWithPassword",UO);case"emailLink":return zO(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,i,"signUpPassword",jO);case"emailLink":return BO(e,{idToken:t,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xl(r,e){return lh(r,"POST","/v1/accounts:signInWithIdp",ra(r,e))}const FO="http://localhost";class io extends v_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new io(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return xl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,xl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xl(e,t)}buildRequest(){const e={requestUri:FO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ah(t)}return e}}function qO(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HO(r){const e=Tc(bc(r)).link,t=e?Tc(bc(e)).deep_link_id:null,i=Tc(bc(r)).deep_link_id;return(i?Tc(bc(i)).link:null)||i||t||e||r}class E_{constructor(e){const t=Tc(bc(e)),i=t.apiKey??null,a=t.oobCode??null,l=qO(t.mode??null);Ae(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=HO(e);try{return new E_(t)}catch{return null}}}class Zl{constructor(){this.providerId=Zl.PROVIDER_ID}static credential(e,t){return Fc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=E_.parseLink(t);return Ae(i,"argument-error"),Fc._fromEmailAndCode(e,i.code,i.tenantId)}}Zl.PROVIDER_ID="password";Zl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class CS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uh extends CS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ps extends uh{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class Ms extends uh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return io._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ms.credential(t,i)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";class ks extends uh{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";class Ls extends uh{constructor(){super("twitter.com")}static credential(e,t){return io._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ls.credential(t,i)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";async function GO(r,e){return lh(r,"POST","/v1/accounts:signUp",ra(r,e))}class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Sr._fromIdTokenResponse(e,i,a),c=Mb(i);return new so({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Mb(i);return new so({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Mb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class jf extends di{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new jf(e,t,i,a)}}function NS(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?jf._fromErrorAndOperation(r,l,e,i):l})}async function KO(r,e,t=!1){const i=await Bc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return so._forOperation(r,"link",i)}async function QO(r,e,t=!1){const{auth:i}=r;if(Kn(i.app))return Promise.reject(Bi(i));const a="reauthenticate";try{const l=await Bc(r,NS(i,a,e,r),t);Ae(l.idToken,i,"internal-error");const c=y_(l.idToken);Ae(c,i,"internal-error");const{sub:d}=c;return Ae(r.uid===d,i,"user-mismatch"),so._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Dr(i,"user-mismatch"),l}}async function DS(r,e,t=!1){if(Kn(r.app))return Promise.reject(Bi(r));const i="signIn",a=await NS(r,i,e),l=await so._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}async function $O(r,e){return DS(yo(r),e)}async function VS(r){const e=yo(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YO(r,e,t){if(Kn(r.app))return Promise.reject(Bi(r));const i=yo(r),c=await Ey(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GO).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&VS(r),m}),d=await so._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function XO(r,e,t){return Kn(r.app)?Promise.reject(Bi(r)):$O(st(r),Zl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&VS(r),i})}function JO(r,e,t,i){return st(r).onIdTokenChanged(e,t,i)}function WO(r,e,t){return st(r).beforeAuthStateChanged(e,t)}function ZO(r,e,t,i){return st(r).onAuthStateChanged(e,t,i)}function eP(r){return st(r).signOut()}const Uf="__sak";class OS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tP=1e3,nP=10;class PS extends OS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);vO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nP):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PS.type="LOCAL";const rP=PS;class MS extends OS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MS.type="SESSION";const kS=MS;function iP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new dm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await iP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dm.receivers=[];function T_(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class sP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=T_("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(E){const w=E;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ai(){return window}function aP(r){ai().location.href=r}function LS(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function oP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lP(){return navigator?.serviceWorker?.controller||null}function uP(){return LS()?self:null}const jS="firebaseLocalStorageDb",cP=1,zf="firebaseLocalStorage",US="fbase_key";class ch{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function fm(r,e){return r.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function hP(){const r=indexedDB.deleteDatabase(jS);return new ch(r).toPromise()}function Ty(){const r=indexedDB.open(jS,cP);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(zf,{keyPath:US})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(zf)?e(i):(i.close(),await hP(),e(await Ty()))})})}async function kb(r,e,t){const i=fm(r,!0).put({[US]:e,value:t});return new ch(i).toPromise()}async function dP(r,e){const t=fm(r,!1).get(e),i=await new ch(t).toPromise();return i===void 0?null:i.value}function Lb(r,e){const t=fm(r,!0).delete(e);return new ch(t).toPromise()}const fP=800,mP=3;class zS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ty(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>mP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dm._getInstance(uP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oP(),!this.activeServiceWorker)return;this.sender=new sP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ty();return await kb(e,Uf,"1"),await Lb(e,Uf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>kb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>dP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Lb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=fm(a,!1).getAll();return new ch(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zS.type="LOCAL";const pP=zS;new oh(3e4,6e4);function gP(r,e){return e?Li(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class b_ extends v_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function yP(r){return DS(r.auth,new b_(r),r.bypassAuthState)}function _P(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),QO(t,new b_(r),r.bypassAuthState)}async function vP(r){const{auth:e,user:t}=r;return Ae(t,e,"internal-error"),KO(t,new b_(r),r.bypassAuthState)}class BS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yP;case"linkViaPopup":case"linkViaRedirect":return vP;case"reauthViaPopup":case"reauthViaRedirect":return _P;default:Dr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const EP=new oh(2e3,1e4);class wl extends BS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,wl.currentPopupAction&&wl.currentPopupAction.cancel(),wl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=T_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EP.get())};e()}}wl.currentPopupAction=null;const TP="pendingRedirect",yf=new Map;class bP extends BS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=yf.get(this.auth._key());if(!e){try{const i=await wP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}yf.set(this.auth._key(),e)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wP(r,e){const t=xP(e),i=SP(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function AP(r,e){yf.set(r._key(),e)}function SP(r){return Li(r._redirectPersistence)}function xP(r){return gf(TP,r.config.apiKey,r.name)}async function IP(r,e,t=!1){if(Kn(r.app))return Promise.reject(Bi(r));const i=yo(r),a=gP(i,e),c=await new bP(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const RP=600*1e3;class CP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!FS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(si(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RP&&this.cachedEventUids.clear(),this.cachedEventUids.has(jb(e))}saveEventToCache(e){this.cachedEventUids.add(jb(e)),this.lastProcessedEventTime=Date.now()}}function jb(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function FS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function NP(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FS(r);default:return!1}}async function DP(r,e={}){return ia(r,"GET","/v1/projects",e)}const VP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OP=/^https?/;async function PP(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DP(r);for(const t of e)try{if(MP(t))return}catch{}Dr(r,"unauthorized-domain")}function MP(r){const e=_y(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!OP.test(t))return!1;if(VP.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const kP=new oh(3e4,6e4);function Ub(){const r=ai().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function LP(r){return new Promise((e,t)=>{function i(){Ub(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ub(),t(si(r,"network-request-failed"))},timeout:kP.get()})}if(ai().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ai().gapi?.load)i();else{const a=RO("iframefcb");return ai()[a]=()=>{gapi.load?i():t(si(r,"network-request-failed"))},xS(`${IO()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw _f=null,e})}let _f=null;function jP(r){return _f=_f||LP(r),_f}const UP=new oh(5e3,15e3),zP="__/auth/iframe",BP="emulator/auth/iframe",FP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HP(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?g_(e,BP):`https://${r.config.authDomain}/${zP}`,i={apiKey:e.apiKey,appName:r.name,v:go},a=qP.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${ah(i).slice(1)}`}async function GP(r){const e=await jP(r),t=ai().gapi;return Ae(t,r,"internal-error"),e.open({where:document.body,url:HP(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=si(r,"network-request-failed"),d=ai().setTimeout(()=>{l(c)},UP.get());function m(){ai().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}const KP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QP=500,$P=600,YP="_blank",XP="http://localhost";class zb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JP(r,e,t,i=QP,a=$P){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m={...KP,width:i.toString(),height:a.toString(),top:l,left:c},g=Jt().toLowerCase();t&&(d=vS(g)?YP:t),yS(g)&&(e=e||XP,m.scrollbars="yes");const _=Object.entries(m).reduce((w,[R,k])=>`${w}${R}=${k},`,"");if(_O(g)&&d!=="_self")return WP(e||"",d),new zb(null);const E=window.open(e||"",d,_);Ae(E,r,"popup-blocked");try{E.focus()}catch{}return new zb(E)}function WP(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const ZP="__/auth/handler",eM="emulator/auth/handler",tM=encodeURIComponent("fac");async function Bb(r,e,t,i,a,l){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:go,eventId:a};if(e instanceof CS){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",LD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof uh){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await r._getAppCheckToken(),g=m?`#${tM}=${encodeURIComponent(m)}`:"";return`${nM(r)}?${ah(d).slice(1)}${g}`}function nM({config:r}){return r.emulator?g_(r,eM):`https://${r.authDomain}/${ZP}`}const Zg="webStorageSupport";class rM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kS,this._completeRedirectFn=IP,this._overrideRedirectResult=AP}async _openPopup(e,t,i,a){Hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Bb(e,t,i,_y(),a);return JP(e,l,T_())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Bb(e,t,i,_y(),a);return aP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Hi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await GP(e),i=new CP(e);return t.register("authEvent",a=>(Ae(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zg,{type:Zg},a=>{const l=a?.[0]?.[Zg];l!==void 0&&t(!!l),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AS()||_S()||__()}}const iM=rM;var Fb="@firebase/auth",qb="1.12.0";class sM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oM(r){ro(new Qs("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SS(r)},g=new AO(i,a,l,m);return PO(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ro(new Qs("auth-internal",e=>{const t=yo(e.getProvider("auth").getImmediate());return(i=>new sM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(Fb,qb,aM(r)),ii(Fb,qb,"esm2020")}const lM=300,uM=WA("authIdTokenMaxAge")||lM;let Hb=null;const cM=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>uM)return;const a=t?.token;Hb!==a&&(Hb=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function hM(r=m_()){const e=Wl(r,"auth");if(e.isInitialized())return e.getImmediate();const t=OO(r,{popupRedirectResolver:iM,persistence:[pP,rP,kS]}),i=WA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=cM(l.toString());WO(t,c,()=>c(t.currentUser)),JO(t,d=>c(d))}}const a=YA("auth");return a&&MO(t,`http://${a}`),t}function dM(){return document.getElementsByTagName("head")?.[0]??document}SO({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=si("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",dM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oM("Browser");var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,qS;(function(){var r;function e(C,I){function N(){}N.prototype=I.prototype,C.F=I.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(M,O,U){for(var x=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)x[Oe-2]=arguments[Oe];return I.prototype[O].apply(M,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,I,N){N||(N=0);const M=Array(16);if(typeof I=="string")for(var O=0;O<16;++O)M[O]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(O=0;O<16;++O)M[O]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=C.g[0],N=C.g[1],O=C.g[2];let U=C.g[3],x;x=I+(U^N&(O^U))+M[0]+3614090360&4294967295,I=N+(x<<7&4294967295|x>>>25),x=U+(O^I&(N^O))+M[1]+3905402710&4294967295,U=I+(x<<12&4294967295|x>>>20),x=O+(N^U&(I^N))+M[2]+606105819&4294967295,O=U+(x<<17&4294967295|x>>>15),x=N+(I^O&(U^I))+M[3]+3250441966&4294967295,N=O+(x<<22&4294967295|x>>>10),x=I+(U^N&(O^U))+M[4]+4118548399&4294967295,I=N+(x<<7&4294967295|x>>>25),x=U+(O^I&(N^O))+M[5]+1200080426&4294967295,U=I+(x<<12&4294967295|x>>>20),x=O+(N^U&(I^N))+M[6]+2821735955&4294967295,O=U+(x<<17&4294967295|x>>>15),x=N+(I^O&(U^I))+M[7]+4249261313&4294967295,N=O+(x<<22&4294967295|x>>>10),x=I+(U^N&(O^U))+M[8]+1770035416&4294967295,I=N+(x<<7&4294967295|x>>>25),x=U+(O^I&(N^O))+M[9]+2336552879&4294967295,U=I+(x<<12&4294967295|x>>>20),x=O+(N^U&(I^N))+M[10]+4294925233&4294967295,O=U+(x<<17&4294967295|x>>>15),x=N+(I^O&(U^I))+M[11]+2304563134&4294967295,N=O+(x<<22&4294967295|x>>>10),x=I+(U^N&(O^U))+M[12]+1804603682&4294967295,I=N+(x<<7&4294967295|x>>>25),x=U+(O^I&(N^O))+M[13]+4254626195&4294967295,U=I+(x<<12&4294967295|x>>>20),x=O+(N^U&(I^N))+M[14]+2792965006&4294967295,O=U+(x<<17&4294967295|x>>>15),x=N+(I^O&(U^I))+M[15]+1236535329&4294967295,N=O+(x<<22&4294967295|x>>>10),x=I+(O^U&(N^O))+M[1]+4129170786&4294967295,I=N+(x<<5&4294967295|x>>>27),x=U+(N^O&(I^N))+M[6]+3225465664&4294967295,U=I+(x<<9&4294967295|x>>>23),x=O+(I^N&(U^I))+M[11]+643717713&4294967295,O=U+(x<<14&4294967295|x>>>18),x=N+(U^I&(O^U))+M[0]+3921069994&4294967295,N=O+(x<<20&4294967295|x>>>12),x=I+(O^U&(N^O))+M[5]+3593408605&4294967295,I=N+(x<<5&4294967295|x>>>27),x=U+(N^O&(I^N))+M[10]+38016083&4294967295,U=I+(x<<9&4294967295|x>>>23),x=O+(I^N&(U^I))+M[15]+3634488961&4294967295,O=U+(x<<14&4294967295|x>>>18),x=N+(U^I&(O^U))+M[4]+3889429448&4294967295,N=O+(x<<20&4294967295|x>>>12),x=I+(O^U&(N^O))+M[9]+568446438&4294967295,I=N+(x<<5&4294967295|x>>>27),x=U+(N^O&(I^N))+M[14]+3275163606&4294967295,U=I+(x<<9&4294967295|x>>>23),x=O+(I^N&(U^I))+M[3]+4107603335&4294967295,O=U+(x<<14&4294967295|x>>>18),x=N+(U^I&(O^U))+M[8]+1163531501&4294967295,N=O+(x<<20&4294967295|x>>>12),x=I+(O^U&(N^O))+M[13]+2850285829&4294967295,I=N+(x<<5&4294967295|x>>>27),x=U+(N^O&(I^N))+M[2]+4243563512&4294967295,U=I+(x<<9&4294967295|x>>>23),x=O+(I^N&(U^I))+M[7]+1735328473&4294967295,O=U+(x<<14&4294967295|x>>>18),x=N+(U^I&(O^U))+M[12]+2368359562&4294967295,N=O+(x<<20&4294967295|x>>>12),x=I+(N^O^U)+M[5]+4294588738&4294967295,I=N+(x<<4&4294967295|x>>>28),x=U+(I^N^O)+M[8]+2272392833&4294967295,U=I+(x<<11&4294967295|x>>>21),x=O+(U^I^N)+M[11]+1839030562&4294967295,O=U+(x<<16&4294967295|x>>>16),x=N+(O^U^I)+M[14]+4259657740&4294967295,N=O+(x<<23&4294967295|x>>>9),x=I+(N^O^U)+M[1]+2763975236&4294967295,I=N+(x<<4&4294967295|x>>>28),x=U+(I^N^O)+M[4]+1272893353&4294967295,U=I+(x<<11&4294967295|x>>>21),x=O+(U^I^N)+M[7]+4139469664&4294967295,O=U+(x<<16&4294967295|x>>>16),x=N+(O^U^I)+M[10]+3200236656&4294967295,N=O+(x<<23&4294967295|x>>>9),x=I+(N^O^U)+M[13]+681279174&4294967295,I=N+(x<<4&4294967295|x>>>28),x=U+(I^N^O)+M[0]+3936430074&4294967295,U=I+(x<<11&4294967295|x>>>21),x=O+(U^I^N)+M[3]+3572445317&4294967295,O=U+(x<<16&4294967295|x>>>16),x=N+(O^U^I)+M[6]+76029189&4294967295,N=O+(x<<23&4294967295|x>>>9),x=I+(N^O^U)+M[9]+3654602809&4294967295,I=N+(x<<4&4294967295|x>>>28),x=U+(I^N^O)+M[12]+3873151461&4294967295,U=I+(x<<11&4294967295|x>>>21),x=O+(U^I^N)+M[15]+530742520&4294967295,O=U+(x<<16&4294967295|x>>>16),x=N+(O^U^I)+M[2]+3299628645&4294967295,N=O+(x<<23&4294967295|x>>>9),x=I+(O^(N|~U))+M[0]+4096336452&4294967295,I=N+(x<<6&4294967295|x>>>26),x=U+(N^(I|~O))+M[7]+1126891415&4294967295,U=I+(x<<10&4294967295|x>>>22),x=O+(I^(U|~N))+M[14]+2878612391&4294967295,O=U+(x<<15&4294967295|x>>>17),x=N+(U^(O|~I))+M[5]+4237533241&4294967295,N=O+(x<<21&4294967295|x>>>11),x=I+(O^(N|~U))+M[12]+1700485571&4294967295,I=N+(x<<6&4294967295|x>>>26),x=U+(N^(I|~O))+M[3]+2399980690&4294967295,U=I+(x<<10&4294967295|x>>>22),x=O+(I^(U|~N))+M[10]+4293915773&4294967295,O=U+(x<<15&4294967295|x>>>17),x=N+(U^(O|~I))+M[1]+2240044497&4294967295,N=O+(x<<21&4294967295|x>>>11),x=I+(O^(N|~U))+M[8]+1873313359&4294967295,I=N+(x<<6&4294967295|x>>>26),x=U+(N^(I|~O))+M[15]+4264355552&4294967295,U=I+(x<<10&4294967295|x>>>22),x=O+(I^(U|~N))+M[6]+2734768916&4294967295,O=U+(x<<15&4294967295|x>>>17),x=N+(U^(O|~I))+M[13]+1309151649&4294967295,N=O+(x<<21&4294967295|x>>>11),x=I+(O^(N|~U))+M[4]+4149444226&4294967295,I=N+(x<<6&4294967295|x>>>26),x=U+(N^(I|~O))+M[11]+3174756917&4294967295,U=I+(x<<10&4294967295|x>>>22),x=O+(I^(U|~N))+M[2]+718787259&4294967295,O=U+(x<<15&4294967295|x>>>17),x=N+(U^(O|~I))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}i.prototype.v=function(C,I){I===void 0&&(I=C.length);const N=I-this.blockSize,M=this.C;let O=this.h,U=0;for(;U<I;){if(O==0)for(;U<=N;)a(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<I;)if(M[O++]=C.charCodeAt(U++),O==this.blockSize){a(this,M),O=0;break}}else for(;U<I;)if(M[O++]=C[U++],O==this.blockSize){a(this,M),O=0;break}}this.h=O,this.o+=I},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)C[I++]=this.g[N]>>>M&255;return C};function l(C,I){var N=d;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=I(C)}function c(C,I){this.h=I;const N=[];let M=!0;for(let O=C.length-1;O>=0;O--){const U=C[O]|0;M&&U==I||(N[O]=U,M=!1)}this.g=N}var d={};function m(C){return-128<=C&&C<128?l(C,function(I){return new c([I|0],I<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return j(g(-C));const I=[];let N=1;for(let M=0;C>=N;M++)I[M]=C/N|0,N*=4294967296;return new c(I,0)}function _(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return j(_(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(I,8));let M=E;for(let U=0;U<C.length;U+=8){var O=Math.min(8,C.length-U);const x=parseInt(C.substring(U,U+O),I);O<8?(O=g(Math.pow(I,O)),M=M.j(O).add(g(x))):(M=M.j(N),M=M.add(g(x)))}return M}var E=m(0),w=m(1),R=m(16777216);r=c.prototype,r.m=function(){if(L(this))return-j(this).m();let C=0,I=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);C+=(M>=0?M:4294967296+M)*I,I*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k(this))return"0";if(L(this))return"-"+j(this).toString(C);const I=g(Math.pow(C,6));var N=this;let M="";for(;;){const O=W(N,I).g;N=J(N,O.j(I));let U=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=O,k(N))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function k(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function L(C){return C.h==-1}r.l=function(C){return C=J(this,C),L(C)?-1:k(C)?0:1};function j(C){const I=C.g.length,N=[];for(let M=0;M<I;M++)N[M]=~C.g[M];return new c(N,~C.h).add(w)}r.abs=function(){return L(this)?j(this):this},r.add=function(C){const I=Math.max(this.g.length,C.g.length),N=[];let M=0;for(let O=0;O<=I;O++){let U=M+(this.i(O)&65535)+(C.i(O)&65535),x=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=x>>>16,U&=65535,x&=65535,N[O]=x<<16|U}return new c(N,N[N.length-1]&-2147483648?-1:0)};function J(C,I){return C.add(j(I))}r.j=function(C){if(k(this)||k(C))return E;if(L(this))return L(C)?j(this).j(j(C)):j(j(this).j(C));if(L(C))return j(this.j(j(C)));if(this.l(R)<0&&C.l(R)<0)return g(this.m()*C.m());const I=this.g.length+C.g.length,N=[];for(var M=0;M<2*I;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const U=this.i(M)>>>16,x=this.i(M)&65535,Oe=C.i(O)>>>16,xt=C.i(O)&65535;N[2*M+2*O]+=x*xt,ne(N,2*M+2*O),N[2*M+2*O+1]+=U*xt,ne(N,2*M+2*O+1),N[2*M+2*O+1]+=x*Oe,ne(N,2*M+2*O+1),N[2*M+2*O+2]+=U*Oe,ne(N,2*M+2*O+2)}for(C=0;C<I;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=I;C<2*I;C++)N[C]=0;return new c(N,0)};function ne(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function G(C,I){this.g=C,this.h=I}function W(C,I){if(k(I))throw Error("division by zero");if(k(C))return new G(E,E);if(L(C))return I=W(j(C),I),new G(j(I.g),j(I.h));if(L(I))return I=W(C,j(I)),new G(j(I.g),I.h);if(C.g.length>30){if(L(C)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var N=w,M=I;M.l(C)<=0;)N=le(N),M=le(M);var O=pe(N,1),U=pe(M,1);for(M=pe(M,2),N=pe(N,2);!k(M);){var x=U.add(M);x.l(C)<=0&&(O=O.add(N),U=x),M=pe(M,1),N=pe(N,1)}return I=J(C,O.j(I)),new G(O,I)}for(O=E;C.l(I)>=0;){for(N=Math.max(1,Math.floor(C.m()/I.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=g(N),x=U.j(I);L(x)||x.l(C)>0;)N-=M,U=g(N),x=U.j(I);k(U)&&(U=w),O=O.add(U),C=J(C,x)}return new G(O,C)}r.B=function(C){return W(this,C).h},r.and=function(C){const I=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<I;M++)N[M]=this.i(M)&C.i(M);return new c(N,this.h&C.h)},r.or=function(C){const I=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<I;M++)N[M]=this.i(M)|C.i(M);return new c(N,this.h|C.h)},r.xor=function(C){const I=Math.max(this.g.length,C.g.length),N=[];for(let M=0;M<I;M++)N[M]=this.i(M)^C.i(M);return new c(N,this.h^C.h)};function le(C){const I=C.g.length+1,N=[];for(let M=0;M<I;M++)N[M]=C.i(M)<<1|C.i(M-1)>>>31;return new c(N,C.h)}function pe(C,I){const N=I>>5;I%=32;const M=C.g.length-N,O=[];for(let U=0;U<M;U++)O[U]=I>0?C.i(U+N)>>>I|C.i(U+N+1)<<32-I:C.i(U+N);return new c(O,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,qS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Gs=c}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});var nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var HS,wc,GS,vf,by,KS,QS,$S;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nf=="object"&&nf];for(var y=0;y<h.length;++y){var b=h[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var b=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var q=h[S];if(!(q in b))break e;b=b[q]}h=h[h.length-1],S=b[h],y=y(S),y!=S&&y!=null&&e(b,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var b=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&b.push([S,y[S]]);return b}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,b){return h.call.apply(h.bind,arguments)}function g(h,y,b){return g=m,g.apply(null,arguments)}function _(h,y){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function E(h,y){function b(){}b.prototype=y.prototype,h.Z=y.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(S,q,Y){for(var ce=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ce[Ne-2]=arguments[Ne];return y.prototype[q].apply(S,ce)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const y=h.length;if(y>0){const b=Array(y);for(let S=0;S<y;S++)b[S]=h[S];return b}return[]}function k(h,y){for(let S=1;S<arguments.length;S++){const q=arguments[S];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=h.length||0;const Y=q.length||0;h.length=b+Y;for(let ce=0;ce<Y;ce++)h[b+ce]=q[ce]}else h.push(q)}}class L{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function J(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,b){const S=G.get();S.set(y,b),this.h?this.h.next=S:this.g=S,this.h=S}}var G=new L(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let le,pe=!1,C=new ne,I=()=>{const h=Promise.resolve(void 0);le=()=>{h.then(N)}};function N(){for(var h;h=J();){try{h.h.call(h.g)}catch(b){j(b)}var y=G;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}pe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};c.addEventListener("test",b,y),c.removeEventListener("test",b,y)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function Oe(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(Oe,O),Oe.prototype.init=function(h,y){const b=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(b=="mouseover"?y=h.fromElement:b=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),ee=0;function de(h,y,b,S,q){this.listener=h,this.proxy=null,this.src=y,this.type=b,this.capture=!!S,this.ha=q,this.key=++ee,this.da=this.fa=!1}function Te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function je(h,y,b){for(const S in h)y.call(b,h[S],S,h)}function Ye(h,y){for(const b in h)y.call(void 0,h[b],b,h)}function V(h){const y={};for(const b in h)y[b]=h[b];return y}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(h,y){let b,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(b in S)h[b]=S[b];for(let Y=0;Y<se.length;Y++)b=se[Y],Object.prototype.hasOwnProperty.call(S,b)&&(h[b]=S[b])}}function ge(h){this.src=h,this.g={},this.h=0}ge.prototype.add=function(h,y,b,S,q){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ce=Re(h,y,S,q);return ce>-1?(y=h[ce],b||(y.fa=!1)):(y=new de(y,this.src,Y,!!S,q),y.fa=b,h.push(y)),y};function xe(h,y){const b=y.type;if(b in h.g){var S=h.g[b],q=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(S,q,1),Y&&(Te(y),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Re(h,y,b,S){for(let q=0;q<h.length;++q){const Y=h[q];if(!Y.da&&Y.listener==y&&Y.capture==!!b&&Y.ha==S)return q}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function mt(h,y,b,S,q){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)mt(h,y[Y],b,S,q);return null}return b=ma(b),h&&h[xt]?h.J(y,b,d(S)?!!S.capture:!1,q):mi(h,y,b,!1,S,q)}function mi(h,y,b,S,q,Y){if(!y)throw Error("Invalid event type");const ce=d(q)?!!q.capture:!!q;let Ne=pi(h);if(Ne||(h[Ue]=Ne=new ge(h)),b=Ne.add(y,b,S,ce,Y),b.proxy)return b;if(S=hr(),b.proxy=S,S.src=h,S.listener=b,h.addEventListener)U||(q=ce),q===void 0&&(q=!1),h.addEventListener(y.toString(),S,q);else if(h.attachEvent)h.attachEvent(at(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function hr(){function h(b){return y.call(h.src,h.listener,b)}const y=Yt;return h}function Z(h,y,b,S,q){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Z(h,y[Y],b,S,q);else S=d(S)?!!S.capture:!!S,b=ma(b),h&&h[xt]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],b=Re(y,b,S,q),b>-1&&(Te(y[b]),Array.prototype.splice.call(y,b,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=pi(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Re(y,b,S,q)),(b=h>-1?y[h]:null)&&dt(b))}function dt(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[xt])xe(y.i,h);else{var b=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(b,S,h.capture):y.detachEvent?y.detachEvent(at(b),S):y.addListener&&y.removeListener&&y.removeListener(S),(b=pi(y))?(xe(b,h),b.h==0&&(b.src=null,y[Ue]=null)):Te(h)}}}function at(h){return h in Dt?Dt[h]:Dt[h]="on"+h}function Yt(h,y){if(h.da)h=!0;else{y=new Oe(y,this);const b=h.listener,S=h.ha||h.src;h.fa&&dt(h),h=b.call(S,y)}return h}function pi(h){return h=h[Ue],h instanceof ge?h:null}var fa="__closure_events_fn_"+(Math.random()*1e9>>>0);function ma(h){return typeof h=="function"?h:(h[fa]||(h[fa]=function(y){return h.handleEvent(y)}),h[fa])}function gt(){M.call(this),this.i=new ge(this),this.M=this,this.G=null}E(gt,M),gt.prototype[xt]=!0,gt.prototype.removeEventListener=function(h,y,b,S){Z(this,h,y,b,S)};function Vt(h,y){var b,S=h.G;if(S)for(b=[];S;S=S.G)b.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var q=y;y=new O(S,h),fe(y,q)}q=!0;let Y,ce;if(b)for(ce=b.length-1;ce>=0;ce--)Y=y.g=b[ce],q=gi(Y,S,!0,y)&&q;if(Y=y.g=h,q=gi(Y,S,!0,y)&&q,q=gi(Y,S,!1,y)&&q,b)for(ce=0;ce<b.length;ce++)Y=y.g=b[ce],q=gi(Y,S,!1,y)&&q}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const b=h.g[y];for(let S=0;S<b.length;S++)Te(b[S]);delete h.g[y],h.h--}}this.G=null},gt.prototype.J=function(h,y,b,S){return this.i.add(String(h),y,!1,b,S)},gt.prototype.K=function(h,y,b,S){return this.i.add(String(h),y,!0,b,S)};function gi(h,y,b,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Y=0;Y<y.length;++Y){const ce=y[Y];if(ce&&!ce.da&&ce.capture==b){const Ne=ce.listener,Pt=ce.ha||ce.src;ce.fa&&xe(h.i,ce),q=Ne.call(Pt,S)!==!1&&q}}return q&&!S.defaultPrevented}function pa(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Sh(h){h.g=pa(()=>{h.g=null,h.i&&(h.i=!1,Sh(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class En extends M{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Sh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ga(h){M.call(this),this.h=h,this.g={}}E(ga,M);var du=[];function fu(h){je(h.g,function(y,b){this.g.hasOwnProperty(b)&&dt(y)},h),h.g={}}ga.prototype.N=function(){ga.Z.N.call(this),fu(this)},ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=c.JSON.stringify,Bm=c.JSON.parse,xh=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ih(){}function Rh(){}var dr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function on(){O.call(this,"d")}E(on,O);function Yn(){O.call(this,"c")}E(Yn,O);var Ot={},Ch=null;function wo(){return Ch=Ch||new gt}Ot.Ia="serverreachability";function Nh(h){O.call(this,Ot.Ia,h)}E(Nh,O);function Vr(h){const y=wo();Vt(y,new Nh(y))}Ot.STAT_EVENT="statevent";function ya(h,y){O.call(this,Ot.STAT_EVENT,h),this.stat=y}E(ya,O);function Ut(h){const y=wo();Vt(y,new ya(y,h))}Ot.Ja="timingevent";function Or(h,y){O.call(this,Ot.Ja,h),this.size=y}E(Or,O);function Pr(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function fr(){this.g=!0}fr.prototype.ua=function(){this.g=!1};function Fm(h,y,b,S,q,Y){h.info(function(){if(h.g)if(Y){var ce="",Ne=Y.split("&");for(let Xe=0;Xe<Ne.length;Xe++){var Pt=Ne[Xe].split("=");if(Pt.length>1){const Tt=Pt[0];Pt=Pt[1];const Zn=Tt.split("_");ce=Zn.length>=2&&Zn[1]=="type"?ce+(Tt+"="+Pt+"&"):ce+(Tt+"=redacted&")}}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+y+`
`+b+`
`+ce})}function Dh(h,y,b,S,q,Y,ce){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+y+`
`+b+`
`+Y+" "+ce})}function Mr(h,y,b,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+qm(h,b)+(S?" "+S:"")})}function _a(h,y){h.info(function(){return"TIMEOUT: "+y})}fr.prototype.info=function(){};function qm(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var b=Y[h];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var q=S[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ce=1;ce<S.length;ce++)S[ce]=""}}}}return Wi(Y)}catch{return y}}var va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pu;function Ea(){}E(Ea,Ih),Ea.prototype.g=function(){return new XMLHttpRequest},pu=new Ea;function yi(h){return encodeURIComponent(String(h))}function Vh(h){var y=1;h=h.split(":");const b=[];for(;y>0&&h.length;)b.push(h.shift()),y--;return h.length&&b.push(h.join(":")),b}function mr(h,y,b,S){this.j=h,this.i=y,this.l=b,this.S=S||1,this.V=new ga(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var zt={},en={};function kr(h,y,b){h.M=1,h.A=Ta(Ft(y)),h.u=b,h.R=!0,Ao(h,null)}function Ao(h,y){h.F=Date.now(),Lr(h),h.B=Ft(h.A);var b=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Ro(b.i,"t",S),h.C=0,b=h.j.L,h.h=new pr,h.g=Qh(h.j,b?y:null,!h.u),h.P>0&&(h.O=new En(g(h.Y,h,h.g),h.P)),y=h.V,b=h.g,S=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(du[0]=q.toString()),q=du);for(let Y=0;Y<q.length;Y++){const ce=mt(b,q[Y],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Vr(),Fm(h.i,h.v,h.B,h.l,h.S,h.u)}mr.prototype.ba=function(h){h=h.target;const y=this.O;y&&_r(h)==3?y.j():this.Y(h)},mr.prototype.Y=function(h){try{if(h==this.g)e:{const Ne=_r(this.g),Pt=this.g.ya(),Xe=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Ne!=4||Pt==7||(Pt==8||Xe<=0?Vr(3):Vr(2)),jr(this);var y=this.g.ca();this.X=y;var b=Hm(this);if(this.o=y==200,Dh(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,q=this.g;if((S=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var Y=S;break t}}Y=null}if(h=Y)Mr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ur(this,h);else{this.o=!1,this.m=3,Ut(12),kn(this),Xn(this);break e}}if(this.R){h=!0;let Tt;for(;!this.K&&this.C<b.length;)if(Tt=Ph(this,b),Tt==en){Ne==4&&(this.m=4,Ut(14),h=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==zt){this.m=4,Ut(15),Mr(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Mr(this.i,this.l,Tt,null),Ur(this,Tt);if(Oh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,Ut(16),h=!1),this.o=this.o&&h,!h)Mr(this.i,this.l,b,"[Invalid Chunked Response]"),kn(this),Xn(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Nu(ce),ce.P=!0,Ut(11))}}else Mr(this.i,this.l,b,null),Ur(this,b);Ne==4&&kn(this),this.o&&!this.K&&(Ne==4?qh(this.j,this):(this.o=!1,Lr(this)))}else vi(this.g),y==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),kn(this),Xn(this)}}}catch{}};function Hm(h){if(!Oh(h))return h.g.la();const y=ln(h.g);if(y==="")return"";let b="";const S=y.length,q=_r(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return kn(h),Xn(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<S;Y++)h.h.h=!0,b+=h.h.i.decode(y[Y],{stream:!(q&&Y==S-1)});return y.length=0,h.h.g+=b,h.C=0,h.h.g}function Oh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ph(h,y){var b=h.C,S=y.indexOf(`
`,b);return S==-1?en:(b=Number(y.substring(b,S)),isNaN(b)?zt:(S+=1,S+b>y.length?en:(y=y.slice(S,S+b),h.C=S+b,y)))}mr.prototype.cancel=function(){this.K=!0,kn(this)};function Lr(h){h.T=Date.now()+h.H,So(h,h.H)}function So(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Pr(g(h.aa,h),y)}function jr(h){h.D&&(c.clearTimeout(h.D),h.D=null)}mr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(_a(this.i,this.B),this.M!=2&&(Vr(),Ut(17)),kn(this),this.m=2,Xn(this)):So(this,this.T-h)};function Xn(h){h.j.I==0||h.K||qh(h.j,h)}function kn(h){jr(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,fu(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ur(h,y){try{var b=h.j;if(b.I!=0&&(b.g==h||Br(b.h,h))){if(!h.L&&Br(b.h,h)&&b.I==3){try{var S=b.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Oo(b),as(b);else break e;Ra(b),Ut(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Pr(g(b.Va,b),6e3));zr(b.h)<=1&&b.ta&&(b.ta=void 0)}else Qr(b,11)}else if((h.L||b.g==h)&&Oo(b),!x(y))for(q=b.Ba.g.parse(y),y=0;y<q.length;y++){let Xe=q[y];const Tt=Xe[0];if(!(Tt<=b.K))if(b.K=Tt,Xe=Xe[1],b.I==2)if(Xe[0]=="c"){b.M=Xe[1],b.ba=Xe[2];const Zn=Xe[3];Zn!=null&&(b.ka=Zn,b.j.info("VER="+b.ka));const $r=Xe[4];$r!=null&&(b.za=$r,b.j.info("SVER="+b.za));const vr=Xe[5];vr!=null&&typeof vr=="number"&&vr>0&&(S=1.5*vr,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const Er=h.g;if(Er){const Ca=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var Y=S.h;Y.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(_u(Y,Y.h),Y.h=null))}if(S.G){const Po=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(S.wa=Po,Ze(S.J,S.G,Po))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ce=h;if(S.na=Kh(S,S.L?S.ba:null,S.W),ce.L){vu(S.h,ce);var Ne=ce,Pt=S.O;Pt&&(Ne.H=Pt),Ne.D&&(jr(Ne),Lr(Ne)),S.g=ce}else Bh(S);b.i.length>0&&Kr(b)}else Xe[0]!="stop"&&Xe[0]!="close"||Qr(b,7);else b.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Qr(b,7):Ru(b):Xe[0]!="noop"&&b.l&&b.l.qa(Xe),b.A=0)}}Vr(4)}catch{}}var Bt=class{constructor(h,y){this.g=h,this.map=y}};function gu(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zr(h){return h.h?1:h.g?h.g.size:0}function Br(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function _u(h,y){h.g?h.g.add(y):h.h=y}function vu(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}gu.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Eu(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const b of h.g.values())y=y.concat(b.G);return y}return R(h.i)}var Mh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xo(h,y){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const S=h[b].indexOf("=");let q,Y=null;S>=0?(q=h[b].substring(0,S),Y=h[b].substring(S+1)):q=h[b],y(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ln(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Ln?(this.l=h.l,tn(this,h.j),this.o=h.o,this.g=h.g,Zi(this,h.u),this.h=h.h,Tu(this,Uh(h.i)),this.m=h.m):h&&(y=String(h).match(Mh))?(this.l=!1,tn(this,y[1]||"",!0),this.o=Fr(y[2]||""),this.g=Fr(y[3]||"",!0),Zi(this,y[4]),this.h=Fr(y[5]||"",!0),Tu(this,y[6]||"",!0),this.m=Fr(y[7]||"")):(this.l=!1,this.i=new ts(null,this.l))}Ln.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(ba(y,Io,!0),":");var b=this.g;return(b||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ba(y,Io,!0),"@"),h.push(yi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(ba(b,b.charAt(0)=="/"?bu:kh,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",ba(b,Lh)),h.join("")},Ln.prototype.resolve=function(h){const y=Ft(this);let b=!!h.j;b?tn(y,h.j):b=!!h.o,b?y.o=h.o:b=!!h.g,b?y.g=h.g:b=h.u!=null;var S=h.h;if(b)Zi(y,h.u);else if(b=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var q=y.h.lastIndexOf("/");q!=-1&&(S=y.h.slice(0,q+1)+S)}if(q=S,q==".."||q==".")S="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){S=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let ce=0;ce<q.length;){const Ne=q[ce++];Ne=="."?S&&ce==q.length&&Y.push(""):Ne==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&ce==q.length&&Y.push("")):(Y.push(Ne),S=!0)}S=Y.join("/")}else S=q}return b?y.h=S:b=h.i.toString()!=="",b?Tu(y,Uh(h.i)):b=!!h.m,b&&(y.m=h.m),y};function Ft(h){return new Ln(h)}function tn(h,y,b){h.j=b?Fr(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Zi(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Tu(h,y,b){y instanceof ts?(h.i=y,Co(h.i,h.l)):(b||(y=ba(y,es)),h.i=new ts(y,h.l))}function Ze(h,y,b){h.i.set(y,b)}function Ta(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Fr(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ba(h,y,b){return typeof h=="string"?(h=encodeURI(h).replace(y,wn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function wn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Io=/[#\/\?@]/g,kh=/[#\?:]/g,bu=/[#\?]/g,es=/[#\?@]/g,Lh=/#/g;function ts(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function An(h){h.g||(h.g=new Map,h.h=0,h.i&&xo(h.i,function(y,b){h.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=ts.prototype,r.add=function(h,y){An(this),this.i=null,h=ns(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(y),this.h+=1,this};function jh(h,y){An(h),y=ns(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function wu(h,y){return An(h),y=ns(h,y),h.g.has(y)}r.forEach=function(h,y){An(this),this.g.forEach(function(b,S){b.forEach(function(q){h.call(y,q,S,this)},this)},this)};function Au(h,y){An(h);let b=[];if(typeof y=="string")wu(h,y)&&(b=b.concat(h.g.get(ns(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)b=b.concat(h[y]);return b}r.set=function(h,y){return An(this),this.i=null,h=ns(this,h),wu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=Au(this,h),h.length>0?String(h[0]):y):y};function Ro(h,y,b){jh(h,y),b.length>0&&(h.i=null,h.g.set(ns(h,y),R(b)),h.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var b=y[S];const q=yi(b);b=Au(this,b);for(let Y=0;Y<b.length;Y++){let ce=q;b[Y]!==""&&(ce+="="+yi(b[Y])),h.push(ce)}}return this.i=h.join("&")};function Uh(h){const y=new ts;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function ns(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Co(h,y){y&&!h.j&&(An(h),h.i=null,h.g.forEach(function(b,S){const q=S.toLowerCase();S!=q&&(jh(this,S),Ro(this,q,b))},h)),h.j=y}function gr(h,y){const b=new fr;if(c.Image){const S=new Image;S.onload=_(Jn,b,"TestLoadImage: loaded",!0,y,S),S.onerror=_(Jn,b,"TestLoadImage: error",!1,y,S),S.onabort=_(Jn,b,"TestLoadImage: abort",!1,y,S),S.ontimeout=_(Jn,b,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Su(h,y){const b=new fr,S=new AbortController,q=setTimeout(()=>{S.abort(),Jn(b,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(Y=>{clearTimeout(q),Y.ok?Jn(b,"TestPingServer: ok",!0,y):Jn(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Jn(b,"TestPingServer: error",!1,y)})}function Jn(h,y,b,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(b)}catch{}}function rs(){this.g=new xh}function qr(h){this.i=h.Sb||null,this.h=h.ab||!1}E(qr,Ih),qr.prototype.g=function(){return new wa(this.i,this.h)};function wa(h,y){gt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(wa,gt),r=wa.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,yr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;No(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function No(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?is(this):yr(this),this.readyState==3&&No(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,is(this))},r.Na=function(h){this.g&&(this.response=h,is(this))},r.ga=function(){this.g&&is(this)};function is(h){h.readyState=4,h.l=null,h.j=null,h.B=null,yr(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=y.next();return h.join(`\r
`)};function yr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Wn(h){let y="";return je(h,function(b,S){y+=S,y+=":",y+=b,y+=`\r
`}),y}function Aa(h,y,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Wn(b),typeof h=="string"?b!=null&&yi(b):Ze(h,y,b))}function ot(h){gt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(ot,gt);var Hr=/^https?$/i,xu=["POST","PUT"];r=ot.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pu.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Sa(this,Y);return}if(h=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)b.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())b.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(xu,y,void 0)>=0)||S||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of b)this.g.setRequestHeader(Y,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Sa(this,Y)}};function Sa(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Iu(h),_i(h)}function Iu(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),_i(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),ot.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?xa(this):this.Xa())},r.Xa=function(){xa(this)};function xa(h){if(h.h&&typeof l<"u"){if(h.v&&_r(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),_r(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var S;if(S=Y===0){let ce=String(h.D).match(Mh)[1]||null;!ce&&c.self&&c.self.location&&(ce=c.self.location.protocol.slice(0,-1)),S=!Hr.test(ce?ce.toLowerCase():"")}b=S}if(b)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var q=_r(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",Iu(h)}}finally{_i(h)}}}}function _i(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,y||Vt(h,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function _r(h){return h.g?h.g.readyState:0}r.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Bm(y)}};function ln(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function vi(h){const y={};h=(h.g&&_r(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(x(h[S]))continue;var b=Vh(h[S]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=y[q]||[];y[q]=Y,Y.push(b)}Ye(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(h,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||y}function ss(h){this.za=0,this.i=[],this.j=new fr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,h),this.Za=Gr("retryDelaySeedMs",1e4,h),this.Ta=Gr("forwardChannelMaxRetries",2,h),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new gu(h&&h.concurrentRequestLimit),this.Ba=new rs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ss.prototype,r.ka=8,r.I=1,r.connect=function(h,y,b,S){Ut(0),this.W=h,this.H=y||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Kh(this,null,this.W),Kr(this)};function Ru(h){if(Do(h),h.I==3){var y=h.V++,b=Ft(h.J);if(Ze(b,"SID",h.M),Ze(b,"RID",y),Ze(b,"TYPE","terminate"),Ia(h,b),y=new mr(h,h.j,y),y.M=2,y.A=Ta(Ft(b)),b=!1,c.navigator&&c.navigator.sendBeacon)try{b=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!b&&c.Image&&(new Image().src=y.A,b=!0),b||(y.g=Qh(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Lr(y)}Gh(h)}function as(h){h.g&&(Nu(h),h.g.cancel(),h.g=null)}function Do(h){as(h),h.v&&(c.clearTimeout(h.v),h.v=null),Oo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Kr(h){if(!yu(h.h)&&!h.m){h.m=!0;var y=h.Ea;le||I(),pe||(le(),pe=!0),C.add(y,h),h.D=0}}function Vo(h,y){return zr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Pr(g(h.Ea,h,y),Hh(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new mr(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=V(Y),fe(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=zh(this,q,y),b=Ft(this.J),Ze(b,"RID",h),Ze(b,"CVER",22),this.G&&Ze(b,"X-HTTP-Session-Id",this.G),Ia(this,b),Y&&(this.R?y="headers="+yi(Wn(Y))+"&"+y:this.u&&Aa(b,this.u,Y)),_u(this.h,q),this.Ra&&Ze(b,"TYPE","init"),this.S?(Ze(b,"$req",y),Ze(b,"SID","null"),q.U=!0,kr(q,b,null)):kr(q,b,y),this.I=2}}else this.I==3&&(h?Cu(this,h):this.i.length==0||yu(this.h)||Cu(this))};function Cu(h,y){var b;y?b=y.l:b=h.V++;const S=Ft(h.J);Ze(S,"SID",h.M),Ze(S,"RID",b),Ze(S,"AID",h.K),Ia(h,S),h.u&&h.o&&Aa(S,h.u,h.o),b=new mr(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),y&&(h.i=y.G.concat(h.i)),y=zh(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),_u(h.h,b),kr(b,S,y)}function Ia(h,y){h.H&&je(h.H,function(b,S){Ze(y,S,b)}),h.l&&je({},function(b,S){Ze(y,S,b)})}function zh(h,y,b){b=Math.min(h.i.length,b);const S=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ne=-1;for(;;){const Pt=["count="+b];Ne==-1?b>0?(Ne=q[0].g,Pt.push("ofs="+Ne)):Ne=0:Pt.push("ofs="+Ne);let Xe=!0;for(let Tt=0;Tt<b;Tt++){var Y=q[Tt].g;const Zn=q[Tt].map;if(Y-=Ne,Y<0)Ne=Math.max(0,q[Tt].g-100),Xe=!1;else try{Y="req"+Y+"_"||"";try{var ce=Zn instanceof Map?Zn:Object.entries(Zn);for(const[$r,vr]of ce){let Er=vr;d(vr)&&(Er=Wi(vr)),Pt.push(Y+$r+"="+encodeURIComponent(Er))}}catch($r){throw Pt.push(Y+"type="+encodeURIComponent("_badmap")),$r}}catch{S&&S(Zn)}}if(Xe){ce=Pt.join("&");break e}}ce=void 0}return h=h.i.splice(0,b),y.G=h,ce}function Bh(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;le||I(),pe||(le(),pe=!0),C.add(y,h),h.A=0}}function Ra(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Pr(g(h.Da,h),Hh(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,Fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Pr(g(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),as(this),Fh(this))};function Nu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Fh(h){h.g=new mr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ft(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),Ia(h,y),h.u&&h.o&&Aa(y,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Ta(Ft(y)),b.u=null,b.R=!0,Ao(b,h)}r.Va=function(){this.C!=null&&(this.C=null,as(this),Ra(this),Ut(19))};function Oo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function qh(h,y){var b=null;if(h.g==y){Oo(h),Nu(h),h.g=null;var S=2}else if(Br(h.h,y))b=y.G,vu(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){b=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;S=wo(),Vt(S,new Or(S,b)),Kr(h)}else Bh(h);else if(q=y.m,q==3||q==0&&y.X>0||!(S==1&&Vo(h,y)||S==2&&Ra(h)))switch(b&&b.length>0&&(y=h.h,y.i=y.i.concat(b)),q){case 1:Qr(h,5);break;case 4:Qr(h,10);break;case 3:Qr(h,6);break;default:Qr(h,2)}}}function Hh(h,y){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*y}function Qr(h,y){if(h.j.info("Error code "+y),y==2){var b=g(h.bb,h),S=h.Ua;const q=!S;S=new Ln(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||tn(S,"https"),Ta(S),q?gr(S.toString(),b):Su(S.toString(),b)}else Ut(2);h.I=0,h.l&&h.l.pa(y),Gh(h),Do(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function Gh(h){if(h.I=0,h.ja=[],h.l){const y=Eu(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ja,y),k(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Kh(h,y,b){var S=b instanceof Ln?Ft(b):new Ln(b);if(S.g!="")y&&(S.g=y+"."+S.g),Zi(S,S.u);else{var q=c.location;S=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Y=new Ln(null);S&&tn(Y,S),y&&(Y.g=y),q&&Zi(Y,q),b&&(Y.h=b),S=Y}return b=h.G,y=h.wa,b&&y&&Ze(S,b,y),Ze(S,"VER",h.ka),Ia(h,S),S}function Qh(h,y,b){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new ot(new qr({ab:b})):new ot(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $h(){}r=$h.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function os(){}os.prototype.g=function(h,y){return new Tn(h,y)};function Tn(h,y){gt.call(this),this.g=new ss(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!x(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!x(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ei(this)}E(Tn,gt),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Ru(this.g)},Tn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Wi(h),h=b);y.i.push(new Bt(y.Ya++,h)),y.I==3&&Kr(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,Tn.Z.N.call(this)};function Yh(h){on.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const b in y){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Yh,on);function Xh(){Yn.call(this),this.status=1}E(Xh,Yn);function Ei(h){this.g=h}E(Ei,$h),Ei.prototype.ra=function(){Vt(this.g,"a")},Ei.prototype.qa=function(h){Vt(this.g,new Yh(h))},Ei.prototype.pa=function(h){Vt(this.g,new Xh)},Ei.prototype.oa=function(){Vt(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,$S=function(){return new os},QS=function(){return wo()},KS=Ot,by={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},va.NO_ERROR=0,va.TIMEOUT=8,va.HTTP_ERROR=6,vf=va,mu.COMPLETE="complete",GS=mu,Rh.EventType=dr,dr.OPEN="a",dr.CLOSE="b",dr.ERROR="c",dr.MESSAGE="d",gt.prototype.listen=gt.prototype.J,wc=Rh,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,HS=ot}).apply(typeof nf<"u"?nf:typeof self<"u"?self:typeof window<"u"?window:{});const Kb="@firebase/firestore",Qb="4.9.3";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let eu="12.7.0";const $s=new d_("@firebase/firestore");function _l(){return $s.logLevel}function fM(r){$s.setLogLevel(r)}function oe(r,...e){if($s.logLevel<=Fe.DEBUG){const t=e.map(w_);$s.debug(`Firestore (${eu}): ${r}`,...t)}}function Lt(r,...e){if($s.logLevel<=Fe.ERROR){const t=e.map(w_);$s.error(`Firestore (${eu}): ${r}`,...t)}}function Qn(r,...e){if($s.logLevel<=Fe.WARN){const t=e.map(w_);$s.warn(`Firestore (${eu}): ${r}`,...t)}}function w_(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function me(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,YS(r,i,t)}function YS(r,e,t){let i=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Lt(i),new Error(i)}function _e(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||YS(e,a,i)}function mM(r,e){r||me(57014,e)}function he(r,e){return r}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends di{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class an{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class XS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class pM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class gM{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_e(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new an;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new an,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new an)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string",31837,{l:i}),new XS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class yM{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _M{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new yM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_e(this.o===void 0,3512);const i=l=>{l.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_e(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class EM{getToken(){return Promise.resolve(new wy(""))}invalidateToken(){}start(e,t){}shutdown(){}}function TM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=TM(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Se(r,e){return r<e?-1:r>e?1:0}function Ay(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return ey(a)===ey(l)?Se(a,l):ey(a)?1:-1}return Se(r.length,e.length)}const bM=55296,wM=57343;function ey(r){const e=r.charCodeAt(0);return e>=bM&&e<=wM}function Cl(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}function WS(r){return r+"\0"}const Sy="__name__";class ei{constructor(e,t,i){t===void 0?t=0:t>e.length&&me(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&me(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ei.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Se(e.length,t.length)}static compareSegments(e,t){const i=ei.isNumericId(e),a=ei.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ei.extractNumericId(e).compare(ei.extractNumericId(t)):Ay(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class Pe extends ei{construct(e,t,i){return new Pe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ie(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new Pe(t)}static emptyPath(){return new Pe([])}}const AM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends ei{construct(e,t,i){return new Et(e,t,i)}static isValidIdentifier(e){return AM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sy}static keyField(){return new Et([Sy])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ie(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new ie(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ie(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new ie(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(t)}static emptyPath(){return new Et([])}}class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Pe.fromString(e))}static fromName(e){return new ue(Pe.fromString(e).popFirst(5))}static empty(){return new ue(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Pe(e.slice()))}}function A_(r,e,t){if(!t)throw new ie(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ZS(r,e,t,i){if(e===!0&&i===!0)throw new ie(Q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function $b(r){if(!ue.isDocumentKey(r))throw new ie(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Yb(r){if(ue.isDocumentKey(r))throw new ie(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ex(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function pm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":me(12329,{type:typeof r})}function Me(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ie(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pm(r);throw new ie(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function tx(r,e){if(e<=0)throw new ie(Q.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function $t(r,e){const t={typeString:r};return e&&(t.value=e),t}function _o(r,e){if(!ex(r))throw new ie(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ie(Q.INVALID_ARGUMENT,t);return!0}const Xb=-62135596800,Jb=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Jb);return new We(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ie(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ie(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Xb)throw new ie(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jb}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_o(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:$t("string",We._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new We(0,0))}static max(){return new Ee(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nl=-1;class Dl{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function xy(r){return r.fields.find((e=>e.kind===2))}function Qa(r){return r.fields.filter((e=>e.kind!==2))}function SM(r,e){let t=Se(r.collectionGroup,e.collectionGroup);if(t!==0)return t;for(let i=0;i<Math.min(r.fields.length,e.fields.length);++i)if(t=xM(r.fields[i],e.fields[i]),t!==0)return t;return Se(r.fields.length,e.fields.length)}Dl.UNKNOWN_ID=-1;class eo{constructor(e,t){this.fieldPath=e,this.kind=t}}function xM(r,e){const t=Et.comparator(r.fieldPath,e.fieldPath);return t!==0?t:Se(r.kind,e.kind)}class Vl{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vl(0,$n.min())}}function nx(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(i===1e9?new We(t+1,0):new We(t,i));return new $n(a,ue.empty(),e)}function rx(r){return new $n(r.readTime,r.key,Nl)}class $n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $n(Ee.min(),ue.empty(),Nl)}static max(){return new $n(Ee.max(),ue.empty(),Nl)}}function S_(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(r.documentKey,e.documentKey),t!==0?t:Se(r.largestBatchId,e.largestBatchId))}const ix="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function sa(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==ix)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):B.reject(t)}static resolve(e){return new B(((t,i)=>{t(e)}))}static reject(e){return new B(((t,i)=>{i(e)}))}static waitFor(e){return new B(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(m=>i(m)))})),c=!0,l===a&&t()}))}static or(e){let t=B.resolve(!1);for(const i of e)t=t.next((a=>a?B.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new B(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next((_=>{c[g]=_,++d,d===l&&i(c)}),(_=>a(_)))}}))}static doWhile(e,t){return new B(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}const Gn="SimpleDb";class gm{static open(e,t,i,a){try{return new gm(t,e.transaction(a,i))}catch(l){throw new Cc(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new an,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Cc(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=x_(i.target.error);this.S.reject(new Cc(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(oe(Gn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new RM(t)}}class oi{static delete(e){return oe(Gn,"Removing database:",e),Ya($A().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!rS())return!1;if(oi.F())return!0;const e=Jt(),t=oi.M(e),i=0<t&&t<10,a=ax(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,oi.M(Jt())===12.2&&Lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(oe(Gn,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{i(new Cc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new ie(Q.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new ie(Q.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new Cc(e,c))},a.onupgradeneeded=l=>{oe(Gn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{oe(Gn,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=gm.open(this.db,e,l?"readonly":"readwrite",i),m=a(d).next((g=>(d.C(),g))).catch((g=>(d.abort(g),B.reject(g)))).toPromise();return m.catch((()=>{})),await d.D,m}catch(d){const m=d,g=m.name!=="FirebaseError"&&c<3;if(oe(Gn,"Transaction failed with error:",m.message,"Retrying:",g),this.close(),!g)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ax(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class IM{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Ya(this.U.delete())}}class Cc extends ie{constructor(e,t){super(Q.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function aa(r){return r.name==="IndexedDbTransactionError"}class RM{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(oe(Gn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(oe(Gn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ya(i)}add(e){return oe(Gn,"ADD",this.store.name,e,e),Ya(this.store.add(e))}get(e){return Ya(this.store.get(e)).next((t=>(t===void 0&&(t=null),oe(Gn,"GET",this.store.name,e,t),t)))}delete(e){return oe(Gn,"DELETE",this.store.name,e),Ya(this.store.delete(e))}count(){return oe(Gn,"COUNT",this.store.name),Ya(this.store.count())}J(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new B(((c,d)=>{l.onerror=m=>{d(m.target.error)},l.onsuccess=m=>{c(m.target.result)}}))}{const l=this.cursor(i),c=[];return this.H(l,((d,m)=>{c.push(m)})).next((()=>c))}}Y(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new B(((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}Z(e,t){oe(Gn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const a=this.cursor(i);return this.H(a,((l,c,d)=>d.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.H(a,t)}te(e){const t=this.cursor({});return new B(((i,a)=>{t.onerror=l=>{const c=x_(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():i()})):i()}}))}H(e,t){const i=[];return new B(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const m=new IM(d),g=t(d.primaryKey,d.value,m);if(g instanceof B){const _=g.catch((E=>(m.done(),B.reject(E))));i.push(_)}m.isDone?a():m.G===null?d.continue():d.continue(m.G)}})).next((()=>B.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ya(r){return new B(((e,t)=>{r.onsuccess=i=>{const a=i.target.result;e(a)},r.onerror=i=>{const a=x_(i.target.error);t(a)}}))}let Wb=!1;function x_(r){const e=oi.M(Jt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const i=new ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Wb||(Wb=!0,setTimeout((()=>{throw i}),0)),i}}return r}const Nc="IndexBackfiller";class CM{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){oe(Nc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();oe(Nc,`Documents written: ${t}`)}catch(t){aa(t)?oe(Nc,"Ignoring IndexedDB error during index backfill: ",t):await sa(t)}await this.re(6e4)}))}}class NM{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,l=!0;return B.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!i.has(c))return oe(Nc,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,i.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((d=>(oe(Nc,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,l)=>{const c=rx(l);S_(c,i)>0&&(i=c)})),new $n(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Dn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dn.ce=-1;const Ks=-1;function hh(r){return r==null}function qc(r){return r===0&&1/r==-1/0}function ox(r){return typeof r=="number"&&Number.isInteger(r)&&!qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Bf="";function _n(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Zb(e)),e=DM(r.get(t),e);return Zb(e)}function DM(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case Bf:t+="";break;default:t+=l}}return t}function Zb(r){return r+Bf+""}function ni(r){const e=r.length;if(_e(e>=2,64408,{path:r}),e===2)return _e(r.charAt(0)===Bf&&r.charAt(1)==="",56145,{path:r}),Pe.emptyPath();const t=e-2,i=[];let a="";for(let l=0;l<e;){const c=r.indexOf(Bf,l);switch((c<0||c>t)&&me(50515,{path:r}),r.charAt(c+1)){case"":const d=r.substring(l,c);let m;a.length===0?m=d:(a+=d,m=a,a=""),i.push(m);break;case"":a+=r.substring(l,c),a+="\0";break;case"":a+=r.substring(l,c+1);break;default:me(61167,{path:r})}l=c+2}return new Pe(i)}const $a="remoteDocuments",dh="owner",cl="owner",Hc="mutationQueues",VM="userId",Ar="mutations",ew="batchId",Za="userMutationsIndex",tw=["userId","batchId"];function Ef(r,e){return[r,_n(e)]}function lx(r,e,t){return[r,_n(e),t]}const OM={},Ol="documentMutations",Ff="remoteDocumentsV14",PM=["prefixPath","collectionGroup","readTime","documentId"],Tf="documentKeyIndex",MM=["prefixPath","collectionGroup","documentId"],ux="collectionGroupIndex",kM=["collectionGroup","readTime","prefixPath","documentId"],Gc="remoteDocumentGlobal",Iy="remoteDocumentGlobalKey",Pl="targets",cx="queryTargetsIndex",LM=["canonicalId","targetId"],Ml="targetDocuments",jM=["targetId","path"],I_="documentTargetsIndex",UM=["path","targetId"],qf="targetGlobalKey",to="targetGlobal",Kc="collectionParents",zM=["collectionId","parent"],kl="clientMetadata",BM="clientId",ym="bundles",FM="bundleId",_m="namedQueries",qM="name",R_="indexConfiguration",HM="indexId",Ry="collectionGroupIndex",GM="collectionGroup",Dc="indexState",KM=["indexId","uid"],hx="sequenceNumberIndex",QM=["uid","sequenceNumber"],Vc="indexEntries",$M=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dx="documentKeyIndex",YM=["indexId","uid","orderedDocumentKey"],vm="documentOverlays",XM=["userId","collectionPath","documentId"],Cy="collectionPathOverlayIndex",JM=["userId","collectionPath","largestBatchId"],fx="collectionGroupOverlayIndex",WM=["userId","collectionGroup","largestBatchId"],C_="globals",ZM="name",mx=[Hc,Ar,Ol,$a,Pl,dh,to,Ml,kl,Gc,Kc,ym,_m],ek=[...mx,vm],px=[Hc,Ar,Ol,Ff,Pl,dh,to,Ml,kl,Gc,Kc,ym,_m,vm],gx=px,N_=[...gx,R_,Dc,Vc],tk=N_,yx=[...N_,C_],nk=yx;class Ny extends sx{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Zt(r,e){const t=he(r);return oi.O(t.le,e)}function nw(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function oa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function _x(r,e){const t=[];for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.push(e(r[i],i,r));return t}function vx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class pt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rf(this.root,e,this.comparator,!0)}}class rf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??fn.RED,this.left=a??fn.EMPTY,this.right=l??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new fn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return fn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw me(27949);return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw me(57766)}get value(){throw me(16141)}get color(){throw me(16727)}get left(){throw me(29726)}get right(){throw me(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rw(this.data.getIterator())}getIteratorFrom(e){return new rw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class rw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hl(r){return r.hasNext()?r.getNext():void 0}class Vn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new it(Et.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class Ex extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function rk(){return typeof atob<"u"}class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ex("Invalid base64 string: "+l):l}})(e);return new Rt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Rt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const ik=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(r){if(_e(!!r,39018),typeof r=="string"){let e=0;const t=ik.exec(r);if(_e(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(r.seconds),nanos:wt(r.nanos)}}function wt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ki(r){return typeof r=="string"?Rt.fromBase64String(r):Rt.fromUint8Array(r)}const Tx="server_timestamp",bx="__type__",wx="__previous_value__",Ax="__local_write_time__";function Em(r){return(r?.mapValue?.fields||{})[bx]?.stringValue===Tx}function Tm(r){const e=r.mapValue.fields[wx];return Em(e)?Tm(e):e}function Qc(r){const e=Gi(r.mapValue.fields[Ax].timestampValue);return new We(e.seconds,e.nanos)}class sk{constructor(e,t,i,a,l,c,d,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const $c="(default)";class Ys{constructor(e,t){this.projectId=e,this.database=t||$c}static empty(){return new Ys("","")}get isDefaultDatabase(){return this.database===$c}isEqual(e){return e instanceof Ys&&e.projectId===this.projectId&&e.database===this.database}}const D_="__type__",Sx="__max__",zs={mapValue:{fields:{__type__:{stringValue:Sx}}}},V_="__vector__",Ll="value",bf={nullValue:"NULL_VALUE"};function Xs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Em(r)?4:xx(r)?9007199254740991:bm(r)?10:11:me(28295,{value:r})}function ui(r,e){if(r===e)return!0;const t=Xs(r);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Qc(r).isEqual(Qc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Gi(a.timestampValue),d=Gi(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Ki(a.bytesValue).isEqual(Ki(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),d=wt(l.doubleValue);return c===d?qc(c)===qc(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Cl(r.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(nw(c)!==nw(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!ui(c[m],d[m])))return!1;return!0})(r,e);default:return me(52216,{left:r})}}function Yc(r,e){return(r.values||[]).find((t=>ui(t,e)))!==void 0}function Js(r,e){if(r===e)return 0;const t=Xs(r),i=Xs(e);if(t!==i)return Se(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=wt(l.integerValue||l.doubleValue),m=wt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(r,e);case 3:return iw(r.timestampValue,e.timestampValue);case 4:return iw(Qc(r),Qc(e));case 5:return Ay(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=Ki(l),m=Ki(c);return d.compareTo(m)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=Se(d[g],m[g]);if(_!==0)return _}return Se(d.length,m.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Se(wt(l.latitude),wt(c.latitude));return d!==0?d:Se(wt(l.longitude),wt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return sw(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},g=d[Ll]?.arrayValue,_=m[Ll]?.arrayValue,E=Se(g?.values?.length||0,_?.values?.length||0);return E!==0?E:sw(g,_)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===zs.mapValue&&c===zs.mapValue)return 0;if(l===zs.mapValue)return 1;if(c===zs.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let E=0;E<m.length&&E<_.length;++E){const w=Ay(m[E],_[E]);if(w!==0)return w;const R=Js(d[m[E]],g[_[E]]);if(R!==0)return R}return Se(m.length,_.length)})(r.mapValue,e.mapValue);default:throw me(23264,{he:t})}}function iw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Se(r,e);const t=Gi(r),i=Gi(e),a=Se(t.seconds,i.seconds);return a!==0?a:Se(t.nanos,i.nanos)}function sw(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Js(t[a],i[a]);if(l)return l}return Se(t.length,i.length)}function jl(r){return Dy(r)}function Dy(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Gi(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ki(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ue.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Dy(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Dy(t.fields[c])}`;return a+"}"})(r.mapValue):me(61005,{value:r})}function wf(r){switch(Xs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tm(r);return e?16+wf(e):16;case 5:return 2*r.stringValue.length;case 6:return Ki(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+wf(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return oa(i.fields,((l,c)=>{a+=l.length+wf(c)})),a})(r.mapValue);default:throw me(13486,{value:r})}}function ao(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vy(r){return!!r&&"integerValue"in r}function Xc(r){return!!r&&"arrayValue"in r}function aw(r){return!!r&&"nullValue"in r}function ow(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Af(r){return!!r&&"mapValue"in r}function bm(r){return(r?.mapValue?.fields||{})[D_]?.stringValue===V_}function Oc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return oa(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Oc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oc(r.arrayValue.values[t]);return e}return{...r}}function xx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Sx}const Ix={mapValue:{fields:{[D_]:{stringValue:V_},[Ll]:{arrayValue:{}}}}};function ak(r){return"nullValue"in r?bf:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?ao(Ys.empty(),ue.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?bm(r)?Ix:{mapValue:{}}:me(35942,{value:r})}function ok(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?ao(Ys.empty(),ue.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?Ix:"mapValue"in r?bm(r)?{mapValue:{}}:zs:me(61959,{value:r})}function lw(r,e){const t=Js(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function uw(r,e){const t=Js(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Af(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(t)}setAll(e){let t=Et.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Oc(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Af(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){oa(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new mn(Oc(this.value))}}function Rx(r){const e=[];return oa(r.fields,((t,i)=>{const a=new Et([t]);if(Af(i)){const l=Rx(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new Vn(e)}class vt{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new vt(e,0,Ee.min(),Ee.min(),Ee.min(),mn.empty(),0)}static newFoundDocument(e,t,i,a){return new vt(e,1,t,Ee.min(),i,a,0)}static newNoDocument(e,t){return new vt(e,2,t,Ee.min(),Ee.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Ee.min(),Ee.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ws{constructor(e,t){this.position=e,this.inclusive=t}}function cw(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=ue.comparator(ue.fromName(c.referenceValue),t.key):i=Js(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function hw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ui(r.position[t],e.position[t]))return!1;return!0}class Jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function lk(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Cx{}class qe extends Cx{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new uk(e,t,i):t==="array-contains"?new dk(e,i):t==="in"?new Mx(e,i):t==="not-in"?new fk(e,i):t==="array-contains-any"?new mk(e,i):new qe(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ck(e,i):new hk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Js(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(Js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nt extends Cx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new nt(e,t)}matches(e){return Ul(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ul(r){return r.op==="and"}function Oy(r){return r.op==="or"}function O_(r){return Nx(r)&&Ul(r)}function Nx(r){for(const e of r.filters)if(e instanceof nt)return!1;return!0}function Py(r){if(r instanceof qe)return r.field.canonicalString()+r.op.toString()+jl(r.value);if(O_(r))return r.filters.map((e=>Py(e))).join(",");{const e=r.filters.map((t=>Py(t))).join(",");return`${r.op}(${e})`}}function Dx(r,e){return r instanceof qe?(function(i,a){return a instanceof qe&&i.op===a.op&&i.field.isEqual(a.field)&&ui(i.value,a.value)})(r,e):r instanceof nt?(function(i,a){return a instanceof nt&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&Dx(c,a.filters[d])),!0):!1})(r,e):void me(19439)}function Vx(r,e){const t=r.filters.concat(e);return nt.create(t,r.op)}function Ox(r){return r instanceof qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${jl(t.value)}`})(r):r instanceof nt?(function(t){return t.op.toString()+" {"+t.getFilters().map(Ox).join(" ,")+"}"})(r):"Filter"}class uk extends qe{constructor(e,t,i){super(e,t,i),this.key=ue.fromName(i.referenceValue)}matches(e){const t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class ck extends qe{constructor(e,t){super(e,"in",t),this.keys=Px("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hk extends qe{constructor(e,t){super(e,"not-in",t),this.keys=Px("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Px(r,e){return(e.arrayValue?.values||[]).map((t=>ue.fromName(t.referenceValue)))}class dk extends qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xc(t)&&Yc(t.arrayValue,this.value)}}class Mx extends qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yc(this.value.arrayValue,t)}}class fk extends qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Yc(this.value.arrayValue,t)}}class mk extends qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Yc(this.value.arrayValue,i)))}}class pk{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function My(r,e=null,t=[],i=[],a=null,l=null,c=null){return new pk(r,e,t,i,a,l,c)}function oo(r){const e=he(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Py(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>jl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>jl(i))).join(",")),e.Te=t}return e.Te}function fh(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!lk(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Dx(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!hw(r.startAt,e.startAt)&&hw(r.endAt,e.endAt)}function Hf(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function Gf(r,e){return r.filters.filter((t=>t instanceof qe&&t.field.isEqual(e)))}function dw(r,e,t){let i=bf,a=!0;for(const l of Gf(r,e)){let c=bf,d=!0;switch(l.op){case"<":case"<=":c=ak(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=bf}lw({value:i,inclusive:a},{value:c,inclusive:d})<0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];lw({value:i,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}function fw(r,e,t){let i=zs,a=!0;for(const l of Gf(r,e)){let c=zs,d=!0;switch(l.op){case">=":case">":c=ok(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=zs}uw({value:i,inclusive:a},{value:c,inclusive:d})>0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];uw({value:i,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}class $i{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kx(r,e,t,i,a,l,c,d){return new $i(r,e,t,i,a,l,c,d)}function tu(r){return new $i(r)}function mw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function P_(r){return r.collectionGroup!==null}function Il(r){const e=he(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new it(Et.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Jc(l,i))})),t.has(Et.keyField().canonicalString())||e.Ie.push(new Jc(Et.keyField(),i))}return e.Ie}function vn(r){const e=he(r);return e.Ee||(e.Ee=jx(e,Il(r))),e.Ee}function Lx(r){const e=he(r);return e.de||(e.de=jx(e,r.explicitOrderBy)),e.de}function jx(r,e){if(r.limitType==="F")return My(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Jc(a.field,l)}));const t=r.endAt?new Ws(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Ws(r.startAt.position,r.startAt.inclusive):null;return My(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function ky(r,e){const t=r.filters.concat([e]);return new $i(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Kf(r,e,t){return new $i(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function mh(r,e){return fh(vn(r),vn(e))&&r.limitType===e.limitType}function Ux(r){return`${oo(vn(r))}|lt:${r.limitType}`}function vl(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>Ox(a))).join(", ")}]`),hh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>jl(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>jl(a))).join(",")),`Target(${i})`})(vn(r))}; limitType=${r.limitType})`}function ph(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of Il(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,m){const g=cw(c,d,m);return c.inclusive?g<=0:g<0})(i.startAt,Il(i),a)||i.endAt&&!(function(c,d,m){const g=cw(c,d,m);return c.inclusive?g>=0:g>0})(i.endAt,Il(i),a))})(r,e)}function zx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Bx(r){return(e,t)=>{let i=!1;for(const a of Il(r)){const l=gk(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function gk(r,e,t){const i=r.field.isKeyField()?ue.comparator(e.key,t.key):(function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Js(m,g):me(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return me(19790,{direction:r.dir})}}class Yi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return vx(this.inner)}size(){return this.innerSize}}const yk=new pt(ue.comparator);function On(){return yk}const Fx=new pt(ue.comparator);function Ac(...r){let e=Fx;for(const t of r)e=e.insert(t.key,t);return e}function qx(r){let e=Fx;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function ri(){return Pc()}function Hx(){return Pc()}function Pc(){return new Yi((r=>r.toString()),((r,e)=>r.isEqual(e)))}const _k=new pt(ue.comparator),vk=new it(ue.comparator);function Ce(...r){let e=vk;for(const t of r)e=e.add(t);return e}const Ek=new it(Se);function M_(){return Ek}function k_(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function Gx(r){return{integerValue:""+r}}function Kx(r,e){return ox(e)?Gx(e):k_(r,e)}class wm{constructor(){this._=void 0}}function Tk(r,e,t){return r instanceof zl?(function(a,l){const c={fields:{[bx]:{stringValue:Tx},[Ax]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Em(l)&&(l=Tm(l)),l&&(c.fields[wx]=l),{mapValue:c}})(t,e):r instanceof lo?$x(r,e):r instanceof uo?Yx(r,e):(function(a,l){const c=Qx(a,l),d=pw(c)+pw(a.Ae);return Vy(c)&&Vy(a.Ae)?Gx(d):k_(a.serializer,d)})(r,e)}function bk(r,e,t){return r instanceof lo?$x(r,e):r instanceof uo?Yx(r,e):t}function Qx(r,e){return r instanceof Bl?(function(i){return Vy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class zl extends wm{}class lo extends wm{constructor(e){super(),this.elements=e}}function $x(r,e){const t=Xx(e);for(const i of r.elements)t.some((a=>ui(a,i)))||t.push(i);return{arrayValue:{values:t}}}class uo extends wm{constructor(e){super(),this.elements=e}}function Yx(r,e){let t=Xx(e);for(const i of r.elements)t=t.filter((a=>!ui(a,i)));return{arrayValue:{values:t}}}class Bl extends wm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function pw(r){return wt(r.integerValue||r.doubleValue)}function Xx(r){return Xc(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class gh{constructor(e,t){this.field=e,this.transform=t}}function wk(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof lo&&a instanceof lo||i instanceof uo&&a instanceof uo?Cl(i.elements,a.elements,ui):i instanceof Bl&&a instanceof Bl?ui(i.Ae,a.Ae):i instanceof zl&&a instanceof zl})(r.transform,e.transform)}class Ak{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Am{}function Jx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ru(r.key,At.none()):new nu(r.key,r.data,At.none());{const t=r.data,i=mn.empty();let a=new it(Et.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Xi(r.key,i,new Vn(a.toArray()),At.none())}}function Sk(r,e,t){r instanceof nu?(function(a,l,c){const d=a.value.clone(),m=yw(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Xi?(function(a,l,c){if(!Sf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=yw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(Wx(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Mc(r,e,t,i){return r instanceof nu?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const g=l.value.clone(),_=_w(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,i):r instanceof Xi?(function(l,c,d,m){if(!Sf(l.precondition,c))return d;const g=_w(l.fieldTransforms,m,c),_=c.data;return _.setAll(Wx(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(r,e,t,i):(function(l,c,d){return Sf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function xk(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=Qx(i.transform,a||null);l!=null&&(t===null&&(t=mn.empty()),t.set(i.field,l))}return t||null}function gw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Cl(i,a,((l,c)=>wk(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class nu extends Am{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xi extends Am{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Wx(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function yw(r,e,t){const i=new Map;_e(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,bk(c,d,t[a]))}return i}function _w(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,Tk(l,c,e))}return i}class ru extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L_ extends Am{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class j_{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Sk(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Mc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Mc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Hx();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=Jx(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ce())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,((t,i)=>gw(t,i)))&&Cl(this.baseMutations,e.baseMutations,((t,i)=>gw(t,i)))}}class U_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){_e(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return _k})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new U_(e,t,i,a)}}class z_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Zx{constructor(e,t,i){this.alias=e,this.aggregateType=t,this.fieldPath=i}}class Ik{constructor(e,t){this.count=e,this.unchangedNames=t}}var Qt,Ge;function e1(r){switch(r){case Q.OK:return me(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return me(15467,{code:r})}}function t1(r){if(r===void 0)return Lt("GRPC error has no .code"),Q.UNKNOWN;switch(r){case Qt.OK:return Q.OK;case Qt.CANCELLED:return Q.CANCELLED;case Qt.UNKNOWN:return Q.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return Q.INTERNAL;case Qt.UNAVAILABLE:return Q.UNAVAILABLE;case Qt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Qt.NOT_FOUND:return Q.NOT_FOUND;case Qt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Qt.ABORTED:return Q.ABORTED;case Qt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Qt.DATA_LOSS:return Q.DATA_LOSS;default:return me(39323,{code:r})}}(Ge=Qt||(Qt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";let Ly=null;function n1(){return new TextEncoder}const Rk=new Gs([4294967295,4294967295],0);function vw(r){const e=n1().encode(r),t=new qS;return t.update(e),new Uint8Array(t.digest())}function Ew(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gs([t,i],0),new Gs([a,l],0)]}class B_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Sc(`Invalid padding: ${t}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Gs.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Gs.fromNumber(i)));return a.compare(Rk)===1&&(a=new Gs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=vw(e),[i,a]=Ew(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new B_(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=vw(e),[i,a]=Ew(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,_h.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new yh(Ee.min(),a,new pt(Se),On(),Ce())}}class _h{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new _h(i,t,Ce(),Ce(),Ce())}}class xf{constructor(e,t,i,a){this.be=e,this.removedTargetIds=t,this.key=i,this.De=a}}class r1{constructor(e,t){this.targetId=e,this.Ce=t}}class i1{constructor(e,t,i=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Tw{constructor(){this.ve=0,this.Fe=bw(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),t=Ce(),i=Ce();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:me(38017,{changeType:l})}})),new _h(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=bw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ck{constructor(e){this.Ge=e,this.ze=new Map,this.je=On(),this.Je=sf(),this.He=sf(),this.Ye=new pt(Se)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Hf(l))if(i===0){const c=new ue(l.path);this.et(t,c,vt.newNoDocument(c,Ee.min()))}else _e(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}Ly?.lt((function(_,E,w,R,k){const L={localCacheCount:_,existenceFilterCount:E.count,databaseId:w.database,projectId:w.projectId},j=E.unchangedNames;return j&&(L.bloomFilter={applied:k===0,hashCount:j?.hashCount??0,bitmapLength:j?.bits?.bitmap?.length??0,padding:j?.bits?.padding??0,mightContain:J=>R?.mightContain(J)??!1}),L})(c,e.Ce,this.Ge.ht(),d,m))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ki(i).toUint8Array()}catch(m){if(m instanceof Ex)return Qn("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new B_(c,a,l)}catch(m){return Qn(m instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Hf(d.target)){const m=new ue(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,vt.newNoDocument(m,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Ce();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new yh(e,t,this.Ye,this.je,i);return this.je=On(),this.Je=sf(),this.He=sf(),this.Ye=new pt(Se),a}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Tw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new it(Se),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new it(Se),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||oe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Tw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function sf(){return new pt(ue.comparator)}function bw(){return new pt(ue.comparator)}const Nk={asc:"ASCENDING",desc:"DESCENDING"},Dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vk={and:"AND",or:"OR"};class Ok{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jy(r,e){return r.useProto3Json||hh(e)?e:{value:e}}function Fl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Pk(r,e){return Fl(r,e.toTimestamp())}function jt(r){return _e(!!r,49232),Ee.fromTimestamp((function(t){const i=Gi(t);return new We(i.seconds,i.nanos)})(r))}function F_(r,e){return Uy(r,e).canonicalString()}function Uy(r,e){const t=(function(a){return new Pe(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function a1(r){const e=Pe.fromString(r);return _e(p1(e),10190,{key:e.toString()}),e}function Wc(r,e){return F_(r.databaseId,e.path)}function li(r,e){const t=a1(e);if(t.get(1)!==r.databaseId.projectId)throw new ie(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ie(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ue(u1(t))}function o1(r,e){return F_(r.databaseId,e)}function l1(r){const e=a1(r);return e.length===4?Pe.emptyPath():u1(e)}function zy(r){return new Pe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function u1(r){return _e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ww(r,e,t){return{name:Wc(r,e),fields:t.value.mapValue.fields}}function Sm(r,e,t){const i=li(r,e.name),a=jt(e.updateTime),l=e.createTime?jt(e.createTime):Ee.min(),c=new mn({mapValue:{fields:e.fields}}),d=vt.newFoundDocument(i,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Mk(r,e){return"found"in e?(function(i,a){_e(!!a.found,43571),a.found.name,a.found.updateTime;const l=li(i,a.found.name),c=jt(a.found.updateTime),d=a.found.createTime?jt(a.found.createTime):Ee.min(),m=new mn({mapValue:{fields:a.found.fields}});return vt.newFoundDocument(l,c,d,m)})(r,e):"missing"in e?(function(i,a){_e(!!a.missing,3894),_e(!!a.readTime,22933);const l=li(i,a.missing),c=jt(a.readTime);return vt.newNoDocument(l,c)})(r,e):me(7234,{result:e})}function kk(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:me(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(g,_){return g.useProto3Json?(_e(_===void 0||typeof _=="string",58123),Rt.fromBase64String(_||"")):(_e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Rt.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?Q.UNKNOWN:t1(g.code);return new ie(_,g.message||"")})(c);t=new i1(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=li(r,i.document.name),l=jt(i.document.updateTime),c=i.document.createTime?jt(i.document.createTime):Ee.min(),d=new mn({mapValue:{fields:i.document.fields}}),m=vt.newFoundDocument(a,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new xf(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=li(r,i.document),l=i.readTime?jt(i.readTime):Ee.min(),c=vt.newNoDocument(a,l),d=i.removedTargetIds||[];t=new xf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=li(r,i.document),l=i.removedTargetIds||[];t=new xf([],l,a,null)}else{if(!("filter"in e))return me(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Ik(a,l),d=i.targetId;t=new r1(d,c)}}return t}function Zc(r,e){let t;if(e instanceof nu)t={update:ww(r,e.key,e.value)};else if(e instanceof ru)t={delete:Wc(r,e.key)};else if(e instanceof Xi)t={update:ww(r,e.key,e.data),updateMask:Fk(e.fieldMask)};else{if(!(e instanceof L_))return me(16599,{Vt:e.type});t={verify:Wc(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof zl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof lo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof uo)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bl)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw me(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:Pk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:me(27497)})(r,e.precondition)),t}function By(r,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?At.updateTime(jt(l.updateTime)):l.exists!==void 0?At.exists(l.exists):At.none()})(e.currentDocument):At.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let m=null;if("setToServerValue"in d)_e(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),m=new zl;else if("appendMissingElements"in d){const _=d.appendMissingElements.values||[];m=new lo(_)}else if("removeAllFromArray"in d){const _=d.removeAllFromArray.values||[];m=new uo(_)}else"increment"in d?m=new Bl(c,d.increment):me(16584,{proto:d});const g=Et.fromServerFormat(d.fieldPath);return new gh(g,m)})(r,a))):[];if(e.update){e.update.name;const a=li(r,e.update.name),l=new mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(m){const g=m.fieldPaths||[];return new Vn(g.map((_=>Et.fromServerFormat(_))))})(e.updateMask);return new Xi(a,l,c,t,i)}return new nu(a,l,t,i)}if(e.delete){const a=li(r,e.delete);return new ru(a,t)}if(e.verify){const a=li(r,e.verify);return new L_(a,t)}return me(1463,{proto:e})}function Lk(r,e){return r&&r.length>0?(_e(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?jt(a.updateTime):jt(l);return c.isEqual(Ee.min())&&(c=jt(l)),new Ak(c,a.transformResults||[])})(t,e)))):[]}function c1(r,e){return{documents:[o1(r,e.path)]}}function xm(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=o1(r,a);const l=(function(g){if(g.length!==0)return m1(nt.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((_=>(function(w){return{field:js(w.field),direction:Uk(w.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=jy(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:a}}function h1(r,e,t,i){const{ft:a,parent:l}=xm(r,e),c={},d=[];let m=0;return t.forEach((g=>{const _=i?g.alias:"aggregate_"+m++;c[_]=g.alias,g.aggregateType==="count"?d.push({alias:_,count:{}}):g.aggregateType==="avg"?d.push({alias:_,avg:{field:js(g.fieldPath)}}):g.aggregateType==="sum"&&d.push({alias:_,sum:{field:js(g.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:d,structuredQuery:a.structuredQuery},parent:a.parent},gt:c,parent:l}}function d1(r){let e=l1(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){_e(i===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const w=f1(E);return w instanceof nt&&O_(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((w=>(function(k){return new Jc(El(k.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(w)))})(t.orderBy));let d=null;t.limit&&(d=(function(E){let w;return w=typeof E=="object"?E.value:E,hh(w)?null:w})(t.limit));let m=null;t.startAt&&(m=(function(E){const w=!!E.before,R=E.values||[];return new Ws(R,w)})(t.startAt));let g=null;return t.endAt&&(g=(function(E){const w=!E.before,R=E.values||[];return new Ws(R,w)})(t.endAt)),kx(e,a,c,l,d,"F",m,g)}function jk(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function f1(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=El(t.unaryFilter.field);return qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=El(t.unaryFilter.field);return qe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=El(t.unaryFilter.field);return qe.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=El(t.unaryFilter.field);return qe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return me(61313);default:return me(60726)}})(r):r.fieldFilter!==void 0?(function(t){return qe.create(El(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return me(58110);default:return me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return nt.create(t.compositeFilter.filters.map((i=>f1(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return me(1026)}})(t.compositeFilter.op))})(r):me(30097,{filter:r})}function Uk(r){return Nk[r]}function zk(r){return Dk[r]}function Bk(r){return Vk[r]}function js(r){return{fieldPath:r.canonicalString()}}function El(r){return Et.fromServerFormat(r.fieldPath)}function m1(r){return r instanceof qe?(function(t){if(t.op==="=="){if(ow(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NAN"}};if(aw(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ow(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NOT_NAN"}};if(aw(t.value))return{unaryFilter:{field:js(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(t.field),op:zk(t.op),value:t.value}}})(r):r instanceof nt?(function(t){const i=t.getFilters().map((a=>m1(a)));return i.length===1?i[0]:{compositeFilter:{op:Bk(t.op),filters:i}}})(r):me(54877,{filter:r})}function Fk(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function p1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ji{constructor(e,t,i,a,l=Ee.min(),c=Ee.min(),d=Rt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class g1{constructor(e){this.yt=e}}function qk(r,e){let t;if(e.document)t=Sm(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ue.fromSegments(e.noDocument.path),a=ho(e.noDocument.readTime);t=vt.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return me(56709);{const i=ue.fromSegments(e.unknownDocument.path),a=ho(e.unknownDocument.version);t=vt.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const l=new We(a[0],a[1]);return Ee.fromTimestamp(l)})(e.readTime)),t}function Aw(r,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Qf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(l,c){return{name:Wc(l,c.key),fields:c.data.value.mapValue.fields,updateTime:Fl(l,c.version.toTimestamp()),createTime:Fl(l,c.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:co(e.version)};else{if(!e.isUnknownDocument())return me(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:co(e.version)}}return i}function Qf(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function co(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ho(r){const e=new We(r.seconds,r.nanoseconds);return Ee.fromTimestamp(e)}function Xa(r,e){const t=(e.baseMutations||[]).map((l=>By(r.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const i=e.mutations.map((l=>By(r.yt,l))),a=We.fromMillis(e.localWriteTimeMs);return new j_(e.batchId,a,t,i)}function xc(r){const e=ho(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?ho(r.lastLimboFreeSnapshotVersion):Ee.min();let i;return i=(function(l){return l.documents!==void 0})(r.query)?(function(l){const c=l.documents.length;return _e(c===1,1966,{count:c}),vn(tu(l1(l.documents[0])))})(r.query):(function(l){return vn(d1(l))})(r.query),new ji(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Rt.fromBase64String(r.resumeToken))}function y1(r,e){const t=co(e.snapshotVersion),i=co(e.lastLimboFreeSnapshotVersion);let a;a=Hf(e.target)?c1(r.yt,e.target):xm(r.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:oo(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function Im(r){const e=d1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kf(e,e.limit,"L"):e}function ty(r,e){return new z_(e.largestBatchId,By(r.yt,e.overlayMutation))}function Sw(r,e){const t=e.path.lastSegment();return[r,_n(e.path.popLast()),t]}function xw(r,e,t,i){return{indexId:r,uid:e,sequenceNumber:t,readTime:co(i.readTime),documentKey:_n(i.documentKey.path),largestBatchId:i.largestBatchId}}class Hk{getBundleMetadata(e,t){return Iw(e).get(t).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:ho(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(e,t){return Iw(e).put((function(a){return{bundleId:a.id,createTime:co(jt(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return Rw(e).get(t).next((i=>{if(i)return(function(l){return{name:l.name,query:Im(l.bundledQuery),readTime:ho(l.readTime)}})(i)}))}saveNamedQuery(e,t){return Rw(e).put((function(a){return{name:a.name,readTime:co(jt(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function Iw(r){return Zt(r,ym)}function Rw(r){return Zt(r,_m)}class Rm{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new Rm(e,i)}getOverlay(e,t){return gc(e).get(Sw(this.userId,t)).next((i=>i?ty(this.serializer,i):null))}getOverlays(e,t){const i=ri();return B.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((l,c)=>{const d=new z_(t,c);a.push(this.St(e,d))})),B.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((c=>a.add(_n(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(gc(e).Z(Cy,d))})),B.waitFor(l)}getOverlaysForCollection(e,t,i){const a=ri(),l=_n(t),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return gc(e).J(Cy,c).next((d=>{for(const m of d){const g=ty(this.serializer,m);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const l=ri();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gc(e).ee({index:fx,range:d},((m,g,_)=>{const E=ty(this.serializer,g);l.size()<a||E.largestBatchId===c?(l.set(E.getKey(),E),c=E.largestBatchId):_.done()})).next((()=>l))}St(e,t){return gc(e).put((function(a,l,c){const[d,m,g]=Sw(l,c.mutation.key);return{userId:l,collectionPath:m,documentId:g,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Zc(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function gc(r){return Zt(r,vm)}class Gk{bt(e){return Zt(e,C_)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const i=t?.value;return i?Rt.fromUint8Array(i):Rt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Ja{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(wt(e.integerValue));else if("doubleValue"in e){const i=wt(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),qc(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Gi(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ki(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?xx(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):bm(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):me(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const a=Ll,l=i[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(wt(l)),this.Ot(a,t),this.Ct(i[a],t)}Qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ue.fromName(e).path.forEach((i=>{this.Ft(t,60),this.Ut(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ja.Kt=new Ja;const dl=255;function Kk(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function Cw(r){const e=64-(function(i){let a=0;for(let l=0;l<8;++l){const c=Kk(255&i[l]);if(a+=c,c!==8)break}return a})(r);return Math.ceil(e/8)}class Qk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Ht()}Yt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const a=t.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Ht()}Xt(e){const t=this.en(e),i=Cw(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=Cw(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(dl),this.sn(255)}_n(){this.an(dl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===dl?(this.sn(dl),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===dl?(this.an(dl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class $k{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class Yk{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class yc{constructor(){this.cn=new Qk,this.ln=new $k(this.cn),this.hn=new Yk(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}class Wa{constructor(e,t,i,a){this.Tn=e,this.In=t,this.En=i,this.dn=a}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.dn,0),t!==e?i.set([0],this.dn.length):++i[i.length-1],new Wa(this.Tn,this.In,this.En,i)}Rn(e,t,i){return{indexId:this.Tn,uid:e,arrayValue:If(this.En),directionalValue:If(this.dn),orderedDocumentKey:If(t),documentKey:i.path.toArray()}}Vn(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ds(r,e){let t=r.Tn-e.Tn;return t!==0?t:(t=Nw(r.En,e.En),t!==0?t:(t=Nw(r.dn,e.dn),t!==0?t:ue.comparator(r.In,e.In)))}function Nw(r,e){for(let t=0;t<r.length&&t<e.length;++t){const i=r[t]-e[t];if(i!==0)return i}return r.length-e.length}function If(r){return nS()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(r):r}function Dw(r){return typeof r!="string"?r:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(r)}class Vw{constructor(e){this.mn=new it(((t,i)=>Et.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const i=t;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(e){if(_e(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=xy(e);if(t!==void 0&&!this.wn(t))return!1;const i=Qa(e);let a=new Set,l=0,c=0;for(;l<i.length&&this.wn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.mn.size>0){const d=this.mn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const m=i[l];if(!this.Sn(d,m)||!this.bn(this.fn[c++],m))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.fn.length||!this.bn(this.fn[c++],d))return!1}return!0}Dn(){if(this.pn)return null;let e=new it(Et.comparator);const t=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new eo(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new eo(i.field,0))}for(const i of this.fn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new eo(i.field,i.dir==="asc"?0:1)));return new Dl(Dl.UNKNOWN_ID,this.collectionId,t,Vl.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function _1(r){if(_e(r instanceof qe||r instanceof nt,20012),r instanceof qe){if(r instanceof Mx){const t=r.value.arrayValue?.values?.map((i=>qe.create(r.field,"==",i)))||[];return nt.create(t,"or")}return r}const e=r.filters.map((t=>_1(t)));return nt.create(e,r.op)}function Xk(r){if(r.getFilters().length===0)return[];const e=Hy(_1(r));return _e(v1(e),7391),Fy(e)||qy(e)?[e]:e.getFilters()}function Fy(r){return r instanceof qe}function qy(r){return r instanceof nt&&O_(r)}function v1(r){return Fy(r)||qy(r)||(function(t){if(t instanceof nt&&Oy(t)){for(const i of t.getFilters())if(!Fy(i)&&!qy(i))return!1;return!0}return!1})(r)}function Hy(r){if(_e(r instanceof qe||r instanceof nt,34018),r instanceof qe)return r;if(r.filters.length===1)return Hy(r.filters[0]);const e=r.filters.map((i=>Hy(i)));let t=nt.create(e,r.op);return t=$f(t),v1(t)?t:(_e(t instanceof nt,64498),_e(Ul(t),40251),_e(t.filters.length>1,57927),t.filters.reduce(((i,a)=>q_(i,a))))}function q_(r,e){let t;return _e(r instanceof qe||r instanceof nt,38388),_e(e instanceof qe||e instanceof nt,25473),t=r instanceof qe?e instanceof qe?(function(a,l){return nt.create([a,l],"and")})(r,e):Ow(r,e):e instanceof qe?Ow(e,r):(function(a,l){if(_e(a.filters.length>0&&l.filters.length>0,48005),Ul(a)&&Ul(l))return Vx(a,l.getFilters());const c=Oy(a)?a:l,d=Oy(a)?l:a,m=c.filters.map((g=>q_(g,d)));return nt.create(m,"or")})(r,e),$f(t)}function Ow(r,e){if(Ul(e))return Vx(e,r.getFilters());{const t=e.filters.map((i=>q_(r,i)));return nt.create(t,"or")}}function $f(r){if(_e(r instanceof qe||r instanceof nt,11850),r instanceof qe)return r;const e=r.getFilters();if(e.length===1)return $f(e[0]);if(Nx(r))return r;const t=e.map((a=>$f(a))),i=[];return t.forEach((a=>{a instanceof qe?i.push(a):a instanceof nt&&(a.op===r.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:nt.create(i,r.op)}class Jk{constructor(){this.Cn=new H_}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve($n.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve($n.min())}updateCollectionGroup(e,t,i){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class H_{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new it(Pe.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new it(Pe.comparator)).toArray()}}const Pw="IndexedDbIndexManager",af=new Uint8Array(0);class Wk{constructor(e,t){this.databaseId=t,this.vn=new H_,this.Fn=new Yi((i=>oo(i)),((i,a)=>fh(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const l={collectionId:i,parent:_n(a)};return Mw(e).put(l)}return B.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[WS(t),""],!1,!0);return Mw(e).J(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;i.push(ni(c.parent))}return i}))}addFieldIndex(e,t){const i=_c(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(t);delete a.indexId;const l=i.add(a);if(t.indexState){const c=ml(e);return l.next((d=>{c.put(xw(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const i=_c(e),a=ml(e),l=fl(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=_c(e),i=fl(e),a=ml(e);return t.Z().next((()=>i.Z())).next((()=>a.Z()))}createTargetIndexes(e,t){return B.forEach(this.Mn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const l=new Vw(i).Dn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const i=fl(e);let a=!0;const l=new Map;return B.forEach(this.Mn(t),(c=>this.xn(e,c).next((d=>{a&&(a=!!d),l.set(c,d)})))).next((()=>{if(a){let c=Ce();const d=[];return B.forEach(l,((m,g)=>{oe(Pw,`Using index ${(function(G){return`id=${G.indexId}|cg=${G.collectionGroup}|f=${G.fields.map((W=>`${W.fieldPath}:${W.kind}`)).join(",")}`})(m)} to execute ${oo(t)}`);const _=(function(G,W){const le=xy(W);if(le===void 0)return null;for(const pe of Gf(G,le.fieldPath))switch(pe.op){case"array-contains-any":return pe.value.arrayValue.values||[];case"array-contains":return[pe.value]}return null})(g,m),E=(function(G,W){const le=new Map;for(const pe of Qa(W))for(const C of Gf(G,pe.fieldPath))switch(C.op){case"==":case"in":le.set(pe.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return le.set(pe.fieldPath.canonicalString(),C.value),Array.from(le.values())}return null})(g,m),w=(function(G,W){const le=[];let pe=!0;for(const C of Qa(W)){const I=C.kind===0?dw(G,C.fieldPath,G.startAt):fw(G,C.fieldPath,G.startAt);le.push(I.value),pe&&(pe=I.inclusive)}return new Ws(le,pe)})(g,m),R=(function(G,W){const le=[];let pe=!0;for(const C of Qa(W)){const I=C.kind===0?fw(G,C.fieldPath,G.endAt):dw(G,C.fieldPath,G.endAt);le.push(I.value),pe&&(pe=I.inclusive)}return new Ws(le,pe)})(g,m),k=this.On(m,g,w),L=this.On(m,g,R),j=this.Nn(m,g,E),J=this.Bn(m.indexId,_,k,w.inclusive,L,R.inclusive,j);return B.forEach(J,(ne=>i.Y(ne,t.limit).next((G=>{G.forEach((W=>{const le=ue.fromSegments(W.documentKey);c.has(le)||(c=c.add(le),d.push(le))}))}))))})).next((()=>d))}return B.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=Xk(nt.create(e.filters,"and")).map((i=>My(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,i,a,l,c,d){const m=(t!=null?t.length:1)*Math.max(i.length,l.length),g=m/(t!=null?t.length:1),_=[];for(let E=0;E<m;++E){const w=t?this.Ln(t[E/g]):af,R=this.kn(e,w,i[E%g],a),k=this.qn(e,w,l[E%g],c),L=d.map((j=>this.kn(e,w,j,!0)));_.push(...this.createRange(R,k,L))}return _}kn(e,t,i,a){const l=new Wa(e,ue.empty(),t,i);return a?l:l.An()}qn(e,t,i,a){const l=new Wa(e,ue.empty(),t,i);return a?l.An():l}xn(e,t){const i=new Vw(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const d of l)i.yn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let i=2;const a=this.Mn(t);return B.forEach(a,(l=>this.xn(e,l).next((c=>{c?i!==0&&c.fields.length<(function(m){let g=new it(Et.comparator),_=!1;for(const E of m.filters)for(const w of E.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?_=!0:g=g.add(w.field));for(const E of m.orderBy)E.field.isKeyField()||(g=g.add(E.field));return g.size+(_?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&i===2?1:i))}Qn(e,t){const i=new yc;for(const a of Qa(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=i.Pn(a.kind);Ja.Kt.Dt(l,c)}return i.un()}Ln(e){const t=new yc;return Ja.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const i=new yc;return Ja.Kt.Dt(ao(this.databaseId,t),i.Pn((function(l){const c=Qa(l);return c.length===0?0:c[c.length-1].kind})(e))),i.un()}Nn(e,t,i){if(i===null)return[];let a=[];a.push(new yc);let l=0;for(const c of Qa(e)){const d=i[l++];for(const m of a)if(this.Un(t,c.fieldPath)&&Xc(d))a=this.Kn(a,c,d);else{const g=m.Pn(c.kind);Ja.Kt.Dt(d,g)}}return this.Wn(a)}On(e,t,i){return this.Nn(e,t,i.position)}Wn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Kn(e,t,i){const a=[...e],l=[];for(const c of i.arrayValue.values||[])for(const d of a){const m=new yc;m.seed(d.un()),Ja.Kt.Dt(c,m.Pn(t.kind)),l.push(m)}return l}Un(e,t){return!!e.filters.find((i=>i instanceof qe&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=_c(e),a=ml(e);return(t?i.J(Ry,IDBKeyRange.bound(t,t)):i.J()).next((l=>{const c=[];return B.forEach(l,(d=>a.get([d.indexId,this.uid]).next((m=>{c.push((function(_,E){const w=E?new Vl(E.sequenceNumber,new $n(ho(E.readTime),new ue(ni(E.documentKey)),E.largestBatchId)):Vl.empty(),R=_.fields.map((([k,L])=>new eo(Et.fromServerFormat(k),L)));return new Dl(_.indexId,_.collectionGroup,R,w)})(d,m))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Se(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=_c(e),l=ml(e);return this.Gn(e).next((c=>a.J(Ry,IDBKeyRange.bound(t,t)).next((d=>B.forEach(d,(m=>l.put(xw(m.indexId,this.uid,c,i))))))))}updateIndexEntries(e,t){const i=new Map;return B.forEach(t,((a,l)=>{const c=i.get(a.collectionGroup);return(c?B.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(i.set(a.collectionGroup,d),B.forEach(d,(m=>this.zn(e,a,m).next((g=>{const _=this.jn(l,m);return g.isEqual(_)?B.resolve():this.Jn(e,l,m,g,_)})))))))}))}Hn(e,t,i,a){return fl(e).put(a.Rn(this.uid,this.$n(i,t.key),t.key))}Yn(e,t,i,a){return fl(e).delete(a.Vn(this.uid,this.$n(i,t.key),t.key))}zn(e,t,i){const a=fl(e);let l=new it(Ds);return a.ee({index:dx,range:IDBKeyRange.only([i.indexId,this.uid,If(this.$n(i,t))])},((c,d)=>{l=l.add(new Wa(i.indexId,t,Dw(d.arrayValue),Dw(d.directionalValue)))})).next((()=>l))}jn(e,t){let i=new it(Ds);const a=this.Qn(t,e);if(a==null)return i;const l=xy(t);if(l!=null){const c=e.data.field(l.fieldPath);if(Xc(c))for(const d of c.arrayValue.values||[])i=i.add(new Wa(t.indexId,e.key,this.Ln(d),a))}else i=i.add(new Wa(t.indexId,e.key,af,a));return i}Jn(e,t,i,a,l){oe(Pw,"Updating index entries for document '%s'",t.key);const c=[];return(function(m,g,_,E,w){const R=m.getIterator(),k=g.getIterator();let L=hl(R),j=hl(k);for(;L||j;){let J=!1,ne=!1;if(L&&j){const G=_(L,j);G<0?ne=!0:G>0&&(J=!0)}else L!=null?ne=!0:J=!0;J?(E(j),j=hl(k)):ne?(w(L),L=hl(R)):(L=hl(R),j=hl(k))}})(a,l,Ds,(d=>{c.push(this.Hn(e,t,i,d))}),(d=>{c.push(this.Yn(e,t,i,d))})),B.waitFor(c)}Gn(e){let t=1;return ml(e).ee({index:hx,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((c,d)=>Ds(c,d))).filter(((c,d,m)=>!d||Ds(c,m[d-1])!==0));const a=[];a.push(e);for(const c of i){const d=Ds(c,e),m=Ds(c,t);if(d===0)a[0]=e.An();else if(d>0&&m<0)a.push(c),a.push(c.An());else if(m>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Zn(a[c],a[c+1]))return[];const d=a[c].Vn(this.uid,af,ue.empty()),m=a[c+1].Vn(this.uid,af,ue.empty());l.push(IDBKeyRange.bound(d,m))}return l}Zn(e,t){return Ds(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kw)}getMinOffset(e,t){return B.mapArray(this.Mn(t),(i=>this.xn(e,i).next((a=>a||me(44426))))).next(kw)}}function Mw(r){return Zt(r,Kc)}function fl(r){return Zt(r,Vc)}function _c(r){return Zt(r,R_)}function ml(r){return Zt(r,Dc)}function kw(r){_e(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<r.length;i++){const a=r[i].indexState.offset;S_(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new $n(e.readTime,e.documentKey,t)}const Lw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},E1=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function T1(r,e,t){const i=r.store(Ar),a=r.store(Ol),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const m=i.ee({range:c},((_,E,w)=>(d++,w.delete())));l.push(m.next((()=>{_e(d===1,47070,{batchId:t.batchId})})));const g=[];for(const _ of t.mutations){const E=lx(e,_.key.path,t.batchId);l.push(a.delete(E)),g.push(_.key)}return B.waitFor(l).next((()=>g))}function Yf(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw me(14731);e=r.noDocument}return JSON.stringify(e).length}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(E1,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Cm{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Xn={}}static wt(e,t,i,a){_e(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Cm(l,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).ee({index:Za,range:i},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const l=Tl(e),c=Vs(e);return c.add({}).next((d=>{_e(typeof d=="number",49019);const m=new j_(d,t,i,a),g=(function(R,k,L){const j=L.baseMutations.map((ne=>Zc(R.yt,ne))),J=L.mutations.map((ne=>Zc(R.yt,ne)));return{userId:k,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:j,mutations:J}})(this.serializer,this.userId,m),_=[];let E=new it(((w,R)=>Se(w.canonicalString(),R.canonicalString())));for(const w of a){const R=lx(this.userId,w.key.path,d);E=E.add(w.key.path.popLast()),_.push(c.put(g)),_.push(l.put(R,OM))}return E.forEach((w=>{_.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[d]=m.keys()})),B.waitFor(_).next((()=>m))}))}lookupMutationBatch(e,t){return Vs(e).get(t).next((i=>i?(_e(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),Xa(this.serializer,i)):null))}er(e,t){return this.Xn[t]?B.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Xn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Vs(e).ee({index:Za,range:a},((c,d,m)=>{d.userId===this.userId&&(_e(d.batchId>=i,47524,{tr:i}),l=Xa(this.serializer,d)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Ks;return Vs(e).ee({index:Za,range:t,reverse:!0},((a,l,c)=>{i=l.batchId,c.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ks],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).J(Za,t).next((i=>i.map((a=>Xa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Ef(this.userId,t.path),a=IDBKeyRange.lowerBound(i),l=[];return Tl(e).ee({range:a},((c,d,m)=>{const[g,_,E]=c,w=ni(_);if(g===this.userId&&t.path.isEqual(w))return Vs(e).get(E).next((R=>{if(!R)throw me(61480,{nr:c,batchId:E});_e(R.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:R.userId,batchId:E}),l.push(Xa(this.serializer,R))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new it(Se);const a=[];return t.forEach((l=>{const c=Ef(this.userId,l.path),d=IDBKeyRange.lowerBound(c),m=Tl(e).ee({range:d},((g,_,E)=>{const[w,R,k]=g,L=ni(R);w===this.userId&&l.path.isEqual(L)?i=i.add(k):E.done()}));a.push(m)})),B.waitFor(a).next((()=>this.rr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,l=Ef(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new it(Se);return Tl(e).ee({range:c},((m,g,_)=>{const[E,w,R]=m,k=ni(w);E===this.userId&&i.isPrefixOf(k)?k.length===a&&(d=d.add(R)):_.done()})).next((()=>this.rr(e,d)))}rr(e,t){const i=[],a=[];return t.forEach((l=>{a.push(Vs(e).get(l).next((c=>{if(c===null)throw me(35274,{batchId:l});_e(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(Xa(this.serializer,c))})))})),B.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return T1(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),B.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return B.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Tl(e).ee({range:i},((l,c,d)=>{if(l[0]===this.userId){const m=ni(l[1]);a.push(m)}else d.done()})).next((()=>{_e(a.length===0,56720,{sr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return b1(e,this.userId,t)}_r(e){return w1(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ks,lastStreamToken:""}))}}function b1(r,e,t){const i=Ef(e,t.path),a=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return Tl(r).ee({range:l,X:!0},((d,m,g)=>{const[_,E,w]=d;_===e&&E===a&&(c=!0),g.done()})).next((()=>c))}function Vs(r){return Zt(r,Ar)}function Tl(r){return Zt(r,Ol)}function w1(r){return Zt(r,Hc)}class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}class Zk{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const i=new fo(t.highestTargetId);return t.highestTargetId=i.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Ee.fromTimestamp(new We(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.lr(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.hr(e,a))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((i=>(i.targetCount+=1,this.Tr(t,i),this.hr(e,i))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>pl(e).delete(t.targetId))).next((()=>this.lr(e))).next((i=>(_e(i.targetCount>0,8065),i.targetCount-=1,this.hr(e,i))))}removeTargets(e,t,i){let a=0;const l=[];return pl(e).ee(((c,d)=>{const m=xc(d);m.sequenceNumber<=t&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(e,m)))})).next((()=>B.waitFor(l))).next((()=>a))}forEachTarget(e,t){return pl(e).ee(((i,a)=>{const l=xc(a);t(l)}))}lr(e){return jw(e).get(qf).next((t=>(_e(t!==null,2888),t)))}hr(e,t){return jw(e).put(qf,t)}Pr(e,t){return pl(e).put(y1(this.serializer,t))}Tr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const i=oo(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return pl(e).ee({range:a,index:cx},((c,d,m)=>{const g=xc(d);fh(t,g.target)&&(l=g,m.done())})).next((()=>l))}addMatchingKeys(e,t,i){const a=[],l=Us(e);return t.forEach((c=>{const d=_n(c.path);a.push(l.put({targetId:i,path:d})),a.push(this.referenceDelegate.addReference(e,i,c))})),B.waitFor(a)}removeMatchingKeys(e,t,i){const a=Us(e);return B.forEach(t,(l=>{const c=_n(l.path);return B.waitFor([a.delete([i,c]),this.referenceDelegate.removeReference(e,i,l)])}))}removeMatchingKeysForTargetId(e,t){const i=Us(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Us(e);let l=Ce();return a.ee({range:i,X:!0},((c,d,m)=>{const g=ni(c[1]),_=new ue(g);l=l.add(_)})).next((()=>l))}containsKey(e,t){const i=_n(t.path),a=IDBKeyRange.bound([i],[WS(i)],!1,!0);let l=0;return Us(e).ee({index:I_,X:!0,range:a},(([c,d],m,g)=>{c!==0&&(l++,g.done())})).next((()=>l>0))}At(e,t){return pl(e).get(t).next((i=>i?xc(i):null))}}function pl(r){return Zt(r,Pl)}function jw(r){return Zt(r,to)}function Us(r){return Zt(r,Ml)}const Uw="LruGarbageCollector",A1=1048576;function zw([r,e],[t,i]){const a=Se(r,t);return a===0?Se(e,i):a}class e4{constructor(e){this.Ir=e,this.buffer=new it(zw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();zw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class S1{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Uw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){aa(t)?oe(Uw,"Ignoring IndexedDB error during garbage collection: ",t):await sa(t)}await this.Vr(3e5)}))}}class t4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return B.resolve(Dn.ce);const i=new e4(t);return this.mr.forEachTarget(e,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Lw)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,a,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,c=Date.now(),this.nthSequenceNumber(e,a)))).next((E=>(i=E,d=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,m=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(g=Date.now(),_l()<=Fe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${E} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E}))))}}function x1(r,e){return new t4(r,e)}class n4{constructor(e,t){this.db=e,this.garbageCollector=x1(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((i,a)=>t(a)))}addReference(e,t,i){return of(e,i)}removeReference(e,t,i){return of(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return of(e,t)}br(e,t){return(function(a,l){let c=!1;return w1(a).te((d=>b1(a,d,l).next((m=>(m&&(c=!0),B.resolve(!m)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Sr(e,((c,d)=>{if(d<=t){const m=this.br(e,c).next((g=>{if(!g)return l++,i.getEntry(e,c).next((()=>(i.removeEntry(c,Ee.min()),Us(e).delete((function(E){return[0,_n(E.path)]})(c)))))}));a.push(m)}})).next((()=>B.waitFor(a))).next((()=>i.apply(e))).next((()=>l))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return of(e,t)}Sr(e,t){const i=Us(e);let a,l=Dn.ce;return i.ee({index:I_},(([c,d],{path:m,sequenceNumber:g})=>{c===0?(l!==Dn.ce&&t(new ue(ni(a)),l),l=g,a=m):l=Dn.ce})).next((()=>{l!==Dn.ce&&t(new ue(ni(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function of(r,e){return Us(r).put((function(i,a){return{targetId:0,path:_n(i.path),sequenceNumber:a}})(e,r.currentSequenceNumber))}class I1{constructor(){this.changes=new Yi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?B.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r4{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ga(e).put(i)}removeEntry(e,t,i){return Ga(e).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Qf(c),d[d.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.Dr(e,i))))}getEntry(e,t){let i=vt.newInvalidDocument(t);return Ga(e).ee({index:Tf,range:IDBKeyRange.only(vc(t))},((a,l)=>{i=this.Cr(t,l)})).next((()=>i))}vr(e,t){let i={size:0,document:vt.newInvalidDocument(t)};return Ga(e).ee({index:Tf,range:IDBKeyRange.only(vc(t))},((a,l)=>{i={document:this.Cr(t,l),size:Yf(l)}})).next((()=>i))}getEntries(e,t){let i=On();return this.Fr(e,t,((a,l)=>{const c=this.Cr(a,l);i=i.insert(a,c)})).next((()=>i))}Mr(e,t){let i=On(),a=new pt(ue.comparator);return this.Fr(e,t,((l,c)=>{const d=this.Cr(l,c);i=i.insert(l,d),a=a.insert(l,Yf(c))})).next((()=>({documents:i,Or:a})))}Fr(e,t,i){if(t.isEmpty())return B.resolve();let a=new it(qw);t.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(vc(a.first()),vc(a.last())),c=a.getIterator();let d=c.getNext();return Ga(e).ee({index:Tf,range:l},((m,g,_)=>{const E=ue.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;d&&qw(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,g),d=c.hasNext()?c.getNext():null),d?_.j(vc(d)):_.done()})).next((()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),Qf(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ga(e).J(IDBKeyRange.bound(d,m,!0)).next((g=>{l?.incrementDocumentReadCount(g.length);let _=On();for(const E of g){const w=this.Cr(ue.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);w.isFoundDocument()&&(ph(t,w)||a.has(w.key))&&(_=_.insert(w.key,w))}return _}))}getAllFromCollectionGroup(e,t,i,a){let l=On();const c=Fw(t,i),d=Fw(t,$n.max());return Ga(e).ee({index:ux,range:IDBKeyRange.bound(c,d,!0)},((m,g,_)=>{const E=this.Cr(ue.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(E.key,E),l.size===a&&_.done()})).next((()=>l))}newChangeBuffer(e){return new i4(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return Bw(e).get(Iy).next((t=>(_e(!!t,20021),t)))}Dr(e,t){return Bw(e).put(Iy,t)}Cr(e,t){if(t){const i=qk(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(Ee.min())))return i}return vt.newInvalidDocument(e)}}function R1(r){return new r4(r)}class i4 extends I1{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Yi((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new it(((l,c)=>Se(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Br.get(l);if(t.push(this.Nr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const m=Aw(this.Nr.serializer,c);a=a.add(l.path.popLast());const g=Yf(m);i+=g-d.size,t.push(this.Nr.addEntry(e,l,m))}else if(i-=d.size,this.trackRemovals){const m=Aw(this.Nr.serializer,c.convertToNoDocument(Ee.min()));t.push(this.Nr.addEntry(e,l,m))}})),a.forEach((l=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Nr.updateMetadata(e,i)),B.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((i=>(this.Br.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:i,Or:a})=>(a.forEach(((l,c)=>{this.Br.set(l,{size:c,readTime:i.get(l).readTime})})),i)))}}function Bw(r){return Zt(r,Gc)}function Ga(r){return Zt(r,Ff)}function vc(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Fw(r,e){const t=e.documentKey.path.toArray();return[r,Qf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function qw(r,e){const t=r.path.toArray(),i=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(a=Se(t[l],i[l]),a)return a;return a=Se(t.length,i.length),a||(a=Se(t[t.length-2],i[i.length-2]),a||Se(t[t.length-1],i[i.length-1]))}class s4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class C1{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&Mc(i.mutation,a,Vn.empty(),We.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ce()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ce()){const a=ri();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Ac();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=ri();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ce())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=On();const c=Pc(),d=(function(){return Pc()})();return t.forEach(((m,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof Xi)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Mc(_.mutation,g,_.mutation.getFieldMask(),We.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((g,_)=>c.set(g,_))),t.forEach(((g,_)=>d.set(g,new s4(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=Pc();let a=new pt(((c,d)=>c-d)),l=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((m=>{const g=t.get(m);if(g===null)return;let _=i.get(m)||Vn.empty();_=d.applyToLocalView(g,_),i.set(m,_);const E=(a.get(d.batchId)||Ce()).add(m);a=a.insert(d.batchId,E)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,E=Hx();_.forEach((w=>{if(!l.has(w)){const R=Jx(t.get(w),i.get(w));R!==null&&E.set(w,R),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,E))}return B.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return(function(c){return ue.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):P_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):B.resolve(ri());let d=Nl,m=l;return c.next((g=>B.forEach(g,((_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),l.get(_)?B.resolve():this.remoteDocumentCache.getEntry(e,_).next((w=>{m=m.insert(_,w)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,m,g,Ce()))).next((_=>({batchId:d,changes:qx(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next((i=>{let a=Ac();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Ac();return this.indexManager.getCollectionParents(e,l).next((d=>B.forEach(d,(m=>{const g=(function(E,w){return new $i(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next((_=>{_.forEach(((E,w)=>{c=c.insert(E,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,vt.newInvalidDocument(_)))}));let d=Ac();return c.forEach(((m,g)=>{const _=l.get(m);_!==void 0&&Mc(_.mutation,g,Vn.empty(),We.now()),ph(t,g)&&(d=d.insert(m,g))})),d}))}}class a4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return B.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:jt(a.createTime)}})(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:Im(a.bundledQuery),readTime:jt(a.readTime)}})(t)),B.resolve()}}class o4{constructor(){this.overlays=new pt(ue.comparator),this.qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ri();return B.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.St(e,t,l)})),B.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),B.resolve()}getOverlaysForCollection(e,t,i){const a=ri(),l=t.length+1,c=new ue(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return B.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new pt(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=ri(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ri(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=a)););return B.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new z_(t,i));let l=this.qr.get(t);l===void 0&&(l=Ce(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}class l4{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}class G_{constructor(){this.Qr=new it(rn.$r),this.Ur=new it(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new rn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new rn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new ue(new Pe([])),i=new rn(t,e),a=new rn(t,e+1),l=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ue(new Pe([])),i=new rn(t,e),a=new rn(t,e+1);let l=Ce();return this.Ur.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new rn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ue.comparator(e.key,t.key)||Se(e.Yr,t.Yr)}static Kr(e,t){return Se(e.Yr,t.Yr)||ue.comparator(e.key,t.key)}}class u4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new it(rn.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new j_(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new rn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return B.resolve(c)}lookupMutationBatch(e,t){return B.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.ei(i),l=a<0?0:a;return B.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ks:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rn(t,0),a=new rn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),B.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new it(Se);return t.forEach((a=>{const l=new rn(a,0),c=new rn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),B.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ue.isDocumentKey(l)||(l=l.child(""));const c=new rn(new ue(l),0);let d=new it(Se);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Yr)),!0)}),c),B.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const a=this.Xr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){_e(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return B.forEach(t.mutations,(a=>{const l=new rn(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new rn(t,0),a=this.Zr.firstAfterOrEqual(i);return B.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class c4{constructor(e){this.ri=e,this.docs=(function(){return new pt(ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return B.resolve(i?i.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let i=On();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():vt.newInvalidDocument(a))})),B.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=On();const c=t.path,d=new ue(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||S_(rx(_),i)<=0||(a.has(_.key)||ph(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return B.resolve(l)}getAllFromCollectionGroup(e,t,i,a){me(9500)}ii(e,t){return B.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new h4(this)}getSize(e){return B.resolve(this.size)}}class h4 extends I1{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(i)})),B.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class d4{constructor(e){this.persistence=e,this.si=new Yi((t=>oo(t)),fh),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new G_,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,t){return this.si.forEach(((i,a)=>t(a))),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),B.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new fo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Pr(t),B.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),B.waitFor(l).next((()=>a))}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return B.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),B.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),B.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return B.resolve(i)}containsKey(e,t){return B.resolve(this._i.containsKey(t))}}class K_{constructor(e,t){this.ui={},this.overlays={},this.ci=new Dn(0),this.li=!1,this.li=!0,this.hi=new l4,this.referenceDelegate=e(this),this.Pi=new d4(this),this.indexManager=new Jk,this.remoteDocumentCache=(function(a){return new c4(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new g1(t),this.Ii=new a4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new o4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new u4(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){oe("MemoryPersistence","Starting transaction:",e);const a=new f4(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return B.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class f4 extends sx{constructor(e){super(),this.currentSequenceNumber=e}}class Nm{constructor(e){this.persistence=e,this.Ri=new G_,this.Vi=null}static mi(e){return new Nm(e)}get fi(){if(this.Vi)return this.Vi;throw me(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),B.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,(i=>{const a=ue.fromPath(i);return this.gi(e,a).next((l=>{l||t.removeEntry(a,Ee.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return B.or([()=>B.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xf{constructor(e,t){this.persistence=e,this.pi=new Yi((i=>_n(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=x1(this,t)}static mi(e,t){return new Xf(e,t)}Ei(){}di(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return B.forEach(this.pi,((i,a)=>this.br(e,i,a).next((l=>l?B.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Ee.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),B.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),B.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wf(e.data.value)),t}br(e,t,i){return B.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return B.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class m4{constructor(e){this.serializer=e}k(e,t,i,a){const l=new gm("createOrUpgrade",t);i<1&&a>=1&&((function(m){m.createObjectStore(dh)})(e),(function(m){m.createObjectStore(Hc,{keyPath:VM}),m.createObjectStore(Ar,{keyPath:ew,autoIncrement:!0}).createIndex(Za,tw,{unique:!0}),m.createObjectStore(Ol)})(e),Hw(e),(function(m){m.createObjectStore($a)})(e));let c=B.resolve();return i<3&&a>=3&&(i!==0&&((function(m){m.deleteObjectStore(Ml),m.deleteObjectStore(Pl),m.deleteObjectStore(to)})(e),Hw(e)),c=c.next((()=>(function(m){const g=m.store(to),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ee.min().toTimestamp(),targetCount:0};return g.put(qf,_)})(l)))),i<4&&a>=4&&(i!==0&&(c=c.next((()=>(function(m,g){return g.store(Ar).J().next((E=>{m.deleteObjectStore(Ar),m.createObjectStore(Ar,{keyPath:ew,autoIncrement:!0}).createIndex(Za,tw,{unique:!0});const w=g.store(Ar),R=E.map((k=>w.put(k)));return B.waitFor(R)}))})(e,l)))),c=c.next((()=>{(function(m){m.createObjectStore(kl,{keyPath:BM})})(e)}))),i<5&&a>=5&&(c=c.next((()=>this.yi(l)))),i<6&&a>=6&&(c=c.next((()=>((function(m){m.createObjectStore(Gc)})(e),this.wi(l))))),i<7&&a>=7&&(c=c.next((()=>this.Si(l)))),i<8&&a>=8&&(c=c.next((()=>this.bi(e,l)))),i<9&&a>=9&&(c=c.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(c=c.next((()=>this.Di(l)))),i<11&&a>=11&&(c=c.next((()=>{(function(m){m.createObjectStore(ym,{keyPath:FM})})(e),(function(m){m.createObjectStore(_m,{keyPath:qM})})(e)}))),i<12&&a>=12&&(c=c.next((()=>{(function(m){const g=m.createObjectStore(vm,{keyPath:XM});g.createIndex(Cy,JM,{unique:!1}),g.createIndex(fx,WM,{unique:!1})})(e)}))),i<13&&a>=13&&(c=c.next((()=>(function(m){const g=m.createObjectStore(Ff,{keyPath:PM});g.createIndex(Tf,MM),g.createIndex(ux,kM)})(e))).next((()=>this.Ci(e,l))).next((()=>e.deleteObjectStore($a)))),i<14&&a>=14&&(c=c.next((()=>this.Fi(e,l)))),i<15&&a>=15&&(c=c.next((()=>(function(m){m.createObjectStore(R_,{keyPath:HM,autoIncrement:!0}).createIndex(Ry,GM,{unique:!1}),m.createObjectStore(Dc,{keyPath:KM}).createIndex(hx,QM,{unique:!1}),m.createObjectStore(Vc,{keyPath:$M}).createIndex(dx,YM,{unique:!1})})(e)))),i<16&&a>=16&&(c=c.next((()=>{t.objectStore(Dc).clear()})).next((()=>{t.objectStore(Vc).clear()}))),i<17&&a>=17&&(c=c.next((()=>{(function(m){m.createObjectStore(C_,{keyPath:ZM})})(e)}))),i<18&&a>=18&&nS()&&(c=c.next((()=>{t.objectStore(Dc).clear()})).next((()=>{t.objectStore(Vc).clear()}))),c}wi(e){let t=0;return e.store($a).ee(((i,a)=>{t+=Yf(a)})).next((()=>{const i={byteSize:t};return e.store(Gc).put(Iy,i)}))}yi(e){const t=e.store(Hc),i=e.store(Ar);return t.J().next((a=>B.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,Ks],[l.userId,l.lastAcknowledgedBatchId]);return i.J(Za,c).next((d=>B.forEach(d,(m=>{_e(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const g=Xa(this.serializer,m);return T1(e,l.userId,g).next((()=>{}))}))))}))))}Si(e){const t=e.store(Ml),i=e.store($a);return e.store(to).get(qf).next((a=>{const l=[];return i.ee(((c,d)=>{const m=new Pe(c),g=(function(E){return[0,_n(E)]})(m);l.push(t.get(g).next((_=>_?B.resolve():(E=>t.put({targetId:0,path:_n(E),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>B.waitFor(l)))}))}bi(e,t){e.createObjectStore(Kc,{keyPath:zM});const i=t.store(Kc),a=new H_,l=c=>{if(a.add(c)){const d=c.lastSegment(),m=c.popLast();return i.put({collectionId:d,parent:_n(m)})}};return t.store($a).ee({X:!0},((c,d)=>{const m=new Pe(c);return l(m.popLast())})).next((()=>t.store(Ol).ee({X:!0},(([c,d,m],g)=>{const _=ni(d);return l(_.popLast())}))))}Di(e){const t=e.store(Pl);return t.ee(((i,a)=>{const l=xc(a),c=y1(this.serializer,l);return t.put(c)}))}Ci(e,t){const i=t.store($a),a=[];return i.ee(((l,c)=>{const d=t.store(Ff),m=(function(E){return E.document?new ue(Pe.fromString(E.document.name).popFirst(5)):E.noDocument?ue.fromSegments(E.noDocument.path):E.unknownDocument?ue.fromSegments(E.unknownDocument.path):me(36783)})(c).path.toArray(),g={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(g))})).next((()=>B.waitFor(a)))}Fi(e,t){const i=t.store(Ar),a=R1(this.serializer),l=new K_(Nm.mi,this.serializer.yt);return i.J().next((c=>{const d=new Map;return c.forEach((m=>{let g=d.get(m.userId)??Ce();Xa(this.serializer,m).keys().forEach((_=>g=g.add(_))),d.set(m.userId,g)})),B.forEach(d,((m,g)=>{const _=new sn(g),E=Rm.wt(this.serializer,_),w=l.getIndexManager(_),R=Cm.wt(_,this.serializer,w,l.referenceDelegate);return new C1(a,R,E,w).recalculateAndSaveOverlaysForDocumentKeys(new Ny(t,Dn.ce),m).next()}))}))}}function Hw(r){r.createObjectStore(Ml,{keyPath:jM}).createIndex(I_,UM,{unique:!0}),r.createObjectStore(Pl,{keyPath:"targetId"}).createIndex(cx,LM,{unique:!0}),r.createObjectStore(to)}const Os="IndexedDbPersistence",ny=18e5,ry=5e3,iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",N1="main";class Q_{constructor(e,t,i,a,l,c,d,m,g,_,E=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Mi=l,this.window=c,this.document=d,this.xi=g,this.Oi=_,this.Ni=E,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!Q_.v())throw new ie(Q.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n4(this,a),this.$i=t+N1,this.serializer=new g1(m),this.Ui=new oi(this.$i,this.Ni,new m4(this.serializer)),this.hi=new Gk,this.Pi=new Zk(this.referenceDelegate,this.serializer),this.remoteDocumentCache=R1(this.serializer),this.Ii=new Hk,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,_===!1&&Lt(Os,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ie(Q.FAILED_PRECONDITION,iy);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Dn(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>lf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(aa(e))return oe(Os,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oe(Os,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Ec(e).get(cl).next((t=>B.resolve(this.es(t))))}ts(e){return lf(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,ny)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=Zt(t,kl);return i.J().next((a=>{const l=this.ss(a,ny),c=a.filter((d=>l.indexOf(d)===-1));return B.forEach(c,(d=>i.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?B.resolve(!0):Ec(e).get(cl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ry)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ie(Q.FAILED_PRECONDITION,iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||lf(e).J().next((i=>this.ss(i,ry).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&oe(Os,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[dh,kl],(e=>{const t=new Ny(e,Dn.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((i=>this.rs(i.updateTimeMs,t)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>lf(e).J().next((t=>this.ss(t,ny).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Cm.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Wk(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Rm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,i){oe(Os,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?nk:m===17?yx:m===16?tk:m===15?N_:m===14?gx:m===13?px:m===12?ek:m===11?mx:void me(60245)})(this.Ni);let c;return this.Ui.runTransaction(e,a,l,(d=>(c=new Ny(d,this.ci?this.ci.next():Dn.ce),t==="readwrite-primary"?this.Hi(c).next((m=>!!m||this.Yi(c))).next((m=>{if(!m)throw Lt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ie(Q.FAILED_PRECONDITION,ix);return i(c)})).next((m=>this.Xi(c).next((()=>m)))):this.Is(c).next((()=>i(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Is(e){return Ec(e).get(cl).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,ry)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ie(Q.FAILED_PRECONDITION,iy)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ec(e).put(cl,t)}static v(){return oi.v()}Zi(e){const t=Ec(e);return t.get(cl).next((i=>this.es(i)?(oe(Os,"Releasing primary lease."),t.delete(cl)):B.resolve()))}rs(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(Lt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;tS()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return oe(Os,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Lt(Os,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Lt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ec(r){return Zt(r,dh)}function lf(r){return Zt(r,kl)}function $_(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class Y_{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=a}static As(e,t){let i=Ce(),a=Ce();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Y_(e,t.fromCache,i,a)}}class p4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class D1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tS()?8:ax(Jt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new p4;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,a){return i.documentReadCount<this.fs?(_l()<=Fe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",vl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(_l()<=Fe.DEBUG&&oe("QueryEngine","Query:",vl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(_l()<=Fe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",vl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(t))):B.resolve())}ys(e,t){if(mw(t))return B.resolve(null);let i=vn(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Kf(t,null,"F"),i=vn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ce(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((m=>{const g=this.Ds(t,d);return this.Cs(t,g,c,m.readTime)?this.ys(e,Kf(t,null,"F")):this.vs(e,g,t,m)}))))})))))}ws(e,t,i,a){return mw(t)||a.isEqual(Ee.min())?B.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,a)?B.resolve(null):(_l()<=Fe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),vl(t)),this.vs(e,c,t,nx(a,Nl)).next((d=>d)))}))}Ds(e,t){let i=new it(Bx(e));return t.forEach(((a,l)=>{ph(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,i){return _l()<=Fe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",vl(t)),this.ps.getDocumentsMatchingQuery(e,t,$n.min(),i)}vs(e,t,i,a){return this.ps.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const X_="LocalStore",g4=3e8;class y4{constructor(e,t,i,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new pt(Se),this.xs=new Yi((l=>oo(l)),fh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function V1(r,e,t,i){return new y4(r,e,t,i)}async function O1(r,e){const t=he(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let m=Ce();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function _4(r,e){const t=he(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,g,_){const E=g.batch,w=E.keys();let R=B.resolve();return w.forEach((k=>{R=R.next((()=>_.getEntry(m,k))).next((L=>{const j=g.docVersions.get(k);_e(j!==null,48541),L.version.compareTo(j)<0&&(E.applyToRemoteDocument(L,g),L.isValidDocument()&&(L.setReadTime(g.commitVersion),_.addEntry(L)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let m=Ce();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function P1(r){const e=he(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function v4(r,e){const t=he(r),i=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const d=[];e.targetChanges.forEach(((_,E)=>{const w=a.get(E);if(!w)return;d.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,E))));let R=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(Rt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),a=a.insert(E,R),(function(L,j,J){return L.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=g4?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,R,_)&&d.push(t.Pi.updateTargetData(l,R))}));let m=On(),g=Ce();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(M1(l,c,e.documentUpdates).next((_=>{m=_.ks,g=_.qs}))),!i.isEqual(Ee.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(_)}return B.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(t.Ms=a,l)))}function M1(r,e,t){let i=Ce(),a=Ce();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=On();return t.forEach(((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):oe(X_,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function E4(r,e){const t=he(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ks),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function ql(r,e){const t=he(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.Pi.getTargetData(i,e).next((l=>l?(a=l,B.resolve(a)):t.Pi.allocateTargetId(i).next((c=>(a=new ji(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Hl(r,e,t){const i=he(r),a=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!aa(c))throw c;oe(X_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(a.target)}function Jf(r,e,t){const i=he(r);let a=Ee.min(),l=Ce();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,g,_){const E=he(m),w=E.xs.get(_);return w!==void 0?B.resolve(E.Ms.get(w)):E.Pi.getTargetData(g,_)})(i,c,vn(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?a:Ee.min(),t?l:Ce()))).next((d=>(j1(i,zx(e),d),{documents:d,Qs:l})))))}function k1(r,e){const t=he(r),i=he(t.Pi),a=t.Ms.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(l=>i.At(l,e).next((c=>c?c.target:null))))}function L1(r,e){const t=he(r),i=t.Os.get(e)||Ee.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.Ns.getAllFromCollectionGroup(a,e,nx(i,Nl),Number.MAX_SAFE_INTEGER))).then((a=>(j1(t,e,a),a)))}function j1(r,e,t){let i=r.Os.get(e)||Ee.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Os.set(e,i)}async function T4(r,e,t,i){const a=he(r);let l=Ce(),c=On();for(const g of t){const _=e.$s(g.metadata.name);g.document&&(l=l.add(_));const E=e.Us(g);E.setReadTime(e.Ks(g.metadata.readTime)),c=c.insert(_,E)}const d=a.Ns.newChangeBuffer({trackRemovals:!0}),m=await ql(a,(function(_){return vn(tu(Pe.fromString(`__bundle__/docs/${_}`)))})(i));return a.persistence.runTransaction("Apply bundle documents","readwrite",(g=>M1(g,d,c).next((_=>(d.apply(g),_))).next((_=>a.Pi.removeMatchingKeysForTargetId(g,m.targetId).next((()=>a.Pi.addMatchingKeys(g,l,m.targetId))).next((()=>a.localDocuments.getLocalViewOfDocuments(g,_.ks,_.qs))).next((()=>_.ks))))))}async function b4(r,e,t=Ce()){const i=await ql(r,vn(Im(e.bundledQuery))),a=he(r);return a.persistence.runTransaction("Save named query","readwrite",(l=>{const c=jt(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return a.Ii.saveNamedQuery(l,e);const d=i.withResumeToken(Rt.EMPTY_BYTE_STRING,c);return a.Ms=a.Ms.insert(d.targetId,d),a.Pi.updateTargetData(l,d).next((()=>a.Pi.removeMatchingKeysForTargetId(l,i.targetId))).next((()=>a.Pi.addMatchingKeys(l,t,i.targetId))).next((()=>a.Ii.saveNamedQuery(l,e)))}))}const U1="firestore_clients";function Gw(r,e){return`${U1}_${r}_${e}`}const z1="firestore_mutations";function Kw(r,e,t){let i=`${z1}_${r}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const B1="firestore_targets";function sy(r,e){return`${B1}_${r}_${e}`}const ti="SharedClientState";class Wf{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static Ws(e,t,i){const a=JSON.parse(i);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new ie(a.error.code,a.error.message))),c?new Wf(e,t,a.state,l):(Lt(ti,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kc{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ws(e,t){const i=JSON.parse(t);let a,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new ie(i.error.code,i.error.message))),l?new kc(e,i.state,a):(Lt(ti,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const i=JSON.parse(t);let a=typeof i=="object"&&i.activeTargetIds instanceof Array,l=M_();for(let c=0;a&&c<i.activeTargetIds.length;++c)a=ox(i.activeTargetIds[c]),l=l.add(i.activeTargetIds[c]);return a?new Zf(e,l):(Lt(ti,`Failed to parse client data for instance '${e}': ${t}`),null)}}class J_{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new J_(t.clientId,t.onlineState):(Lt(ti,`Failed to parse online state: ${e}`),null)}}class Gy{constructor(){this.activeTargetIds=M_()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ay{constructor(e,t,i,a,l){this.window=e,this.Mi=t,this.persistenceKey=i,this.Js=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new pt(Se),this.started=!1,this.Xs=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.eo=Gw(this.persistenceKey,this.Js),this.no=(function(m){return`firestore_sequence_number_${m}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new Gy),this.ro=new RegExp(`^${U1}_${c}_([^_]*)$`),this.io=new RegExp(`^${z1}_${c}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${B1}_${c}_(\\d+)$`),this.oo=(function(m){return`firestore_online_state_${m}`})(this.persistenceKey),this._o=(function(m){return`firestore_bundle_loaded_v2_${m}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const i of e){if(i===this.Js)continue;const a=this.getItem(Gw(this.persistenceKey,i));if(a){const l=Zf.Ws(i,a);l&&(this.Zs=this.Zs.insert(l.clientId,l))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const i=this.uo(t);i&&this.co(i)}for(const i of this.Xs)this.Ys(i);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,i){this.ho(e,t,i),this.Po(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(sy(this.persistenceKey,e));if(a){const l=kc.Ws(e,a);l&&(i=l.state)}}return t&&this.To.zs(e),this.ao(),i}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(sy(this.persistenceKey,e))}updateQueryState(e,t,i){this.Io(e,t,i)}handleUserChange(e,t,i){t.forEach((a=>{this.Po(a)})),this.currentUser=e,i.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return oe(ti,"READ",e,t),t}setItem(e,t){oe(ti,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){oe(ti,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(oe(ti,"EVENT",t.key,t.newValue),t.key===this.eo)return void Lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const i=this.Ro(t.key);return this.Vo(i,null)}{const i=this.mo(t.key,t.newValue);if(i)return this.Vo(i.clientId,i)}}else if(this.io.test(t.key)){if(t.newValue!==null){const i=this.fo(t.key,t.newValue);if(i)return this.po(i)}}else if(this.so.test(t.key)){if(t.newValue!==null){const i=this.yo(t.key,t.newValue);if(i)return this.wo(i)}}else if(t.key===this.oo){if(t.newValue!==null){const i=this.uo(t.newValue);if(i)return this.co(i)}}else if(t.key===this.no){const i=(function(l){let c=Dn.ce;if(l!=null)try{const d=JSON.parse(l);_e(typeof d=="number",30636,{So:l}),c=d}catch(d){Lt(ti,"Failed to read sequence number from WebStorage",d)}return c})(t.newValue);i!==Dn.ce&&this.sequenceNumberHandler(i)}else if(t.key===this._o){const i=this.bo(t.newValue);await Promise.all(i.map((a=>this.syncEngine.Do(a))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,i){const a=new Wf(this.currentUser,e,t,i),l=Kw(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Gs())}Po(e){const t=Kw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,i){const a=sy(this.persistenceKey,e),l=new kc(e,t,i);this.setItem(a,l.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const i=this.Ro(e);return Zf.Ws(i,t)}fo(e,t){const i=this.io.exec(e),a=Number(i[1]),l=i[2]!==void 0?i[2]:null;return Wf.Ws(new sn(l),a,t)}yo(e,t){const i=this.so.exec(e),a=Number(i[1]);return kc.Ws(a,t)}uo(e){return J_.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);oe(ti,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const i=t?this.Zs.insert(e,t):this.Zs.remove(e),a=this.lo(this.Zs),l=this.lo(i),c=[],d=[];return l.forEach((m=>{a.has(m)||c.push(m)})),a.forEach((m=>{l.has(m)||d.push(m)})),this.syncEngine.Fo(c,d).then((()=>{this.Zs=i}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=M_();return e.forEach(((i,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class F1{constructor(){this.Mo=new Gy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Gy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w4{Oo(e){}shutdown(){}}const Qw="ConnectivityMonitor";class $w{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Qw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Qw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uf=null;function Ky(){return uf===null?uf=(function(){return 268435456+Math.round(2147483648*Math.random())})():uf++,"0x"+uf.toString(16)}const oy="RestConnection",A4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===$c?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(e,t,i,a,l){const c=Ky(),d=this.zo(e,t.toUriEncodedString());oe(oy,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:g}=new URL(d),_=na(g);return this.Jo(e,d,m,i,_).then((E=>(oe(oy,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw Qn(oy,`RPC '${e}' ${c} failed with error: `,E,"url: ",d,"request:",i),E}))}Ho(e,t,i,a,l,c){return this.Go(e,t,i,a,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const i=A4[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}class x4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const gn="WebChannelConnection";class I4 extends S4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,a,l){const c=Ky();return new Promise(((d,m)=>{const g=new HS;g.setWithCredentials(!0),g.listenOnce(GS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case vf.NO_ERROR:const E=g.getResponseJson();oe(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case vf.TIMEOUT:oe(gn,`RPC '${e}' ${c} timed out`),m(new ie(Q.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const w=g.getStatus();if(oe(gn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const k=R?.error;if(k&&k.status&&k.message){const L=(function(J){const ne=J.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(ne)>=0?ne:Q.UNKNOWN})(k.status);m(new ie(L,k.message))}else m(new ie(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ie(Q.UNAVAILABLE,"Connection failed."));break;default:me(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe(gn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(a);oe(gn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",_,i,15)}))}T_(e,t,i){const a=Ky(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$S(),d=QS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");oe(gn,`Creating RPC '${e}' stream ${a}: ${_}`,m);const E=c.createWebChannel(_,m);this.I_(E);let w=!1,R=!1;const k=new x4({Yo:j=>{R?oe(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(w||(oe(gn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),w=!0),oe(gn,`RPC '${e}' stream ${a} sending:`,j),E.send(j))},Zo:()=>E.close()}),L=(j,J,ne)=>{j.listen(J,(G=>{try{ne(G)}catch(W){setTimeout((()=>{throw W}),0)}}))};return L(E,wc.EventType.OPEN,(()=>{R||(oe(gn,`RPC '${e}' stream ${a} transport opened.`),k.o_())})),L(E,wc.EventType.CLOSE,(()=>{R||(R=!0,oe(gn,`RPC '${e}' stream ${a} transport closed`),k.a_(),this.E_(E))})),L(E,wc.EventType.ERROR,(j=>{R||(R=!0,Qn(gn,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),k.a_(new ie(Q.UNAVAILABLE,"The operation could not be completed")))})),L(E,wc.EventType.MESSAGE,(j=>{if(!R){const J=j.data[0];_e(!!J,16349);const ne=J,G=ne?.error||ne[0]?.error;if(G){oe(gn,`RPC '${e}' stream ${a} received error:`,G);const W=G.status;let le=(function(I){const N=Qt[I];if(N!==void 0)return t1(N)})(W),pe=G.message;le===void 0&&(le=Q.INTERNAL,pe="Unknown error status: "+W+" with message "+G.message),R=!0,k.a_(new ie(le,pe)),E.close()}else oe(gn,`RPC '${e}' stream ${a} received:`,J),k.u_(J)}})),L(d,KS.STAT_EVENT,(j=>{j.stat===by.PROXY?oe(gn,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===by.NOPROXY&&oe(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function q1(){return typeof window<"u"?window:null}function Rf(){return typeof document<"u"?document:null}function vo(r){return new Ok(r,!0)}class W_{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&oe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Yw="PersistentStream";class H1{constructor(e,t,i,a,l,c,d,m){this.Mi=e,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new W_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Lt(t.toString()),Lt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new ie(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(Yw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(oe(Yw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R4 extends H1{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=kk(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ee.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ee.min():c.readTime?jt(c.readTime):Ee.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=zy(this.serializer),t.addTarget=(function(l,c){let d;const m=c.target;if(d=Hf(m)?{documents:c1(l,m)}:{query:xm(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=s1(l,c.resumeToken);const g=jy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ee.min())>0){d.readTime=Fl(l,c.snapshotVersion.toTimestamp());const g=jy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=jk(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=zy(this.serializer),t.removeTarget=e,this.q_(t)}}class C4 extends H1{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Lk(e.writeResults,e.commitTime),i=jt(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=zy(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>Zc(this.serializer,i)))};this.q_(t)}}class N4{}class D4 extends N4{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ie(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,Uy(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ie(Q.UNKNOWN,l.toString())}))}Ho(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,Uy(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ie(Q.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class V4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Lt(t),this.aa=!1):oe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const mo="RemoteStore";class O4{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{la(this)&&(oe(mo,"Restarting streams for network reachability change."),await(async function(m){const g=he(m);g.Ea.add(4),await iu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await vh(g)})(this))}))})),this.Ra=new V4(i,a)}}async function vh(r){if(la(r))for(const e of r.da)await e(!0)}async function iu(r){for(const e of r.da)await e(!1)}function Dm(r,e){const t=he(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),tv(t)?ev(t):au(t).O_()&&Z_(t,e))}function Gl(r,e){const t=he(r),i=au(t);t.Ia.delete(e),i.O_()&&G1(t,e),t.Ia.size===0&&(i.O_()?i.L_():la(t)&&t.Ra.set("Unknown"))}function Z_(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}au(r).Y_(e)}function G1(r,e){r.Va.Ue(e),au(r).Z_(e)}function ev(r){r.Va=new Ck({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),au(r).start(),r.Ra.ua()}function tv(r){return la(r)&&!au(r).x_()&&r.Ia.size>0}function la(r){return he(r).Ea.size===0}function K1(r){r.Va=void 0}async function P4(r){r.Ra.set("Online")}async function M4(r){r.Ia.forEach(((e,t)=>{Z_(r,e)}))}async function k4(r,e){K1(r),tv(r)?(r.Ra.ha(e),ev(r)):r.Ra.set("Unknown")}async function L4(r,e,t){if(r.Ra.set("Online"),e instanceof i1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(r,e)}catch(i){oe(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await em(r,i)}else if(e instanceof xf?r.Va.Ze(e):e instanceof r1?r.Va.st(e):r.Va.tt(e),!t.isEqual(Ee.min()))try{const i=await P1(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.Ia.get(g);_&&l.Ia.set(g,_.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,g)=>{const _=l.Ia.get(m);if(!_)return;l.Ia.set(m,_.withResumeToken(Rt.EMPTY_BYTE_STRING,_.snapshotVersion)),G1(l,m);const E=new ji(_.target,m,g,_.sequenceNumber);Z_(l,E)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){oe(mo,"Failed to raise snapshot:",i),await em(r,i)}}async function em(r,e,t){if(!aa(e))throw e;r.Ea.add(1),await iu(r),r.Ra.set("Offline"),t||(t=()=>P1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(mo,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await vh(r)}))}function Q1(r,e){return e().catch((t=>em(r,t,e)))}async function su(r){const e=he(r),t=Zs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ks;for(;j4(e);)try{const a=await E4(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,U4(e,a)}catch(a){await em(e,a)}$1(e)&&Y1(e)}function j4(r){return la(r)&&r.Ta.length<10}function U4(r,e){r.Ta.push(e);const t=Zs(r);t.O_()&&t.X_&&t.ea(e.mutations)}function $1(r){return la(r)&&!Zs(r).x_()&&r.Ta.length>0}function Y1(r){Zs(r).start()}async function z4(r){Zs(r).ra()}async function B4(r){const e=Zs(r);for(const t of r.Ta)e.ea(t.mutations)}async function F4(r,e,t){const i=r.Ta.shift(),a=U_.from(i,e,t);await Q1(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await su(r)}async function q4(r,e){e&&Zs(r).X_&&await(async function(i,a){if((function(c){return e1(c)&&c!==Q.ABORTED})(a.code)){const l=i.Ta.shift();Zs(i).B_(),await Q1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await su(i)}})(r,e),$1(r)&&Y1(r)}async function Xw(r,e){const t=he(r);t.asyncQueue.verifyOperationInProgress(),oe(mo,"RemoteStore received new credentials");const i=la(t);t.Ea.add(3),await iu(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await vh(t)}async function Qy(r,e){const t=he(r);e?(t.Ea.delete(2),await vh(t)):e||(t.Ea.add(2),await iu(t),t.Ra.set("Unknown"))}function au(r){return r.ma||(r.ma=(function(t,i,a){const l=he(t);return l.sa(),new R4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:P4.bind(null,r),t_:M4.bind(null,r),r_:k4.bind(null,r),H_:L4.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),tv(r)?ev(r):r.Ra.set("Unknown")):(await r.ma.stop(),K1(r))}))),r.ma}function Zs(r){return r.fa||(r.fa=(function(t,i,a){const l=he(t);return l.sa(),new C4(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:z4.bind(null,r),r_:q4.bind(null,r),ta:B4.bind(null,r),na:F4.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await su(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(mo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class nv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new an,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new nv(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ou(r,e){if(Lt("AsyncQueue",`${e}: ${r}`),aa(r))return new ie(Q.UNAVAILABLE,`${e}: ${r}`);throw r}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ue.comparator(t.key,i.key):(t,i)=>ue.comparator(t.key,i.key),this.keyedMap=Ac(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new no;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Jw{constructor(){this.ga=new pt(ue.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):me(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class po{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new po(e,t,no.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class H4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class G4{constructor(){this.queries=Ww(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=he(t),l=a.queries;a.queries=Ww(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(i)}))})(this,new ie(Q.ABORTED,"Firestore shutting down"))}}function Ww(){return new Yi((r=>Ux(r)),mh)}async function rv(r,e){const t=he(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(i=2):(l=new H4,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=ou(c,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&sv(t)}async function iv(r,e){const t=he(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function K4(r,e){const t=he(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(i=!0);c.wa=a}}i&&sv(t)}function Q4(r,e,t){const i=he(r),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);i.queries.delete(e)}function sv(r){r.Ca.forEach((e=>{e.next()}))}var $y,Zw;(Zw=$y||($y={})).Ma="default",Zw.Cache="cache";class av{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new po(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$y.Cache}}class X1{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}class eA{constructor(e){this.serializer=e}$s(e){return li(this.serializer,e)}Us(e){return e.metadata.exists?Sm(this.serializer,e.document,!1):vt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return jt(e)}}class ov{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=J1(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const i=Pe.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,i=new eA(this.serializer);for(const a of e)if(a.metadata.queries){const l=i.$s(a.metadata.name);for(const c of a.metadata.queries){const d=(t.get(c)||Ce()).add(l);t.set(c,d)}}return t}async ja(e){const t=await T4(e,new eA(this.serializer),this.Wa,this.Ua.id),i=this.za(this.documents);for(const a of this.Ka)await b4(e,a,i.get(a.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function J1(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class W1{constructor(e){this.key=e}}class Z1{constructor(e){this.key=e}}class eI{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=Bx(e),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Jw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((_,E)=>{const w=a.get(_),R=ph(this.query,E)?E:null,k=!!w&&this.mutatedKeys.has(w.key),L=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let j=!1;w&&R?w.data.isEqual(R.data)?k!==L&&(i.track({type:3,doc:R}),j=!0):this.su(w,R)||(i.track({type:2,doc:R}),j=!0,(m&&this.eu(R,m)>0||g&&this.eu(R,g)<0)&&(d=!0)):!w&&R?(i.track({type:0,doc:R}),j=!0):w&&!R&&(i.track({type:1,doc:w}),j=!0,(m||g)&&(d=!0)),j&&(R?(c=c.add(R),l=L?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(R,k){const L=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me(20277,{Rt:j})}};return L(R)-L(k)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,g=m!==this.Za;return this.Za=m,c.length!==0||g?{snapshot:new po(this.query,e.tu,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Jw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ce(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new Z1(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new W1(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ce();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ua="SyncEngine";class $4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Y4{constructor(e){this.key=e,this.hu=!1}}class X4{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Yi((d=>Ux(d)),mh),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ue.comparator),this.Au=new Map,this.Ru=new G_,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function J4(r,e,t=!0){const i=Vm(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await tI(i,e,t,!0),a}async function W4(r,e){const t=Vm(r);await tI(t,e,!0,!1)}async function tI(r,e,t,i){const a=await ql(r.localStore,vn(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await lv(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&Dm(r.remoteStore,a),d}async function lv(r,e,t,i,a){r.pu=(E,w,R)=>(async function(L,j,J,ne){let G=j.view.ru(J);G.Cs&&(G=await Jf(L.localStore,j.query,!1).then((({documents:C})=>j.view.ru(C,G))));const W=ne&&ne.targetChanges.get(j.targetId),le=ne&&ne.targetMismatches.get(j.targetId)!=null,pe=j.view.applyChanges(G,L.isPrimaryClient,W,le);return Yy(L,j.targetId,pe.au),pe.snapshot})(r,E,w,R);const l=await Jf(r.localStore,e,!0),c=new eI(e,l.Qs),d=c.ru(l.documents),m=_h.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),g=c.applyChanges(d,r.isPrimaryClient,m);Yy(r,t,g.au);const _=new $4(e,t,c);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),g.snapshot}async function Z4(r,e,t){const i=he(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!mh(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Hl(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Gl(i.remoteStore,a.targetId),Kl(i,a.targetId)})).catch(sa)):(Kl(i,a.targetId),await Hl(i.localStore,a.targetId,!0))}async function e6(r,e){const t=he(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Gl(t.remoteStore,i.targetId))}async function t6(r,e,t){const i=dv(r);try{const a=await(function(c,d){const m=he(c),g=We.now(),_=d.reduce(((R,k)=>R.add(k.key)),Ce());let E,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let k=On(),L=Ce();return m.Ns.getEntries(R,_).next((j=>{k=j,k.forEach(((J,ne)=>{ne.isValidDocument()||(L=L.add(J))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,k))).next((j=>{E=j;const J=[];for(const ne of d){const G=xk(ne,E.get(ne.key).overlayedDocument);G!=null&&J.push(new Xi(ne.key,G,Rx(G.value.mapValue),At.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,J,d)})).next((j=>{w=j;const J=j.applyToLocalDocumentSet(E,L);return m.documentOverlayCache.saveOverlays(R,j.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:qx(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let g=c.Vu[c.currentUser.toKey()];g||(g=new pt(Se)),g=g.insert(d,m),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,t),await Ji(i,a.changes),await su(i.remoteStore)}catch(a){const l=ou(a,"Failed to persist write");t.reject(l)}}async function nI(r,e){const t=he(r);try{const i=await v4(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(_e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?_e(c.hu,14607):a.removedDocuments.size>0&&(_e(c.hu,42227),c.hu=!1))})),await Ji(t,i,e)}catch(i){await sa(i)}}function tA(r,e,t){const i=he(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=he(c);m.onlineState=d;let g=!1;m.queries.forEach(((_,E)=>{for(const w of E.Sa)w.va(d)&&(g=!0)})),g&&sv(m)})(i.eventManager,e),a.length&&i.Pu.H_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function n6(r,e,t){const i=he(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new pt(ue.comparator);c=c.insert(l,vt.newNoDocument(l,Ee.min()));const d=Ce().add(l),m=new yh(Ee.min(),new Map,new pt(Se),c,d);await nI(i,m),i.du=i.du.remove(l),i.Au.delete(e),hv(i)}else await Hl(i.localStore,e,!1).then((()=>Kl(i,e,t))).catch(sa)}async function r6(r,e){const t=he(r),i=e.batch.batchId;try{const a=await _4(t.localStore,e);cv(t,i,null),uv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ji(t,a)}catch(a){await sa(a)}}async function i6(r,e,t){const i=he(r);try{const a=await(function(c,d){const m=he(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next((E=>(_e(E!==null,37113),_=E.keys(),m.mutationQueue.removeMutationBatch(g,E)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>m.localDocuments.getDocuments(g,_)))}))})(i.localStore,e);cv(i,e,t),uv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ji(i,a)}catch(a){await sa(a)}}async function s6(r,e){const t=he(r);la(t.remoteStore)||oe(ua,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await(function(c){const d=he(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m)))})(t.localStore);if(i===Ks)return void e.resolve();const a=t.mu.get(i)||[];a.push(e),t.mu.set(i,a)}catch(i){const a=ou(i,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}function uv(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function cv(r,e,t){const i=he(r);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Vu[i.currentUser.toKey()]=a}}function Kl(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((i=>{r.Ru.containsKey(i)||rI(r,i)}))}function rI(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Gl(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),hv(r))}function Yy(r,e,t){for(const i of t)i instanceof W1?(r.Ru.addReference(i.key,e),a6(r,i)):i instanceof Z1?(oe(ua,"Document no longer in limbo: "+i.key),r.Ru.removeReference(i.key,e),r.Ru.containsKey(i.key)||rI(r,i.key)):me(19791,{wu:i})}function a6(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Eu.has(i)||(oe(ua,"New document in limbo: "+t),r.Eu.add(i),hv(r))}function hv(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ue(Pe.fromString(e)),i=r.fu.next();r.Au.set(i,new Y4(t)),r.du=r.du.insert(t,i),Dm(r.remoteStore,new ji(vn(tu(t.path)),i,"TargetPurposeLimboResolution",Dn.ce))}}async function Ji(r,e,t){const i=he(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,m)=>{c.push(i.pu(m,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){a.push(g);const _=Y_.As(m.targetId,g);l.push(_)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(m,g){const _=he(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>B.forEach(g,(w=>B.forEach(w.Es,(R=>_.persistence.referenceDelegate.addReference(E,w.targetId,R))).next((()=>B.forEach(w.ds,(R=>_.persistence.referenceDelegate.removeReference(E,w.targetId,R)))))))))}catch(E){if(!aa(E))throw E;oe(X_,"Failed to update sequence numbers: "+E)}for(const E of g){const w=E.targetId;if(!E.fromCache){const R=_.Ms.get(w),k=R.snapshotVersion,L=R.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(w,L)}}})(i.localStore,l))}async function o6(r,e){const t=he(r);if(!t.currentUser.isEqual(e)){oe(ua,"User change. New user:",e.toKey());const i=await O1(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new ie(Q.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ji(t,i.Ls)}}function l6(r,e){const t=he(r),i=t.Au.get(e);if(i&&i.hu)return Ce().add(i.key);{let a=Ce();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}async function u6(r,e){const t=he(r),i=await Jf(t.localStore,e.query,!0),a=e.view.cu(i);return t.isPrimaryClient&&Yy(t,e.targetId,a.au),a}async function c6(r,e){const t=he(r);return L1(t.localStore,e).then((i=>Ji(t,i)))}async function h6(r,e,t,i){const a=he(r),l=await(function(d,m){const g=he(d),_=he(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",(E=>_.er(E,m).next((w=>w?g.localDocuments.getDocuments(E,w):B.resolve(null)))))})(a.localStore,e);l!==null?(t==="pending"?await su(a.remoteStore):t==="acknowledged"||t==="rejected"?(cv(a,e,i||null),uv(a,e),(function(d,m){he(he(d).mutationQueue).ir(m)})(a.localStore,e)):me(6720,"Unknown batchState",{Su:t}),await Ji(a,l)):oe(ua,"Cannot apply mutation batch with id: "+e)}async function d6(r,e){const t=he(r);if(Vm(t),dv(t),e===!0&&t.gu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),a=await nA(t,i.toArray());t.gu=!0,await Qy(t.remoteStore,!0);for(const l of a)Dm(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const i=[];let a=Promise.resolve();t.Iu.forEach(((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):a=a.then((()=>(Kl(t,c),Hl(t.localStore,c,!0)))),Gl(t.remoteStore,c)})),await a,await nA(t,i),(function(c){const d=he(c);d.Au.forEach(((m,g)=>{Gl(d.remoteStore,g)})),d.Ru.Jr(),d.Au=new Map,d.du=new pt(ue.comparator)})(t),t.gu=!1,await Qy(t.remoteStore,!1)}}async function nA(r,e,t){const i=he(r),a=[],l=[];for(const c of e){let d;const m=i.Iu.get(c);if(m&&m.length!==0){d=await ql(i.localStore,vn(m[0]));for(const g of m){const _=i.Tu.get(g),E=await u6(i,_);E.snapshot&&l.push(E.snapshot)}}else{const g=await k1(i.localStore,c);d=await ql(i.localStore,g),await lv(i,iI(g),c,!1,d.resumeToken)}a.push(d)}return i.Pu.H_(l),a}function iI(r){return kx(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function f6(r){return(function(t){return he(he(t).persistence).Ts()})(he(r).localStore)}async function m6(r,e,t,i){const a=he(r);if(a.gu)return void oe(ua,"Ignoring unexpected query state notification.");const l=a.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await L1(a.localStore,zx(l[0])),d=yh.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Rt.EMPTY_BYTE_STRING);await Ji(a,c,d);break}case"rejected":await Hl(a.localStore,e,!0),Kl(a,e,i);break;default:me(64155,t)}}async function p6(r,e,t){const i=Vm(r);if(i.gu){for(const a of e){if(i.Iu.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){oe(ua,"Adding an already active target "+a);continue}const l=await k1(i.localStore,a),c=await ql(i.localStore,l);await lv(i,iI(l),c.targetId,!1,c.resumeToken),Dm(i.remoteStore,c)}for(const a of t)i.Iu.has(a)&&await Hl(i.localStore,a,!1).then((()=>{Gl(i.remoteStore,a),Kl(i,a)})).catch(sa)}}function Vm(r){const e=he(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=nI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n6.bind(null,e),e.Pu.H_=K4.bind(null,e.eventManager),e.Pu.yu=Q4.bind(null,e.eventManager),e}function dv(r){const e=he(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i6.bind(null,e),e}function g6(r,e,t){const i=he(r);(async function(l,c,d){try{const m=await c.getMetadata();if(await(function(R,k){const L=he(R),j=jt(k.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",(J=>L.Ii.getBundleMetadata(J,k.id))).then((J=>!!J&&J.createTime.compareTo(j)>=0))})(l.localStore,m))return await c.close(),d._completeWith((function(R){return{taskState:"Success",documentsLoaded:R.totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}})(m)),Promise.resolve(new Set);d._updateProgress(J1(m));const g=new ov(m,c.serializer);let _=await c.bu();for(;_;){const w=await g.Ga(_);w&&d._updateProgress(w),_=await c.bu()}const E=await g.ja(l.localStore);return await Ji(l,E.Ha,void 0),await(function(R,k){const L=he(R);return L.persistence.runTransaction("Save bundle","readwrite",(j=>L.Ii.saveBundleMetadata(j,k)))})(l.localStore,m),d._completeWith(E.progress),Promise.resolve(E.Ja)}catch(m){return Qn(ua,`Loading bundle failed with ${m}`),d._failWith(m),Promise.resolve(new Set)}})(i,e,t).then((a=>{i.sharedClientState.notifyBundleLoaded(a)}))}class Ql{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vo(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return V1(this.persistence,new D1,e.initialUser,this.serializer)}Cu(e){return new K_(Nm.mi,this.serializer)}Du(e){return new F1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ql.provider={build:()=>new Ql};class fv extends Ql{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_e(this.persistence.referenceDelegate instanceof Xf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new S1(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new K_((i=>Xf.mi(i,t)),this.serializer)}}class mv extends Ql{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await dv(this.xu.syncEngine),await su(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return V1(this.persistence,new D1,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new S1(i,e.asyncQueue,t)}Mu(e,t){const i=new NM(t,this.persistence);return new CM(e.asyncQueue,i)}Cu(e){const t=$_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Q_(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,q1(),Rf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new F1}}class sI extends mv{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof ay&&(this.sharedClientState.syncEngine={Co:h6.bind(null,t),vo:m6.bind(null,t),Fo:p6.bind(null,t),Ts:f6.bind(null,t),Do:c6.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async i=>{await d6(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(e){const t=q1();if(!ay.v(t))throw new ie(Q.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=$_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ay(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class ea{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=o6.bind(null,this.syncEngine),await Qy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new G4})()}createDatastore(e){const t=vo(e.databaseInfo.databaseId),i=(function(l){return new I4(l)})(e.databaseInfo);return(function(l,c,d,m){return new D4(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new O4(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>tA(this.syncEngine,t,0)),(function(){return $w.v()?new $w:new w4})())}createSyncEngine(e,t){return(function(a,l,c,d,m,g,_){const E=new X4(a,l,c,d,m,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=he(t);oe(mo,"RemoteStore shutting down."),i.Ea.add(5),await iu(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ea.provider={build:()=>new ea};function rA(r,e=10240){let t=0;return{async read(){if(t<r.byteLength){const i={value:r.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class Om{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Lt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class y6{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new an,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((i=>{i&&i.$a()?this.metadata.resolve(i.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i?.Qa)}`))}),(i=>this.metadata.reject(i)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),i=Number(t);isNaN(i)&&this.Qu(`length string (${t}) is not valid number`);const a=await this.$u(i);return new X1(JSON.parse(a),e.length+i)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class _6{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let i=this.bu();if(!i||!i.$a())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(i?.Qa)}`);this.metadata=i;do i=this.bu(),i!==null&&this.elements.push(i);while(i!==null)}getMetadata(){return this.metadata}Wu(){return this.elements}bu(){if(this.cursor===this.bundleData.length)return null;const e=this.qu(),t=this.$u(e);return new X1(JSON.parse(t),e)}$u(e){if(this.cursor+e>this.bundleData.length)throw new ie(Q.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}qu(){const e=this.cursor;let t=this.cursor;for(;t<this.bundleData.length;){if(this.bundleData[t]==="{"){if(t===e)throw new Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw new Error("Reached the end of bundle when more is expected.")}}class v6{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ie(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(a,l){const c=he(a),d={documents:l.map((E=>Wc(c.serializer,E)))},m=await c.Ho("BatchGetDocuments",c.serializer.databaseId,Pe.emptyPath(),d,l.length),g=new Map;m.forEach((E=>{const w=Mk(c.serializer,E);g.set(w.key.toString(),w)}));const _=[];return l.forEach((E=>{const w=g.get(E.toString());_e(!!w,55234,{key:E}),_.push(w)})),_})(this.datastore,e);return t.forEach((i=>this.recordVersion(i))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new ru(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,i)=>{const a=ue.fromPath(i);this.mutations.push(new L_(a,this.precondition(a)))})),await(async function(i,a){const l=he(i),c={writes:a.map((d=>Zc(l.serializer,d)))};await l.Go("Commit",l.serializer.databaseId,Pe.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw me(50498,{Gu:e.constructor.name});t=Ee.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new ie(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ee.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ee.min()))throw new ie(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class E6{constructor(e,t,i,a,l){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new W_(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new v6(this.datastore),t=this.Hu(e);t&&t.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((a=>{this.Yu(a)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(e){try{const t=this.updateFunction(e);return!hh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!e1(t)}return!1}}const ta="FirestoreClient";class T6{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{oe(ta,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(oe(ta,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new an;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=ou(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function ly(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ta,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await O1(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function iA(r,e){r.asyncQueue.verifyOperationInProgress();const t=await pv(r);oe(ta,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>Xw(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>Xw(e.remoteStore,a))),r._onlineComponents=e}async function pv(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ta,"Using user provided OfflineComponentProvider");try{await ly(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Q.FAILED_PRECONDITION||a.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Qn("Error using user provided cache. Falling back to memory cache: "+t),await ly(r,new Ql)}}else oe(ta,"Using default OfflineComponentProvider"),await ly(r,new fv(void 0));return r._offlineComponents}async function Pm(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ta,"Using user provided OnlineComponentProvider"),await iA(r,r._uninitializedComponentsProvider._online)):(oe(ta,"Using default OnlineComponentProvider"),await iA(r,new ea))),r._onlineComponents}function aI(r){return pv(r).then((e=>e.persistence))}function lu(r){return pv(r).then((e=>e.localStore))}function oI(r){return Pm(r).then((e=>e.remoteStore))}function gv(r){return Pm(r).then((e=>e.syncEngine))}function lI(r){return Pm(r).then((e=>e.datastore))}async function $l(r){const e=await Pm(r),t=e.eventManager;return t.onListen=J4.bind(null,e.syncEngine),t.onUnlisten=Z4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=W4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=e6.bind(null,e.syncEngine),t}function b6(r){return r.asyncQueue.enqueue((async()=>{const e=await aI(r),t=await oI(r);return e.setNetworkEnabled(!0),(function(a){const l=he(a);return l.Ea.delete(0),vh(l)})(t)}))}function w6(r){return r.asyncQueue.enqueue((async()=>{const e=await aI(r),t=await oI(r);return e.setNetworkEnabled(!1),(async function(a){const l=he(a);l.Ea.add(0),await iu(l),l.Ra.set("Offline")})(t)}))}function A6(r,e){const t=new an;return r.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await(function(g,_){const E=he(g);return E.persistence.runTransaction("read document","readonly",(w=>E.localDocuments.getDocument(w,_)))})(a,l);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new ie(Q.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const m=ou(d,`Failed to get document '${l} from cache`);c.reject(m)}})(await lu(r),e,t))),t.promise}function uI(r,e,t={}){const i=new an;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const _=new Om({next:w=>{_.Nu(),c.enqueueAndForget((()=>iv(l,E)));const R=w.docs.has(d);!R&&w.fromCache?g.reject(new ie(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&m&&m.source==="server"?g.reject(new ie(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new av(tu(d.path),_,{includeMetadataChanges:!0,qa:!0});return rv(l,E)})(await $l(r),r.asyncQueue,e,t,i))),i.promise}function S6(r,e){const t=new an;return r.asyncQueue.enqueueAndForget((async()=>(async function(a,l,c){try{const d=await Jf(a,l,!0),m=new eI(l,d.Qs),g=m.ru(d.documents),_=m.applyChanges(g,!1);c.resolve(_.snapshot)}catch(d){const m=ou(d,`Failed to execute query '${l} against cache`);c.reject(m)}})(await lu(r),e,t))),t.promise}function cI(r,e,t={}){const i=new an;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,g){const _=new Om({next:w=>{_.Nu(),c.enqueueAndForget((()=>iv(l,E))),w.fromCache&&m.source==="server"?g.reject(new ie(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new av(d,_,{includeMetadataChanges:!0,qa:!0});return rv(l,E)})(await $l(r),r.asyncQueue,e,t,i))),i.promise}function x6(r,e,t){const i=new an;return r.asyncQueue.enqueueAndForget((async()=>{try{const a=await lI(r);i.resolve((async function(c,d,m){const g=he(c),{request:_,gt:E,parent:w}=h1(g.serializer,Lx(d),m);g.connection.$o||delete _.parent;const R=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,w,_,1)).filter((L=>!!L.result));_e(R.length===1,64727);const k=R[0].result?.aggregateFields;return Object.keys(k).reduce(((L,j)=>(L[E[j]]=k[j],L)),{})})(a,e,t))}catch(a){i.reject(a)}})),i.promise}function I6(r,e){const t=new Om(e);return r.asyncQueue.enqueueAndForget((async()=>(function(a,l){he(a).Ca.add(l),l.next()})(await $l(r),t))),()=>{t.Nu(),r.asyncQueue.enqueueAndForget((async()=>(function(a,l){he(a).Ca.delete(l)})(await $l(r),t)))}}function R6(r,e,t,i){const a=(function(c,d){let m;return m=typeof c=="string"?n1().encode(c):c,(function(_,E){return new y6(_,E)})((function(_,E){if(_ instanceof Uint8Array)return rA(_,E);if(_ instanceof ArrayBuffer)return rA(new Uint8Array(_),E);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(m),d)})(t,vo(e));r.asyncQueue.enqueueAndForget((async()=>{g6(await gv(r),a,i)}))}function C6(r,e){return r.asyncQueue.enqueue((async()=>(function(i,a){const l=he(i);return l.persistence.runTransaction("Get named query","readonly",(c=>l.Ii.getNamedQuery(c,a)))})(await lu(r),e)))}function hI(r,e){return(function(i,a){return new _6(i,a)})(r,e)}function N6(r,e){return r.asyncQueue.enqueue((async()=>(async function(i,a){const l=he(i),c=l.indexManager,d=[];return l.persistence.runTransaction("Configure indexes","readwrite",(m=>c.getFieldIndexes(m).next((g=>(function(E,w,R,k,L){E=[...E],w=[...w],E.sort(R),w.sort(R);const j=E.length,J=w.length;let ne=0,G=0;for(;ne<J&&G<j;){const W=R(E[G],w[ne]);W<0?L(E[G++]):W>0?k(w[ne++]):(ne++,G++)}for(;ne<J;)k(w[ne++]);for(;G<j;)L(E[G++])})(g,a,SM,(_=>{d.push(c.addFieldIndex(m,_))}),(_=>{d.push(c.deleteFieldIndex(m,_))})))).next((()=>B.waitFor(d)))))})(await lu(r),e)))}function D6(r,e){return r.asyncQueue.enqueue((async()=>(function(i,a){he(i).Fs.Vs=a})(await lu(r),e)))}function V6(r){return r.asyncQueue.enqueue((async()=>(function(t){const i=he(t),a=i.indexManager;return i.persistence.runTransaction("Delete All Indexes","readwrite",(l=>a.deleteAllFieldIndexes(l)))})(await lu(r))))}function dI(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const sA=new Map;const fI="firestore.googleapis.com",aA=!0;class oA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ie(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fI,this.ssl=aA}else this.host=e.host,this.ssl=e.ssl??aA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=E1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A1)throw new ie(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dI(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Eh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new JS;switch(i.type){case"firstParty":return new _M(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ie(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=sA.get(t);i&&(oe("ComponentProvider","Removing Datastore"),sA.delete(t),i.terminate())})(this),Promise.resolve()}}function mI(r,e,t,i={}){r=Me(r,Eh);const a=na(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(cm(`https://${d}`),h_("Firestore",!0)),l.host!==fI&&l.host!==d&&Qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:i};if(!Nr(m,c)&&(r._setSettings(m),i.mockUserToken)){let g,_;if(typeof i.mockUserToken=="string")g=i.mockUserToken,_=sn.MOCK_USER;else{g=ZA(i.mockUserToken,r._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ie(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(E)}r._authCredentials=new pM(new XS(g,_))}}class Wt{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class rt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rt(this.firestore,e,this._key)}toJSON(){return{type:rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(_o(t,rt._jsonSchema))return new rt(e,i||null,new ue(Pe.fromString(t.referencePath)))}}rt._jsonSchemaVersion="firestore/documentReference/1.0",rt._jsonSchema={type:$t("string",rt._jsonSchemaVersion),referencePath:$t("string")};class Ir extends Wt{constructor(e,t,i){super(e,t,tu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rt(this.firestore,null,new ue(e))}withConverter(e){return new Ir(this.firestore,e,this._path)}}function Cf(r,e,...t){if(r=st(r),A_("collection","path",e),r instanceof Eh){const i=Pe.fromString(e,...t);return Yb(i),new Ir(r,null,i)}{if(!(r instanceof rt||r instanceof Ir))throw new ie(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Pe.fromString(e,...t));return Yb(i),new Ir(r.firestore,null,i)}}function O6(r,e){if(r=Me(r,Eh),A_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ie(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Wt(r,null,(function(i){return new $i(Pe.emptyPath(),i)})(e))}function Lc(r,e,...t){if(r=st(r),arguments.length===1&&(e=mm.newId()),A_("doc","path",e),r instanceof Eh){const i=Pe.fromString(e,...t);return $b(i),new rt(r,null,new ue(i))}{if(!(r instanceof rt||r instanceof Ir))throw new ie(Q.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Pe.fromString(e,...t));return $b(i),new rt(r.firestore,r instanceof Ir?r.converter:null,new ue(i))}}function P6(r,e){return r=st(r),e=st(e),(r instanceof rt||r instanceof Ir)&&(e instanceof rt||e instanceof Ir)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function yv(r,e){return r=st(r),e=st(e),r instanceof Wt&&e instanceof Wt&&r.firestore===e.firestore&&mh(r._query,e._query)&&r.converter===e.converter}const lA="AsyncQueue";class uA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new W_(this,"async_queue_retry"),this._c=()=>{const i=Rf();i&&oe(lA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Rf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Rf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new an;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!aa(e))throw e;oe(lA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Lt("INTERNAL UNHANDLED ERROR: ",cA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=nv.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&me(47125,{Pc:cA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function cA(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function Rl(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(r,["next","error","complete"])}class pI{constructor(){this._progressObserver={},this._taskCompletionResolver=new an,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const M6=-1;class ht extends Eh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new uA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uA(e),this._firestoreClient=void 0,await e}}}function k6(r,e,t){t||(t=$c);const i=Wl(r,"firestore");if(i.isInitialized(t)){const a=i.getImmediate({identifier:t}),l=i.getOptions(t);if(Nr(l,e))return a;throw new ie(Q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ie(Q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A1)throw new ie(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&na(e.host)&&cm(e.host),i.initialize({options:e,instanceIdentifier:t})}function gI(r,e){const t=typeof r=="object"?r:m_(),i=typeof r=="string"?r:e||$c,a=Wl(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=XA("firestore");l&&mI(a,...l)}return a}function St(r){if(r._terminated)throw new ie(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||yI(r),r._firestoreClient}function yI(r){const e=r._freezeSettings(),t=(function(a,l,c,d){return new sk(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,dI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new T6(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}function L6(r,e){Qn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=r._freezeSettings();return _I(r,ea.provider,{build:i=>new mv(i,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function j6(r){Qn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=r._freezeSettings();_I(r,ea.provider,{build:t=>new sI(t,e.cacheSizeBytes)})}function _I(r,e,t){if((r=Me(r,ht))._firestoreClient||r._terminated)throw new ie(Q.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(r._componentsProvider||r._getSettings().localCache)throw new ie(Q.FAILED_PRECONDITION,"SDK cache is already specified.");r._componentsProvider={_online:e,_offline:t},yI(r)}function U6(r){if(r._initialized&&!r._terminated)throw new ie(Q.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new an;return r._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(i){if(!oi.v())return Promise.resolve();const a=i+N1;await oi.delete(a)})($_(r._databaseId,r._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function z6(r){return(function(t){const i=new an;return t.asyncQueue.enqueueAndForget((async()=>s6(await gv(t),i))),i.promise})(St(r=Me(r,ht)))}function B6(r){return b6(St(r=Me(r,ht)))}function F6(r){return w6(St(r=Me(r,ht)))}function q6(r){return LV(r.app,"firestore",r._databaseId.database),r._delete()}function Xy(r,e){const t=St(r=Me(r,ht)),i=new pI;return R6(t,r._databaseId,e,i),i}function vI(r,e){return C6(St(r=Me(r,ht)),e).then((t=>t?new Wt(r,null,t.query):null))}class Yl{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class EI{constructor(e,t,i){this._userDataWriter=t,this._data=i,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Rt.fromBase64String(e))}catch(t){throw new ie(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_o(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:$t("string",Nn._jsonSchemaVersion),bytes:$t("string")};class ca{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ie(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function H6(){return new ca(Sy)}class ha{constructor(e){this._methodName=e}}class Rr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ie(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ie(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Rr._jsonSchemaVersion}}static fromJSON(e){if(_o(e,Rr._jsonSchema))return new Rr(e.latitude,e.longitude)}}Rr._jsonSchemaVersion="firestore/geoPoint/1.0",Rr._jsonSchema={type:$t("string",Rr._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};class lr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_o(e,lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new lr(e.vectorValues);throw new ie(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:$t("string",lr._jsonSchemaVersion),vectorValues:$t("object")};const G6=/^__.*__$/;class K6{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new nu(e,this.data,t,this.fieldTransforms)}}class TI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bI(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me(40011,{Ac:r})}}class Mm{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bI(this.Ac)&&G6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q6{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||vo(e)}Cc(e,t,i,a=!1){return new Mm({Ac:e,methodName:t,Dc:i,path:Et.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eo(r){const e=r._freezeSettings(),t=vo(r._databaseId);return new Q6(r._databaseId,!!e.ignoreUndefinedProperties,t)}function km(r,e,t,i,a,l={}){const c=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);Av("Data must be an object, but it was:",c,i);const d=SI(i,c);let m,g;if(l.merge)m=new Vn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const w=eh(e,E,t);if(!c.contains(w))throw new ie(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);II(_,w)||_.push(w)}m=new Vn(_),g=c.fieldTransforms.filter((E=>m.covers(E.field)))}else m=null,g=c.fieldTransforms;return new K6(new mn(d),m,g)}class Th extends ha{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function wI(r,e,t){return new Mm({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _v extends ha{_toFieldTransform(e){return new gh(e.path,new zl)}isEqual(e){return e instanceof _v}}class vv extends ha{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=wI(this,e,!0),i=this.vc.map((l=>To(l,t))),a=new lo(i);return new gh(e.path,a)}isEqual(e){return e instanceof vv&&Nr(this.vc,e.vc)}}class Ev extends ha{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=wI(this,e,!0),i=this.vc.map((l=>To(l,t))),a=new uo(i);return new gh(e.path,a)}isEqual(e){return e instanceof Ev&&Nr(this.vc,e.vc)}}class Tv extends ha{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Bl(e.serializer,Kx(e.serializer,this.Fc));return new gh(e.path,t)}isEqual(e){return e instanceof Tv&&this.Fc===e.Fc}}function bv(r,e,t,i){const a=r.Cc(1,e,t);Av("Data must be an object, but it was:",a,i);const l=[],c=mn.empty();oa(i,((m,g)=>{const _=Lm(e,m,t);g=st(g);const E=a.yc(_);if(g instanceof Th)l.push(_);else{const w=To(g,E);w!=null&&(l.push(_),c.set(_,w))}}));const d=new Vn(l);return new TI(c,d,a.fieldTransforms)}function wv(r,e,t,i,a,l){const c=r.Cc(1,e,t),d=[eh(e,i,t)],m=[a];if(l.length%2!=0)throw new ie(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(eh(e,l[w])),m.push(l[w+1]);const g=[],_=mn.empty();for(let w=d.length-1;w>=0;--w)if(!II(g,d[w])){const R=d[w];let k=m[w];k=st(k);const L=c.yc(R);if(k instanceof Th)g.push(R);else{const j=To(k,L);j!=null&&(g.push(R),_.set(R,j))}}const E=new Vn(g);return new TI(_,E,c.fieldTransforms)}function AI(r,e,t,i=!1){return To(t,r.Cc(i?4:3,e))}function To(r,e){if(xI(r=st(r)))return Av("Unsupported field value:",e,r),SI(r,e);if(r instanceof ha)return(function(i,a){if(!bI(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let m=To(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=st(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Kx(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=We.fromDate(i);return{timestampValue:Fl(a.serializer,l)}}if(i instanceof We){const l=new We(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fl(a.serializer,l)}}if(i instanceof Rr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nn)return{bytesValue:s1(a.serializer,i._byteString)};if(i instanceof rt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:F_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof lr)return(function(c,d){return{mapValue:{fields:{[D_]:{stringValue:V_},[Ll]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return k_(d.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${pm(i)}`)})(r,e)}function SI(r,e){const t={};return vx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(r,((i,a)=>{const l=To(a,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function xI(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof We||r instanceof Rr||r instanceof Nn||r instanceof rt||r instanceof ha||r instanceof lr)}function Av(r,e,t){if(!xI(t)||!ex(t)){const i=pm(t);throw i==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+i)}}function eh(r,e,t){if((e=st(e))instanceof ca)return e._internalPath;if(typeof e=="string")return Lm(r,e);throw tm("Field path arguments must be of type string or ",r,!1,void 0,t)}const $6=new RegExp("[~\\*/\\[\\]]");function Lm(r,e,t){if(e.search($6)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new ca(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function tm(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new ie(Q.INVALID_ARGUMENT,d+r+m)}function II(r,e){return r.some((t=>t.isEqual(e)))}class th{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Y6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Y6 extends th{data(){return super.data()}}function jm(r,e){return typeof e=="string"?Lm(r,e):e instanceof ca?e._internalPath:e._delegate._internalPath}function RI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ie(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sv{}class uu extends Sv{}function Jy(r,e,...t){let i=[];e instanceof Sv&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((m=>m instanceof bo)).length,d=l.filter((m=>m instanceof cu)).length;if(c>1||c>0&&d>0)throw new ie(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)r=a._apply(r);return r}class cu extends uu{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new cu(e,t,i)}_apply(e){const t=this._parse(e);return VI(e._query,t),new Wt(e.firestore,e.converter,ky(e._query,t))}_parse(e){const t=Eo(e.firestore);return(function(l,c,d,m,g,_,E){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ie(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){dA(E,_);const k=[];for(const L of E)k.push(hA(m,l,L));w={arrayValue:{values:k}}}else w=hA(m,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||dA(E,_),w=AI(d,c,E,_==="in"||_==="not-in");return qe.create(g,_,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function CI(r,e,t){const i=e,a=jm("where",r);return cu._create(a,i,t)}class bo extends Sv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bo(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:nt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)VI(c,m),c=ky(c,m)})(e._query,t),new Wt(e.firestore,e.converter,ky(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function X6(...r){return r.forEach((e=>OI("or",e))),bo._create("or",r)}function J6(...r){return r.forEach((e=>OI("and",e))),bo._create("and",r)}class Um extends uu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Um(e,t)}_apply(e){const t=(function(a,l,c){if(a.startAt!==null)throw new ie(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ie(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(l,c)})(e._query,this._field,this._direction);return new Wt(e.firestore,e.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new $i(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,t))}}function NI(r,e="asc"){const t=e,i=jm("orderBy",r);return Um._create(i,t)}class bh extends uu{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new bh(e,t,i)}_apply(e){return new Wt(e.firestore,e.converter,Kf(e._query,this._limit,this._limitType))}}function W6(r){return tx("limit",r),bh._create("limit",r,"F")}function Z6(r){return tx("limitToLast",r),bh._create("limitToLast",r,"L")}class wh extends uu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new wh(e,t,i)}_apply(e){const t=DI(e,this.type,this._docOrFields,this._inclusive);return new Wt(e.firestore,e.converter,(function(a,l){return new $i(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(e._query,t))}}function eL(...r){return wh._create("startAt",r,!0)}function tL(...r){return wh._create("startAfter",r,!1)}class Ah extends uu{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Ah(e,t,i)}_apply(e){const t=DI(e,this.type,this._docOrFields,this._inclusive);return new Wt(e.firestore,e.converter,(function(a,l){return new $i(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)})(e._query,t))}}function nL(...r){return Ah._create("endBefore",r,!1)}function rL(...r){return Ah._create("endAt",r,!0)}function DI(r,e,t,i){if(t[0]=st(t[0]),t[0]instanceof th)return(function(l,c,d,m,g){if(!m)throw new ie(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const _=[];for(const E of Il(l))if(E.field.isKeyField())_.push(ao(c,m.key));else{const w=m.data.field(E.field);if(Em(w))throw new ie(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const R=E.field.canonicalString();throw new ie(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}_.push(w)}return new Ws(_,g)})(r._query,r.firestore._databaseId,e,t[0]._document,i);{const a=Eo(r.firestore);return(function(c,d,m,g,_,E){const w=c.explicitOrderBy;if(_.length>w.length)throw new ie(Q.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let k=0;k<_.length;k++){const L=_[k];if(w[k].field.isKeyField()){if(typeof L!="string")throw new ie(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof L}`);if(!P_(c)&&L.indexOf("/")!==-1)throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${L}' contains a slash.`);const j=c.path.child(Pe.fromString(L));if(!ue.isDocumentKey(j))throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${j}' is not because it contains an odd number of segments.`);const J=new ue(j);R.push(ao(d,J))}else{const j=AI(m,g,L);R.push(j)}}return new Ws(R,E)})(r._query,r.firestore._databaseId,a,e,t,i)}}function hA(r,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new ie(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P_(e)&&t.indexOf("/")!==-1)throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Pe.fromString(t));if(!ue.isDocumentKey(i))throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ao(r,new ue(i))}if(t instanceof rt)return ao(r,t._key);throw new ie(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(t)}.`)}function dA(r,e){if(!Array.isArray(r)||r.length===0)throw new ie(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VI(r,e){const t=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ie(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function OI(r,e){if(!(e instanceof cu||e instanceof bo))throw new ie(Q.INVALID_ARGUMENT,`Function ${r}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class xv{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return oa(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Ll].arrayValue?.values?.map((i=>wt(i.doubleValue)));return new lr(t)}convertGeoPoint(e){return new Rr(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Tm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Qc(e));default:return null}}convertTimestamp(e){const t=Gi(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pe.fromString(e);_e(p1(i),9688,{name:e});const a=new Ys(i.get(1),i.get(3)),l=new ue(i.popFirst(5));return a.isEqual(t)||Lt(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function zm(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Iv extends xv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,t)}}function iL(r){return new Yl("sum",eh("sum",r))}function sL(r){return new Yl("avg",eh("average",r))}function PI(){return new Yl("count")}function aL(r,e){return r instanceof Yl&&e instanceof Yl&&r.aggregateType===e.aggregateType&&r._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function oL(r,e){return yv(r.query,e.query)&&Nr(r.data(),e.data())}const MI="NOT SUPPORTED";class Ui{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pn extends th{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(jm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Pn._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}function lL(r,e,t){if(_o(e,Pn._jsonSchema)){if(e.bundle===MI)throw new ie(Q.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const i=vo(r._databaseId),a=hI(e.bundle,i),l=a.Wu(),c=new ov(a.getMetadata(),i);for(const _ of l)c.Ga(_);const d=c.documents;if(d.length!==1)throw new ie(Q.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${d.length} documents.`);const m=Sm(i,d[0].document),g=new ue(Pe.fromString(e.bundleName));return new Pn(r,new Iv(r),g,m,new Ui(!1,!1),t||null)}}Pn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pn._jsonSchema={type:$t("string",Pn._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class jc extends Pn{data(e={}){return super.data(e)}}class Mn{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ui(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new jc(this._firestore,this._userDataWriter,i.key,i,new Ui(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ie(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new jc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ui(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new jc(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Ui(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:cL(d.type),doc:m,oldIndex:g,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ie(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mn._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uL(r,e,t){if(_o(e,Mn._jsonSchema)){if(e.bundle===MI)throw new ie(Q.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const i=vo(r._databaseId),a=hI(e.bundle,i),l=a.Wu(),c=new ov(a.getMetadata(),i);for(const w of l)c.Ga(w);if(c.queries.length!==1)throw new ie(Q.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${c.queries.length} queries.`);const d=Im(c.queries[0].bundledQuery),m=c.documents;let g=new no;m.map((w=>{const R=Sm(i,w.document);g=g.add(R)}));const _=po.fromInitialDocuments(d,g,Ce(),!1,!1),E=new Wt(r,t||null,d);return new Mn(r,new Iv(r),E,_)}}function cL(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me(61501,{type:r})}}function hL(r,e){return r instanceof Pn&&e instanceof Pn?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(r._document===null?e._document===null:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof Mn&&e instanceof Mn&&r._firestore===e._firestore&&yv(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function dL(r){r=Me(r,rt);const e=Me(r.firestore,ht);return uI(St(e),r._key).then((t=>Rv(e,r,t)))}Mn._jsonSchemaVersion="firestore/querySnapshot/1.0",Mn._jsonSchema={type:$t("string",Mn._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class da extends xv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rt(this.firestore,null,t)}}function fL(r){r=Me(r,rt);const e=Me(r.firestore,ht),t=St(e),i=new da(e);return A6(t,r._key).then((a=>new Pn(e,i,r._key,a,new Ui(a!==null&&a.hasLocalMutations,!0),r.converter)))}function mL(r){r=Me(r,rt);const e=Me(r.firestore,ht);return uI(St(e),r._key,{source:"server"}).then((t=>Rv(e,r,t)))}function Wy(r){r=Me(r,Wt);const e=Me(r.firestore,ht),t=St(e),i=new da(e);return RI(r._query),cI(t,r._query).then((a=>new Mn(e,i,r,a)))}function pL(r){r=Me(r,Wt);const e=Me(r.firestore,ht),t=St(e),i=new da(e);return S6(t,r._query).then((a=>new Mn(e,i,r,a)))}function gL(r){r=Me(r,Wt);const e=Me(r.firestore,ht),t=St(e),i=new da(e);return cI(t,r._query,{source:"server"}).then((a=>new Mn(e,i,r,a)))}function yL(r,e,t){r=Me(r,rt);const i=Me(r.firestore,ht),a=zm(r.converter,e,t);return hu(i,[km(Eo(i),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,At.none())])}function kI(r,e,t,...i){r=Me(r,rt);const a=Me(r.firestore,ht),l=Eo(a);let c;return c=typeof(e=st(e))=="string"||e instanceof ca?wv(l,"updateDoc",r._key,e,t,i):bv(l,"updateDoc",r._key,e),hu(a,[c.toMutation(r._key,At.exists(!0))])}function LI(r){return hu(Me(r.firestore,ht),[new ru(r._key,At.none())])}function jI(r,e){const t=Me(r.firestore,ht),i=Lc(r),a=zm(r.converter,e);return hu(t,[km(Eo(r.firestore),"addDoc",i._key,a,r.converter!==null,{}).toMutation(i._key,At.exists(!1))]).then((()=>i))}function Zy(r,...e){r=st(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Rl(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Rl(e[i])){const m=e[i];e[i]=m.next?.bind(m),e[i+1]=m.error?.bind(m),e[i+2]=m.complete?.bind(m)}let l,c,d;if(r instanceof rt)c=Me(r.firestore,ht),d=tu(r._key.path),l={next:m=>{e[i]&&e[i](Rv(c,r,m))},error:e[i+1],complete:e[i+2]};else{const m=Me(r,Wt);c=Me(m.firestore,ht),d=m._query;const g=new da(c);l={next:_=>{e[i]&&e[i](new Mn(c,g,m,_))},error:e[i+1],complete:e[i+2]},RI(r._query)}return(function(g,_,E,w){const R=new Om(w),k=new av(_,R,E);return g.asyncQueue.enqueueAndForget((async()=>rv(await $l(g),k))),()=>{R.Nu(),g.asyncQueue.enqueueAndForget((async()=>iv(await $l(g),k)))}})(St(c),d,a,l)}function _L(r,e,...t){const i=st(r),a=(function(m){const g={bundle:"",bundleName:"",bundleSource:""},_=["bundle","bundleName","bundleSource"];for(const E of _){if(!(E in m)){g.error=`snapshotJson missing required field: ${E}`;break}const w=m[E];if(typeof w!="string"){g.error=`snapshotJson field '${E}' must be a string.`;break}if(w.length===0){g.error=`snapshotJson field '${E}' cannot be an empty string.`;break}E==="bundle"?g.bundle=w:E==="bundleName"?g.bundleName=w:E==="bundleSource"&&(g.bundleSource=w)}return g})(e);if(a.error)throw new ie(Q.INVALID_ARGUMENT,a.error);let l,c=0;if(typeof t[c]!="object"||Rl(t[c])||(l=t[c++]),a.bundleSource==="QuerySnapshot"){let d=null;if(typeof t[c]=="object"&&Rl(t[c])){const m=t[c++];d={next:m.next,error:m.error,complete:m.complete}}else d={next:t[c++],error:t[c++],complete:t[c++]};return(function(g,_,E,w,R){let k,L=!1;return Xy(g,_.bundle).then((()=>vI(g,_.bundleName))).then((J=>{J&&!L&&(R&&J.withConverter(R),k=Zy(J,E||{},w))})).catch((J=>(w.error&&w.error(J),()=>{}))),()=>{L||(L=!0,k&&k())}})(i,a,l,d,t[c])}if(a.bundleSource==="DocumentSnapshot"){let d=null;if(typeof t[c]=="object"&&Rl(t[c])){const m=t[c++];d={next:m.next,error:m.error,complete:m.complete}}else d={next:t[c++],error:t[c++],complete:t[c++]};return(function(g,_,E,w,R){let k,L=!1;return Xy(g,_.bundle).then((()=>{if(!L){const J=new rt(g,R||null,ue.fromPath(_.bundleName));k=Zy(J,E||{},w)}})).catch((J=>(w.error&&w.error(J),()=>{}))),()=>{L||(L=!0,k&&k())}})(i,a,l,d,t[c])}throw new ie(Q.INVALID_ARGUMENT,`unsupported bundle source: ${a.bundleSource}`)}function vL(r,e){return I6(St(r=Me(r,ht)),Rl(e)?e:{next:e})}function hu(r,e){return(function(i,a){const l=new an;return i.asyncQueue.enqueueAndForget((async()=>t6(await gv(i),a,l))),l.promise})(St(r),e)}function Rv(r,e,t){const i=t.docs.get(e._key),a=new da(r);return new Pn(r,a,e._key,i,new Ui(t.hasPendingWrites,t.fromCache),e.converter)}function EL(r){return UI(r,{count:PI()})}function UI(r,e){const t=Me(r.firestore,ht),i=St(t),a=_x(e,((l,c)=>new Zx(c,l.aggregateType,l._internalFieldPath)));return x6(i,r._query,a).then((l=>(function(d,m,g){const _=new da(d);return new EI(m,_,g)})(t,r,l)))}class TL{constructor(e){this.kind="memory",this._onlineComponentProvider=ea.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new fv(void 0)}}toJSON(){return{kind:this.kind}}}class bL{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=zI(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class wL{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Ql.provider}toJSON(){return{kind:this.kind}}}class AL{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new fv(e)}}toJSON(){return{kind:this.kind}}}function SL(){return new wL}function xL(r){return new AL(r?.cacheSizeBytes)}function IL(r){return new TL(r)}function RL(r){return new bL(r)}class CL{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ea.provider,this._offlineComponentProvider={build:t=>new mv(t,e?.cacheSizeBytes,this.forceOwnership)}}}class NL{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=ea.provider,this._offlineComponentProvider={build:t=>new sI(t,e?.cacheSizeBytes)}}}function zI(r){return new CL(r?.forceOwnership)}function DL(){return new NL}const VL={maxAttempts:5};class BI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Eo(e)}set(e,t,i){this._verifyNotCommitted();const a=Bs(e,this._firestore),l=zm(a.converter,t,i),c=km(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,At.none())),this}update(e,t,i,...a){this._verifyNotCommitted();const l=Bs(e,this._firestore);let c;return c=typeof(t=st(t))=="string"||t instanceof ca?wv(this._dataReader,"WriteBatch.update",l._key,t,i,a):bv(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Bs(e,this._firestore);return this._mutations=this._mutations.concat(new ru(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ie(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bs(r,e){if((r=st(r)).firestore!==e)throw new ie(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class OL{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Eo(e)}get(e){const t=Bs(e,this._firestore),i=new Iv(this._firestore);return this._transaction.lookup([t._key]).then((a=>{if(!a||a.length!==1)return me(24041);const l=a[0];if(l.isFoundDocument())return new th(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new th(this._firestore,i,t._key,null,t.converter);throw me(18433,{doc:l})}))}set(e,t,i){const a=Bs(e,this._firestore),l=zm(a.converter,t,i),c=km(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,c),this}update(e,t,i,...a){const l=Bs(e,this._firestore);let c;return c=typeof(t=st(t))=="string"||t instanceof ca?wv(this._dataReader,"Transaction.update",l._key,t,i,a):bv(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=Bs(e,this._firestore);return this._transaction.delete(t._key),this}}class FI extends OL{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Bs(e,this._firestore),i=new da(this._firestore);return super.get(e).then((a=>new Pn(this._firestore,i,t._key,a._document,new Ui(!1,!1),t.converter)))}}function PL(r,e,t){r=Me(r,ht);const i={...VL,...t};return(function(l){if(l.maxAttempts<1)throw new ie(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(l,c,d){const m=new an;return l.asyncQueue.enqueueAndForget((async()=>{const g=await lI(l);new E6(l.asyncQueue,g,d,c,m).ju()})),m.promise})(St(r),(a=>e(new FI(r,a))),i)}function ML(){return new Th("deleteField")}function kL(){return new _v("serverTimestamp")}function LL(...r){return new vv("arrayUnion",r)}function jL(...r){return new Ev("arrayRemove",r)}function UL(r){return new Tv("increment",r)}function zL(r){return new lr(r)}function BL(r){return St(r=Me(r,ht)),new BI(r,(e=>hu(r,e)))}function FL(r,e){const t=St(r=Me(r,ht));if(!t._uninitializedComponentsProvider||t._uninitializedComponentsProvider._offline.kind==="memory")return Qn("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=(function(l){const c=typeof l=="string"?(function(g){try{return JSON.parse(g)}catch(_){throw new ie(Q.INVALID_ARGUMENT,"Failed to parse JSON: "+_?.message)}})(l):l,d=[];if(Array.isArray(c.indexes))for(const m of c.indexes){const g=fA(m,"collectionGroup"),_=[];if(Array.isArray(m.fields))for(const E of m.fields){const w=Lm("setIndexConfiguration",fA(E,"fieldPath"));E.arrayConfig==="CONTAINS"?_.push(new eo(w,2)):E.order==="ASCENDING"?_.push(new eo(w,0)):E.order==="DESCENDING"&&_.push(new eo(w,1))}d.push(new Dl(Dl.UNKNOWN_ID,g,_,Vl.empty()))}return d})(e);return N6(t,i)}function fA(r,e){if(typeof r[e]!="string")throw new ie(Q.INVALID_ARGUMENT,"Missing string value for: "+e);return r[e]}class qI{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function qL(r){r=Me(r,ht);const e=mA.get(r);if(e)return e;if(St(r)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const i=new qI(r);return mA.set(r,i),i}function HL(r){HI(r,!0)}function GL(r){HI(r,!1)}function KL(r){V6(St(r._firestore)).then((e=>oe("deleting all persistent cache indexes succeeded"))).catch((e=>Qn("deleting all persistent cache indexes failed",e)))}function HI(r,e){D6(St(r._firestore),e).then((t=>oe(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((t=>Qn(`setting persistent cache index auto creation isEnabled=${e} failed`,t)))}const mA=new WeakMap;function QL(r){const e=St(Me(r.firestore,ht)),t=e._onlineComponents?.datastore.serializer;return t===void 0?null:xm(t,vn(r._query)).ft}function $L(r,e){const t=_x(e,((l,c)=>new Zx(c,l.aggregateType,l._internalFieldPath))),i=St(Me(r.firestore,ht)),a=i._onlineComponents?.datastore.serializer;return a===void 0?null:h1(a,Lx(r._query),t,!0).request}class YL{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return Cv.instance.onExistenceFilterMismatch(e)}}class Cv{constructor(){this.Mc=new Map}static get instance(){return cf||(cf=new Cv,(function(t){if(Ly)throw new Error("a TestingHooksSpi instance is already set");Ly=t})(cf)),cf}lt(e){this.Mc.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),i=this.Mc;return i.set(t,e),()=>i.delete(t)}}let cf=null;(function(e,t=!0){(function(a){eu=a})(go),ro(new Qs("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new ht(new gM(i.getProvider("auth-internal")),new vM(c,i.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ie(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ys(g.options.projectId,_)})(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ii(Kb,Qb,e),ii(Kb,Qb,"esm2020")})();const XL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:xv,AggregateField:Yl,AggregateQuerySnapshot:EI,Bytes:Nn,CACHE_SIZE_UNLIMITED:M6,CollectionReference:Ir,DocumentReference:rt,DocumentSnapshot:Pn,FieldPath:ca,FieldValue:ha,Firestore:ht,FirestoreError:ie,GeoPoint:Rr,LoadBundleTask:pI,PersistentCacheIndexManager:qI,Query:Wt,QueryCompositeFilterConstraint:bo,QueryConstraint:uu,QueryDocumentSnapshot:jc,QueryEndAtConstraint:Ah,QueryFieldFilterConstraint:cu,QueryLimitConstraint:bh,QueryOrderByConstraint:Um,QuerySnapshot:Mn,QueryStartAtConstraint:wh,SnapshotMetadata:Ui,Timestamp:We,Transaction:FI,VectorValue:lr,WriteBatch:BI,_AutoId:mm,_ByteString:Rt,_DatabaseId:Ys,_DocumentKey:ue,_EmptyAppCheckTokenProvider:EM,_EmptyAuthCredentialsProvider:JS,_FieldPath:Et,_TestingHooks:YL,_cast:Me,_debugAssert:mM,_internalAggregationQueryToProtoRunAggregationQueryRequest:$L,_internalQueryToProtoQueryTarget:QL,_isBase64Available:rk,_logWarn:Qn,_validateIsNotUsedTogether:ZS,addDoc:jI,aggregateFieldEqual:aL,aggregateQuerySnapshotEqual:oL,and:J6,arrayRemove:jL,arrayUnion:LL,average:sL,clearIndexedDbPersistence:U6,collection:Cf,collectionGroup:O6,connectFirestoreEmulator:mI,count:PI,deleteAllPersistentCacheIndexes:KL,deleteDoc:LI,deleteField:ML,disableNetwork:F6,disablePersistentCacheIndexAutoCreation:GL,doc:Lc,documentId:H6,documentSnapshotFromJSON:lL,enableIndexedDbPersistence:L6,enableMultiTabIndexedDbPersistence:j6,enableNetwork:B6,enablePersistentCacheIndexAutoCreation:HL,endAt:rL,endBefore:nL,ensureFirestoreConfigured:St,executeWrite:hu,getAggregateFromServer:UI,getCountFromServer:EL,getDoc:dL,getDocFromCache:fL,getDocFromServer:mL,getDocs:Wy,getDocsFromCache:pL,getDocsFromServer:gL,getFirestore:gI,getPersistentCacheIndexManager:qL,increment:UL,initializeFirestore:k6,limit:W6,limitToLast:Z6,loadBundle:Xy,memoryEagerGarbageCollector:SL,memoryLocalCache:IL,memoryLruGarbageCollector:xL,namedQuery:vI,onSnapshot:Zy,onSnapshotResume:_L,onSnapshotsInSync:vL,or:X6,orderBy:NI,persistentLocalCache:RL,persistentMultipleTabManager:DL,persistentSingleTabManager:zI,query:Jy,queryEqual:yv,querySnapshotFromJSON:uL,refEqual:P6,runTransaction:PL,serverTimestamp:kL,setDoc:yL,setIndexConfiguration:FL,setLogLevel:fM,snapshotEqual:hL,startAfter:tL,startAt:eL,sum:iL,terminate:q6,updateDoc:kI,vector:zL,waitForPendingWrites:z6,where:CI,writeBatch:BL},Symbol.toStringTag,{value:"Module"}));const GI="firebasestorage.googleapis.com",JL="storageBucket",WL=120*1e3,ZL=600*1e3;class fi extends di{constructor(e,t,i=0){super(uy(e),`Firebase Storage: ${t} (${uy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ci;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ci||(ci={}));function uy(r){return"storage/"+r}function e3(){const r="An unknown error occurred, please check the error payload for server response.";return new fi(ci.UNKNOWN,r)}function t3(){return new fi(ci.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n3(){return new fi(ci.CANCELED,"User canceled the upload/download.")}function r3(r){return new fi(ci.INVALID_URL,"Invalid URL '"+r+"'.")}function i3(r){return new fi(ci.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function pA(r){return new fi(ci.INVALID_ARGUMENT,r)}function KI(){return new fi(ci.APP_DELETED,"The Firebase app was deleted.")}function s3(r){return new fi(ci.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class xr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=xr.makeFromUrl(e,t)}catch{return new xr(e,"")}if(i.path==="")return i;throw i3(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function g(W){W.path_=decodeURIComponent(W.path)}const _="v[A-Za-z0-9_]+",E=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${E}/${_}/b/${a}/o${w}`,"i"),k={bucket:1,path:3},L=t===GI?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",J=new RegExp(`^https?://${L}/${a}/${j}`,"i"),G=[{regex:d,indices:m,postModify:l},{regex:R,indices:k,postModify:g},{regex:J,indices:{bucket:1,path:2},postModify:g}];for(let W=0;W<G.length;W++){const le=G[W],pe=le.regex.exec(e);if(pe){const C=pe[le.indices.bucket];let I=pe[le.indices.path];I||(I=""),i=new xr(C,I),le.postModify(i);break}}if(i==null)throw r3(e);return i}}class a3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function o3(r,e,t){let i=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let g=!1;function _(...j){g||(g=!0,e.apply(null,j))}function E(j){a=setTimeout(()=>{a=null,r(R,m())},j)}function w(){l&&clearTimeout(l)}function R(j,...J){if(g){w();return}if(j){w(),_.call(null,j,...J);return}if(m()||c){w(),_.call(null,j,...J);return}i<64&&(i*=2);let G;d===1?(d=2,G=0):G=(i+Math.random())*1e3,E(G)}let k=!1;function L(j){k||(k=!0,w(),!g&&(a!==null?(j||(d=2),clearTimeout(a),E(0)):j||(d=1)))}return E(0),l=setTimeout(()=>{c=!0,L(!0)},t),L}function l3(r){r(!1)}function u3(r){return r!==void 0}function gA(r,e,t,i){if(i<e)throw pA(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>t)throw pA(`Invalid value for '${r}'. Expected ${t} or less.`)}function c3(r){const e=encodeURIComponent;let t="?";for(const i in r)if(r.hasOwnProperty(i)){const a=e(i)+"="+e(r[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var nm;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(nm||(nm={}));function h3(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||a||l}class d3{constructor(e,t,i,a,l,c,d,m,g,_,E,w=!0,R=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=E,this.retry=w,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,L)=>{this.resolve_=k,this.reject_=L,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new hf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===nm.NO_ERROR,m=l.getStatus();if(!d||h3(m,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===nm.ABORT;i(!1,new hf(!1,null,_));return}const g=this.successCodes_.indexOf(m)!==-1;i(!0,new hf(g,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());u3(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=e3();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?KI():n3();c(m)}else{const m=t3();c(m)}};this.canceled_?t(!1,new hf(!1,null,!0)):this.backoffId_=o3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&l3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function f3(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function m3(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p3(r,e){e&&(r["X-Firebase-GMPID"]=e)}function g3(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function y3(r,e,t,i,a,l,c=!0,d=!1){const m=c3(r.urlParams),g=r.url+m,_=Object.assign({},r.headers);return p3(_,e),f3(_,t),m3(_,l),g3(_,i),new d3(g,r.method,_,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,c,d)}function _3(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function v3(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}class rm{constructor(e,t){this._service=e,t instanceof xr?this._location=t:this._location=xr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new rm(e,t)}get root(){const e=new xr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v3(this._location.path)}get storage(){return this._service}get parent(){const e=_3(this._location.path);if(e===null)return null;const t=new xr(this._location.bucket,e);return new rm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw s3(e)}}function yA(r,e){const t=e?.[JL];return t==null?null:xr.makeFromBucketSpec(t,r)}function E3(r,e,t,i={}){r.host=`${e}:${t}`;const a=na(e);a&&(cm(`https://${r.host}/b`),h_("Storage",!0)),r._isUsingEmulator=!0,r._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(r._overrideAuthToken=typeof l=="string"?l:ZA(l,r.app.options.projectId))}class T3{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=GI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WL,this._maxUploadRetryTime=ZL,this._requests=new Set,a!=null?this._bucket=xr.makeFromBucketSpec(a,this._host):this._bucket=yA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xr.makeFromBucketSpec(this._url,e):this._bucket=yA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rm(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new a3(KI());{const c=y3(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const _A="@firebase/storage",vA="0.14.0";const QI="storage";function b3(r=m_(),e){r=st(r);const i=Wl(r,QI).getImmediate({identifier:e}),a=XA("storage");return a&&w3(i,...a),i}function w3(r,e,t,i={}){E3(r,e,t,i)}function A3(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new T3(t,i,a,e,go)}function S3(){ro(new Qs(QI,A3,"PUBLIC").setMultipleInstances(!0)),ii(_A,vA,""),ii(_A,vA,"esm2020")}S3();const x3={apiKey:"AIzaSyBkxA8j3wMKe35OmBaC5I66dIEIVBp5wCY",authDomain:"achariyacareerportal.firebaseapp.com",projectId:"achariyacareerportal",storageBucket:"achariyacareerportal.firebasestorage.app",messagingSenderId:"833209254200",appId:"1:833209254200:web:503076e5609d334121c1cd"},Nv=aS(x3),df=hM(Nv),gl=gI(Nv);b3(Nv);const yl="jobs",cy=(r,e)=>({id:r,...e,location:Array.isArray(e.location)?e.location:e.location?[e.location]:[]}),Fs={getAllJobs:async()=>{try{const r=Jy(Cf(gl,yl),NI("createdAt","desc"));return(await Wy(r)).docs.map(t=>cy(t.id,t.data()))}catch(r){throw console.error("Error fetching jobs:",r),r}},getJobById:async r=>{try{const e=Lc(gl,yl,r),t=await yD(()=>Promise.resolve().then(()=>XL),[]).then(i=>i.getDoc(e));return t.exists()?cy(t.id,t.data()):null}catch(e){throw console.error("Error fetching job by ID:",e),e}},getJobByApplicationId:async r=>{try{const e=Jy(Cf(gl,yl),CI("applicationId","==",r)),t=await Wy(e);if(!t.empty){const i=t.docs[0];return cy(i.id,i.data())}return null}catch(e){throw console.error("Error fetching job by Application ID:",e),e}},addJob:async r=>{try{return(await jI(Cf(gl,yl),{...r,createdAt:new Date().toISOString()})).id}catch(e){throw console.error("Error adding job:",e),e}},updateJob:async(r,e)=>{try{const t=Lc(gl,yl,r),{id:i,...a}=e;await kI(t,a)}catch(t){throw console.error("Error updating job:",t),t}},deleteJob:async r=>{try{await LI(Lc(gl,yl,r))}catch(e){throw console.error("Error deleting job:",e),e}}},I3="/assets/college_campus_modern_1767347532376-DvXjtGmV.png",R3="/assets/school_modern_classroom_1767347506078-S4Yg-54F.png",C3="/assets/corporate_modern_office_1767347559347-Dpg8oMzW.png";function N3(){const[r,e]=F.useState({School:0,College:0,Corporate:0}),[t,i]=F.useState(!0);F.useEffect(()=>{(async()=>{try{const d=await Fs.getAllJobs();e({School:d.filter(m=>m.category==="School").length,College:d.filter(m=>m.category==="College").length,Corporate:d.filter(m=>m.category==="Corporate").length})}catch(d){console.error(d)}finally{i(!1)}})()},[]);const a=c=>t?"":r[c],l=r.School+r.College+r.Corporate;return v.jsxs("div",{className:"min-h-screen font-sans text-gray-900 overflow-x-hidden",children:[v.jsxs("main",{className:" bg-white/70 container mx-auto",children:[v.jsxs("section",{className:"text-center py-16 max-w-4xl mx-auto",children:[v.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold mb-4",children:["Build Your Career with"," ",v.jsx("span",{className:"text-[#C72323]",children:"Achariya"})]}),v.jsx("p",{className:"text-lg text-gray-600",children:"Join a multi-institutional education group shaping future leaders across Schools, Colleges, and Corporate divisions."})]}),v.jsx("section",{className:"max-w-6xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-6 mb-20",children:[{label:"Institutions",value:"36+"},{label:"Employees",value:"2500+"},{label:"Years of Excellence",value:"25+"},{label:"Open Positions",value:l}].map((c,d)=>v.jsxs("div",{className:"bg-white rounded-xl border shadow-sm py-8 text-center hover:shadow-md transition",children:[v.jsx("p",{className:"text-3xl font-extrabold text-[#C72323]",children:t?"":c.value}),v.jsx("p",{className:"text-sm text-gray-600 mt-2",children:c.label})]},d))}),v.jsx("hr",{className:"py-4 pb-12 container mx-12"}),v.jsxs("section",{className:"max-w-4xl mx-auto text-center px-6 mb-12",children:[v.jsxs("h2",{className:"text-3xl font-bold mb-4",children:["Who We Are ",v.jsx("span",{className:"text-[#C72323]",children:"?"})]}),v.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:"Achariya is committed to academic excellence, innovation, and inclusive growth. We empower educators, administrators, and professionals to build meaningful long-term careers."}),v.jsx("div",{className:"mt-4 flex flex-wrap justify-center gap-6 text-sm",children:["Ethical Leadership","Transparent Hiring","Career Growth"].map((c,d)=>v.jsxs("span",{className:"flex items-center gap-2 text-gray-700",children:[v.jsx(C2,{className:"text-green-600 w-5 h-5"}),c]},d))})]}),v.jsx("section",{id:"categories",className:"max-w-7xl mx-auto px-6 mb-24",children:v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{title:"School",img:R3,icon:v.jsx(b2,{}),desc:"Teaching & Non-Teaching roles",count:a("School"),link:"/school"},{title:"College",img:I3,icon:v.jsx(k2,{}),desc:"Faculty & Academic roles",count:a("College"),link:"/college"},{title:"Corporate",img:C3,icon:v.jsx(E2,{}),desc:"Tech, HR & Management roles",count:a("Corporate"),link:"/corporate"}].map((c,d)=>v.jsxs(ur,{to:c.link,className:"group relative h-96 rounded-xl overflow-hidden shadow-xl hover:-translate-y-2 transition-all",children:[v.jsx("img",{src:c.img,alt:c.title,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),v.jsxs("span",{className:"absolute top-4 right-4 bg-white text-black px-3 py-1 rounded-full text-sm font-semibold shadow",children:[c.count," Openings"]}),v.jsxs("div",{className:"absolute bottom-0 p-6 text-white",children:[v.jsx("div",{className:"w-12 h-12 bg-[#C72323] rounded-lg flex items-center justify-center mb-4",children:c.icon}),v.jsx("h3",{className:"text-2xl font-bold mb-1",children:c.title}),v.jsx("p",{className:"text-sm text-white/80 mb-4",children:c.desc}),v.jsxs("span",{className:"inline-flex items-center gap-2 bg-white text-black px-4 py-2 rounded-full font-medium",children:["View Openings ",v.jsx(_2,{size:16})]})]})]},d))})}),v.jsxs("section",{className:"py-20 text-center bg-gradient-to-r from-[#C72323] to-red-700 text-white",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Shape the Future?"}),v.jsx("p",{className:"max-w-xl mx-auto mb-8 text-white/90",children:"Explore opportunities and become part of a growing education ecosystem."}),v.jsx("button",{onClick:()=>document.getElementById("categories")?.scrollIntoView({behavior:"smooth"}),className:"bg-white text-[#C72323] px-8 py-4 rounded-full font-semibold hover:scale-105 transition",children:"View All Openings"})]}),v.jsx("section",{className:"bg-white/70 py-20",children:v.jsxs("div",{className:"max-w-6xl bg-white/70 mx-auto px-6",children:[v.jsxs("h2",{className:"text-3xl font-bold text-center mb-12",children:["Why Choose Achariya ",v.jsx("span",{className:"text-[#C72323]",children:"?"})]}),v.jsx("div",{className:"bg-white/70 grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:v.jsx(j2,{}),title:"Inclusive Culture",desc:"Respect, diversity, and collaboration at every level."},{icon:v.jsx(aD,{}),title:"Career Growth",desc:"Clear pathways, learning programs, and mentorship."},{icon:v.jsx(mD,{}),title:"Impactful Work",desc:"Contribute to meaningful education initiatives."}].map((c,d)=>v.jsxs("div",{className:"bg-white/70 border border-gray-300 p-8 rounded-xl shadow-sm hover:shadow-md transition text-center",children:[v.jsx("div",{className:"w-12 h-12 mx-auto bg-[#C72323]/10 text-[#C72323] rounded-full flex items-center justify-center mb-4",children:c.icon}),v.jsx("h3",{className:"font-bold mb-2",children:c.title}),v.jsx("p",{className:"text-gray-600 text-sm",children:c.desc})]},d))})]})})]}),v.jsxs("footer",{className:"bg-gray-900 text-gray-400 py-10 text-center",children:[v.jsx("p",{className:"text-white font-semibold mb-2",children:"Achariya Careers"}),v.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," Achariya Group. All rights reserved."]})]})]})}function D3({openings:r}){const e=sm();return v.jsx("section",{className:"space-y-12 backdrop-blur-sm bg-white/60 p-6 rounded-2xl",children:v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4",children:r.map(t=>v.jsxs("button",{onClick:()=>{const i=t.applicationId||t.id;e(`/${t.category}/${i}`)},className:"border border-gray-200 text-left transition-all p-6 rounded-xl flex flex-col h-full hover:border-gray-400 hover:shadow-md",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:t.roleTitle}),v.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-gray-600 mb-4",children:[t.department==="-"||t.department===""?null:v.jsxs("span",{className:"flex items-center",children:[v.jsx(om,{className:"w-4 h-4 mr-1 shrink-0"}),v.jsx("span",{className:"truncate",children:t.department})]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx(lm,{className:"w-4 h-4 mr-1 shrink-0"}),v.jsx("span",{className:"truncate",children:Array.isArray(t.location)?t.location.join(", "):t.location})]})]}),v.jsx("p",{className:"text-sm text-gray-700 line-clamp-3 mb-4",children:t.description})]}),v.jsx("span",{className:"inline-block text-blue-600 font-semibold text-sm mt-auto",children:"View Full Details "})]},t.id))})})}function hy({category:r}){const[e,t]=F.useState([]),[i,a]=F.useState(!0),[l,c]=F.useState(""),[d,m]=F.useState("all"),[g,_]=F.useState("all"),[E,w]=F.useState("all");F.useEffect(()=>{(async()=>{try{a(!0);const W=await Fs.getAllJobs();t(W.filter(le=>le.category===r)),console.log(W)}catch(W){console.error("Error fetching jobs:",W)}finally{a(!1)}})()},[r]);const R=F.useMemo(()=>Array.from(new Set(e.map(G=>G.department))).sort(),[e]),k=F.useMemo(()=>{const G=e.flatMap(W=>Array.isArray(W.location)?W.location:[W.location]);return Array.from(new Set(G)).sort()},[e]),L=F.useMemo(()=>e.filter(G=>{const W=l.toLowerCase(),le=[G.roleTitle,G.department,G.location,G.applicationId,G.description,...G.skills||[],...G.qualifications||[]].join(" ").toLowerCase(),pe=!W||le.includes(W),C=d==="all"||G.department===d,I=g==="all"||(Array.isArray(G.location)?G.location.includes(g):G.location===g);let N=!0;if(E!=="all"&&G.datePosted){const M=new Date(G.datePosted).getTime(),U=(Date.now()-M)/(1e3*3600*24);switch(E){case"7days":N=U<=7;break;case"30days":N=U<=30;break;case"6months":N=U<=180;break}}return pe&&C&&I&&N}),[e,l,d,g,E]),j={School:"blue-500",College:"purple-500",Corporate:"teal-500",Others:"gray-500"},J=()=>{c(""),m("all"),_("all"),w("all")},ne=l||d!=="all"||g!=="all"||E!=="all";return i?v.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:v.jsx(c_,{className:"w-8 h-8 animate-spin text-teal-600"})}):v.jsxs("div",{className:"min-h-screen",children:[v.jsx("div",{className:"max-w-7xl mx-auto ",children:v.jsxs(ur,{to:"/",className:"inline-flex items-center ms-5 text-gray-600 hover:text-gray-600 py-4 transition-colors",children:[v.jsx(Df,{className:"w-5 h-5 mr-2"}),"Back to All Categories"]})}),v.jsx("header",{className:`text-${j[r]}  max-w-7xl  px-4 mx-auto `,children:v.jsx("div",{className:"bg-gray-200 p-3 rounded-xl",children:v.jsx("div",{className:"max-w-7xl mx-auto bg-gray-100  rounded-2xl shadow-lg px-4 sm:px-6 lg:px-8 pt-8 pb-10",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"bg-white/20 p-2 rounded-xl backdrop-blur-sm",children:v.jsx("img",{src:"/logo.png",alt:"Achariya",className:"h-14 w-14 object-contain"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:[r," Openings"]}),v.jsxs("p",{className:"text-gray-600/90 text-lg mt-1 font-medium",children:[e.length," positions available"]})]})]})})})}),v.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 -mt-6",children:[v.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl shadow-xl border border-gray-100 p-6 mb-4",children:[v.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Search Jobs"}),v.jsxs("div",{className:"relative group",children:[v.jsx(qA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),v.jsx("input",{type:"text",placeholder:"Search by role, skill, ID (e.g. AWCE-...), or keyword...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",value:l,onChange:G=>c(G.target.value)})]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 xl:w-auto",children:[v.jsxs("div",{className:"flex-1 min-w-[200px]",children:[v.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Department"}),v.jsxs("div",{className:"relative",children:[v.jsx(om,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsxs("select",{value:d,onChange:G=>m(G.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[v.jsx("option",{value:"all",children:"All Departments"}),R.map(G=>v.jsx("option",{value:G,children:G},G))]})]})]}),v.jsxs("div",{className:"flex-1 min-w-[200px]",children:[v.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Location"}),v.jsxs("div",{className:"relative",children:[v.jsx(lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsxs("select",{value:g,onChange:G=>_(G.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[v.jsx("option",{value:"all",children:"All Locations"}),k.map(G=>v.jsx("option",{value:G,children:G},G))]})]})]}),v.jsxs("div",{className:"flex-1 min-w-[200px]",children:[v.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Posted Date"}),v.jsxs("div",{className:"relative",children:[v.jsx(l_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsxs("select",{value:E,onChange:G=>w(G.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[v.jsx("option",{value:"all",children:"Anytime"}),v.jsx("option",{value:"7days",children:"Last 7 Days"}),v.jsx("option",{value:"30days",children:"Last 30 Days"}),v.jsx("option",{value:"6months",children:"Last 6 Months"})]})]})]})]})]}),ne&&v.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[v.jsxs("div",{className:"text-sm text-gray-500",children:["Found"," ",v.jsx("span",{className:"font-bold text-gray-900",children:L.length})," ","matches based on your filters."]}),v.jsxs("button",{onClick:J,className:"flex items-center text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[v.jsx(bl,{className:"w-4 h-4 mr-1"}),"Clear Filters"]})]})]}),v.jsx("div",{className:"space-y-6",children:L.length>0?v.jsx(D3,{openings:L}):v.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-12 text-center border border-gray-200 shadow-sm",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:v.jsx(FA,{className:"w-8 h-8 text-gray-400"})}),v.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No jobs found"}),v.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mb-6",children:"We couldn't find any positions matching your specific criteria. Try adjusting your filters or search terms."}),v.jsx("div",{className:"flex justify-center gap-2 flex-row",children:v.jsxs(ur,{to:"/",className:"btn-primary flex items-center gap-1 rounded btn py-3 px-6",children:[v.jsx(Df,{size:16})," Back"]})})]})})]})]})}const e_="https://script.google.com/macros/s/AKfycbyAIW9CgTP7XDe-R_z9YvzLi2CV1UHDTXRfqlAEr_VcvhD1IECr16iNgIwAgG0_X9w/exec";console.log(e_);async function V3(r){const t=new Date().toISOString().slice(0,10).replace(/-/g,""),i=Math.floor(Math.random()*1e4).toString().padStart(4,"0"),a=`REF-${t}-${i}`;try{const l=await O3(r.resume),c={referenceId:a,timestamp:new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata"}),category:r.category||"",roleTitle:r.roleTitle||"",location:r.location||"",fullName:r.fullName||"",dob:r.dob||"",email:r.email||"",phone:r.phone||"",previousCompany:r.previousCompany||"",previousDOJ:r.previousDOJ||"",lastWorkingDate:r.lastWorkingDate||"",noticePeriodDays:r.noticePeriodDays||"",lastWorkingDay:r.lastWorkingDay||"",currentCTC:r.currentCTC||"",expectedCTC:r.expectedCTC||"",experience:r.experience||"",preferredLocation:r.preferredLocation||"",resumeFileName:r.resume.name,resumeFileType:r.resume.type,resumeBase64:l};await fetch(e_,{method:"POST",mode:"no-cors",headers:{"Content-Type":"text/plain"},body:JSON.stringify(c)}),console.log("Application submitted successfully");try{const d=JSON.parse(localStorage.getItem("applications")||"[]"),{resumeBase64:m,...g}=c;d.push({...g,savedAt:new Date().toISOString()}),localStorage.setItem("applications",JSON.stringify(d))}catch(d){console.warn("Failed to save to localStorage backup",d)}return a}catch(l){throw console.error("Submission error:",l),l}}function O3(r){return new Promise((e,t)=>{const i=new FileReader;i.readAsDataURL(r),i.onload=()=>{const l=i.result.split(",")[1];e(l)},i.onerror=a=>t(a)})}function t_({type:r,title:e,message:t,isOpen:i,onClose:a,onConfirm:l,confirmLabel:c="Confirm",cancelLabel:d="Cancel"}){if(!i)return null;const m=()=>{switch(r){case"success":return v.jsx(BA,{className:"w-12 h-12 text-green-500 mx-auto mb-3"});case"error":return v.jsx(x2,{className:"w-12 h-12 text-red-500 mx-auto mb-3"});case"confirmation":return v.jsx(D2,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"});default:return v.jsx(B2,{className:"w-12 h-12 text-teal-500 mx-auto mb-3"})}},g=()=>{switch(r){case"error":return"btn-secondary text-red-600 border-red-200 hover:bg-red-50";case"confirmation":return"btn-primary";case"success":return"btn-primary bg-green-600 hover:bg-green-700 border-none";default:return"btn-primary"}};return v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:v.jsxs("div",{className:"card max-w-sm w-full text-center p-6 shadow-2xl transform transition-all scale-100 animate-in fade-in zoom-in duration-200",children:[m(),v.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e}),v.jsx("p",{className:"text-gray-600 mb-6",children:t}),v.jsx("div",{className:"flex gap-3 justify-center",children:r==="confirmation"?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:a,className:"btn-secondary w-full",children:d}),v.jsx("button",{onClick:()=>{l&&l(),a()},className:"btn-primary w-full",children:c})]}):v.jsx("button",{onClick:a,className:`${g()} w-full`,children:"OK"})})]})})}function P3({opening:r,onClose:e}){const t=sm(),[i,a]=F.useState(!1),[l,c]=F.useState(null),[d,m]=F.useState({isOpen:!1,type:"info",title:"",message:""}),g=(W,le,pe,C)=>{m({isOpen:!0,type:W,title:le,message:pe,onConfirm:C})},_=()=>{m(W=>({...W,isOpen:!1}))},[E,w]=F.useState({fullName:"",dob:"",email:"",phone:"",previousCompany:"",previousDOJ:"",lastWorkingDate:"",noticePeriodDays:"",lastWorkingDay:"",currentCTC:"",expectedCTC:"",experience:"",preferredLocation:"",consent:!1}),R=Array.isArray(r.location)?r.location:[r.location];F.useEffect(()=>{R.length===1&&w(W=>({...W,preferredLocation:R[0]}))},[r.id]);const k=W=>{const le=W.target.files?.[0];if(le){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(le.type)){g("error","Invalid File Type","Please upload only PDF or Word documents");return}if(le.size>1048576){g("error","File Too Large","File size must be less than 1MB");return}c(le)}},L=W=>/^[a-zA-Z\s]*$/.test(W),j=W=>/^\d{0,10}$/.test(W),J=W=>/^\d*$/.test(W),ne=W=>/^\d*\.?\d*$/.test(W),G=async W=>{if(W.preventDefault(),!l){g("error","Internal Validation","Please upload your resume");return}if(E.phone.length!==10){g("error","Validation Error","Phone number must be exactly 10 digits");return}if(!E.preferredLocation){g("error","Validation Error","Please select a preferred location");return}if(!E.consent){g("error","Consent Required","Please confirm that the details are correct");return}a(!0);try{const le=await V3({...E,category:r.category,roleTitle:r.roleTitle,location:R.join(", "),resume:l});t("/thank-you",{state:{referenceId:le,candidateName:E.fullName,category:r.category,role:r.roleTitle}})}catch(le){console.error("Submission error:",le),t("/submission-failure",{state:{error:le instanceof Error?le.message:"Application submission failed"}})}};return v.jsxs(v.Fragment,{children:[d.isOpen&&v.jsx(t_,{isOpen:d.isOpen,type:d.type,title:d.title,message:d.message,onClose:_,onConfirm:d.onConfirm}),v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:v.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] flex flex-col relative",children:[v.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200 p-6 rounded-t-lg",children:[v.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-gray-400 hover:text-gray-600",children:v.jsx(bl,{className:"w-6 h-6"})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Apply for Position"}),v.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[r.roleTitle,"  ",r.category," "," ",R.join(", ")]})]}),v.jsxs("form",{onSubmit:G,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",required:!0,placeholder:"Your Full Name",className:"input-field",value:E.fullName,onChange:W=>{L(W.target.value)&&w({...E,fullName:W.target.value})}})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Birth ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"date",required:!0,className:"input-field",value:E.dob,onChange:W=>w({...E,dob:W.target.value})})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"email",required:!0,className:"input-field",placeholder:"youremail@example.com",value:E.email,onChange:W=>w({...E,email:W.target.value})})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mobile ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"tel",required:!0,maxLength:10,className:"input-field",placeholder:"10-digit mobile",value:E.phone,onChange:W=>{j(W.target.value)&&w({...E,phone:W.target.value})}})]})]}),v.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[v.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Employment History"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Total Experience (In Years)"," ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",required:!0,className:"input-field",value:E.experience,placeholder:"e.g. 2",onChange:W=>{ne(W.target.value)&&w({...E,experience:W.target.value})}})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Previous Company ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",placeholder:"Your Most Recent Company",required:!0,className:"input-field",value:E.previousCompany,onChange:W=>{L(W.target.value)&&w({...E,previousCompany:W.target.value})}})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Joining (Previous Company)"," ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"date",required:!0,className:"input-field",value:E.previousDOJ,onChange:W=>w({...E,previousDOJ:W.target.value})})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Working Date ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"date",required:!0,className:"input-field",value:E.lastWorkingDate,onChange:W=>w({...E,lastWorkingDate:W.target.value})})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Notice Period (Days) ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"number",required:!0,placeholder:"e.g. 15",min:"0",className:"input-field",value:E.noticePeriodDays,onChange:W=>{J(W.target.value)&&w({...E,noticePeriodDays:W.target.value})}})]})]})]}),v.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[v.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Compensation & Preference"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current CTC (in  Lakhs)"," ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"e.g. 2.5",min:"0",className:"input-field",value:E.currentCTC,onChange:W=>w({...E,currentCTC:W.target.value})})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Expected CTC (in  Lakhs)"," ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"e.g. 2.5",min:"0",className:"input-field",value:E.expectedCTC,onChange:W=>w({...E,expectedCTC:W.target.value})})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Preferred Location ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsxs("select",{required:!0,className:"input-field",value:E.preferredLocation,onChange:W=>w({...E,preferredLocation:W.target.value}),disabled:R.length===1,children:[v.jsx("option",{value:"",children:"Select Location"}),R.map(W=>v.jsx("option",{value:W,children:W},W))]})]})]})]}),v.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[v.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Resume Upload"}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload Resume (PDF or Word, max 1MB)"," ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("label",{className:"btn-secondary cursor-pointer",children:[v.jsx(uD,{className:"w-4 h-4 mr-2"}),"Choose File",v.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:k,className:"hidden"})]}),l&&v.jsxs("span",{className:"text-sm text-green-600 flex items-center",children:[" ",l.name," (",(l.size/1024).toFixed(0)," ","KB)"]})]})]})]}),v.jsx("div",{className:"border-t border-gray-200 pt-6",children:v.jsxs("label",{className:"flex items-start gap-3",children:[v.jsx("input",{type:"checkbox",required:!0,className:"mt-1",checked:E.consent,onChange:W=>w({...E,consent:W.target.checked})}),v.jsx("span",{className:"text-sm text-gray-700",children:"I confirm that the above details are correct and I agree to be contacted by Achariya HR team regarding this application."})]})}),v.jsxs("div",{className:"flex gap-3 justify-end pt-6 border-t border-gray-200",children:[v.jsx("button",{type:"button",onClick:e,className:"btn-secondary",disabled:i,children:"Cancel"}),v.jsx("button",{type:"submit",className:"btn-primary",disabled:i,children:i?v.jsxs(v.Fragment,{children:[v.jsx(c_,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Application"})]}),i&&v.jsxs("div",{className:"flex gap-2 p-3 max-w-[80%] ms-auto justify-end border-b border-yellow-500 bg-yellow-50 pt-2",children:[v.jsx(HA,{size:20,className:"text-yellow-500"}),v.jsx("p",{className:"text-end text-sm text-gray-800 capitalize",children:"Please Don't Refresh Or Leave the tab while submitting Your Application !"})]})]})]})})]})}function M3(){const{applicationId:r}=gN(),[e,t]=F.useState(null),[i,a]=F.useState(!0),[l,c]=F.useState(!1),[d,m]=F.useState("");return F.useEffect(()=>{(async()=>{if(r)try{a(!0);let _=await Fs.getJobByApplicationId(r);_||(_=await Fs.getJobById(r)),_?t(_):m("Job not found.")}catch(_){console.error("Failed to load job details",_),m("Failed to load job details.")}finally{a(!1)}})()},[r]),i?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:v.jsx(c_,{className:"w-8 h-8 animate-spin text-teal-600"})}):d||!e?v.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center space-y-4",children:[v.jsx("p",{className:"text-xl text-gray-500",children:d||"Job not found"}),v.jsx(ur,{to:"/",className:"btn-primary",children:"Back to Home"})]}):v.jsxs("div",{className:"min-h-screen pb-12 pt-6 px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"max-w-7xl mx-auto",children:[v.jsxs(ur,{to:`/${e.category.toLowerCase()}`,className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-6 transition-colors",children:[v.jsx(Df,{className:"w-5 h-5 mr-2"}),"Back to ",e.category," Openings"]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100",children:[v.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-8 border-b border-gray-100",children:v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsxs("span",{className:"text-xs font-mono bg-white text-gray-500 px-2 py-1 rounded border border-gray-200 shadow-sm",children:["ID: ",e.applicationId||"N/A"]}),v.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold tracking-wide uppercase ${e.category==="School"?"bg-blue-100 text-blue-700":e.category==="College"?"bg-purple-100 text-purple-700":"bg-teal-100 text-teal-700"}`,children:e.category})]}),v.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-gray-900 mb-2",children:e.roleTitle}),v.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mt-3",children:[e.department==="-"||e.department===""?null:v.jsxs("span",{className:"flex items-center bg-white px-3 py-1 rounded-full shadow-sm",children:[v.jsx(om,{className:"w-4 h-4 mr-2"}),e.department]}),v.jsxs("span",{className:"flex items-center bg-white px-3 py-1 rounded-full shadow-sm",children:[v.jsx(lm,{className:"w-4 h-4 mr-2"}),Array.isArray(e.location)?e.location.join(", "):e.location]}),v.jsxs("span",{className:"flex items-center bg-white px-3 py-1 rounded-full shadow-sm",children:[v.jsx(l_,{className:"w-4 h-4 mr-2"}),"Posted:"," ",e.datePosted?new Date(e.datePosted).toLocaleDateString():"N/A"]})]})]}),v.jsx("button",{onClick:()=>c(!0),className:"btn-primary shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all text-lg px-8 py-3 whitespace-nowrap",children:"Apply Now"})]})}),v.jsxs("div",{className:"p-8 space-y-8",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 p-6 bg-gray-50 rounded-xl border border-gray-200",children:[v.jsxs("div",{children:[v.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Experience"}),v.jsx("span",{className:"text-gray-900 font-medium",children:e.experience||"Not Specified"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Openings"}),v.jsx("span",{className:"text-gray-900 font-medium",children:e.numberOfPositions||"Not Specified"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Center"}),v.jsx("span",{className:"text-gray-900 font-medium",children:e.center||"Not Specified"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Last Updated"}),v.jsx("span",{className:"text-gray-900 font-medium",children:e.lastUpdated?new Date(e.lastUpdated).toLocaleDateString():"N/A"})]})]}),v.jsxs("section",{className:"prose prose-blue max-w-none",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Job Description"}),v.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:e.description})]}),e.responsibilities&&e.responsibilities.length>0&&v.jsxs("section",{children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Key Responsibilities"}),v.jsx("ul",{className:"grid grid-cols-1 gap-2",children:e.responsibilities.map((g,_)=>v.jsxs("li",{className:"flex items-start",children:[v.jsx("span",{className:"mr-3 text-blue-500 bg-blue-100 rounded-full p-1 mt-1",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),v.jsx("span",{className:"text-gray-700",children:g})]},_))})]}),e.skills&&e.skills.length>0&&v.jsxs("section",{children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Required Skills"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:e.skills.map((g,_)=>v.jsx("span",{className:"px-3 py-1 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-100 text-blue-700 rounded-lg text-sm font-medium",children:g},_))})]}),e.qualifications&&e.qualifications.length>0&&v.jsxs("section",{children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Qualifications"}),v.jsx("ul",{className:"grid grid-cols-1 gap-2",children:e.qualifications.map((g,_)=>v.jsxs("li",{className:"flex items-start",children:[v.jsx("span",{className:"mr-3 text-teal-500 bg-teal-100 rounded-full p-1 mt-1",children:v.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),v.jsx("span",{className:"text-gray-700",children:g})]},_))})]}),e.eligibility&&e.eligibility.length>0&&v.jsxs("section",{children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Eligibility Criteria"}),v.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:e.eligibility.map((g,_)=>v.jsx("li",{children:g},_))})]})]}),v.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 text-center",children:[v.jsx("p",{className:"text-gray-600 mb-4",children:"Interested in this role?"}),v.jsx("button",{onClick:()=>c(!0),className:"btn-primary text-lg px-12 py-3 shadow-md hover:shadow-lg",children:"Apply Application"})]})]})]}),l&&e&&v.jsx(P3,{opening:e,onClose:()=>c(!1)})]})}function k3(){const r=Qi(),e=r.state?.referenceId||"REF-DEMO-0000",t=r.state?.candidateName||"Candidate",i=r.state?.category||"General",a=r.state?.role||"Position";return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-teal-50 flex items-center justify-center p-4",children:v.jsxs("div",{className:"card max-w-2xl w-full text-center ",style:{boxShadow:"6px 6px 6px 6px rgba(0, 0, 0, 0.1)"},children:[v.jsx(BA,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Application Submitted Successfully!"}),v.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Thank you, ",v.jsx("strong",{children:t}),". Your application has been received."]}),v.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 text-left",children:[v.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Application Summary"}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Reference ID:"}),v.jsx("span",{className:"font-mono font-bold text-teal-600",children:e})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Category:"}),v.jsx("span",{className:"font-medium text-gray-900",children:i})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Position:"}),v.jsx("span",{className:"font-medium text-gray-900",children:a})]})]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[v.jsxs(ur,{to:"/",className:"btn-primary",children:[v.jsx(u_,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),v.jsx(ur,{to:"/",className:"btn-secondary",children:"Apply to Another Role"})]}),v.jsx("p",{className:"text-xs text-gray-500 mt-6",children:"Our HR team will review your application and contact you within 5-7 business days."})]})})}function L3(){const r=sm(),[e,t]=F.useState(null),[i,a]=F.useState(!0),[l,c]=F.useState(!1),[d,m]=F.useState({isOpen:!1,type:"info",title:"",message:""}),[g,_]=F.useState(""),[E,w]=F.useState(""),[R,k]=F.useState(!1),[L,j]=F.useState([]),[J,ne]=F.useState(""),[G,W]=F.useState("all"),[le,pe]=F.useState("all"),[C,I]=F.useState("all"),[N,M]=F.useState(null),[O,U]=F.useState(!1),[x,Oe]=F.useState({category:"Corporate",roleTitle:"",department:"",location:["Puducherry"],center:"",experience:"",numberOfPositions:"",description:"",responsibilities:[""],qualifications:[""],skills:[""],eligibility:[""]});F.useEffect(()=>{const Z=ZO(df,dt=>{t(dt),a(!1)});return()=>Z()},[]),F.useEffect(()=>{e&&xt()},[e]);const xt=async()=>{try{const Z=await Fs.getAllJobs();j(Z)}catch(Z){console.error("Failed to load jobs",Z)}},ee=F.useMemo(()=>Array.from(new Set(L.map(Z=>Z.department))).sort(),[L]),de=F.useMemo(()=>{const Z=L.flatMap(dt=>Array.isArray(dt.location)?dt.location:[dt.location]);return Array.from(new Set(Z)).sort()},[L]),Te=F.useMemo(()=>L.filter(Z=>{const dt=J.toLowerCase(),at=Array.isArray(Z.location)?Z.location.join(" "):Z.location,Yt=[Z.roleTitle,Z.department,at,Z.applicationId,Z.description,...Z.skills||[],...Z.qualifications||[]].join(" ").toLowerCase(),pi=!dt||Yt.includes(dt),fa=G==="all"||Z.department===G,ma=le==="all"||(Array.isArray(Z.location)?Z.location.includes(le):Z.location===le);let gt=!0;if(C!=="all"&&Z.datePosted){const Vt=new Date(Z.datePosted).getTime(),pa=(Date.now()-Vt)/(1e3*3600*24);switch(C){case"7days":gt=pa<=7;break;case"30days":gt=pa<=30;break;case"6months":gt=pa<=180;break}}return pi&&fa&&ma&&gt}),[L,J,G,le,C]),je=()=>{ne(""),W("all"),pe("all"),I("all")},Ye=J||G!=="all"||le!=="all"||C!=="all",V=(Z,dt,at,Yt)=>{m({isOpen:!0,type:Z,title:dt,message:at,onConfirm:Yt})},se=()=>{m(Z=>({...Z,isOpen:!1}))},fe=async Z=>{Z.preventDefault(),c(!0);try{R?(await YO(df,g,E),V("success","Welcome!","Account created! You are now logged in.")):await XO(df,g,E)}catch(dt){V("error","Authentication Failed",dt.message)}finally{c(!1)}},ge=async()=>{await eP(df),r("/")},xe=()=>`AWCE-${Math.floor(1e5+Math.random()*9e5).toString()}`,Re=async()=>{try{const Z=new Date().toISOString(),dt=x.location?.filter(Yt=>Yt.trim().length>0)||[],at={applicationId:xe(),category:x.category,roleTitle:x.roleTitle||"",department:x.department||"",location:dt.length>0?dt:["Puducherry"],center:x.center||"",experience:x.experience||"",numberOfPositions:x.numberOfPositions||"",description:x.description||"",responsibilities:x.responsibilities?.filter(Yt=>Yt.trim())||[],qualifications:x.qualifications?.filter(Yt=>Yt.trim())||[],skills:x.skills?.filter(Yt=>Yt.trim())||[],eligibility:x.eligibility?.filter(Yt=>Yt.trim())||[],datePosted:Z,lastUpdated:Z};await Fs.addJob(at),await xt(),U(!1),hr(),V("success","Success","Job opening added successfully.")}catch(Z){console.error(Z),V("error","Error","Failed to add job opening.")}},Ue=async()=>{if(N)try{const Z=x.location?.filter(at=>at.trim().length>0)||[],dt={category:x.category,roleTitle:x.roleTitle||"",department:x.department||"",location:Z.length>0?Z:["Puducherry"],center:x.center||"",experience:x.experience||"",numberOfPositions:x.numberOfPositions||"",description:x.description||"",responsibilities:x.responsibilities?.filter(at=>at.trim())||[],qualifications:x.qualifications?.filter(at=>at.trim())||[],skills:x.skills?.filter(at=>at.trim())||[],eligibility:x.eligibility?.filter(at=>at.trim())||[],lastUpdated:new Date().toISOString()};await Fs.updateJob(N,dt),await xt(),M(null),hr(),V("success","Success","Job opening updated successfully.")}catch(Z){console.error(Z),V("error","Error","Failed to update job opening.")}},Dt=async Z=>{V("confirmation","Delete Opening","Are you sure you want to delete this job opening? This action cannot be undone.",async()=>{try{await Fs.deleteJob(Z),j(dt=>dt.filter(at=>at.id!==Z)),setTimeout(()=>{V("success","Deleted","Job opening has been deleted.")},300)}catch{V("error","Error","Failed to delete job.")}})},mt=()=>{window.scrollTo({top:0,behavior:"smooth"})},mi=Z=>{mt(),M(Z.id),Oe({...Z,location:Array.isArray(Z.location)?Z.location:[Z.location||"Puducherry"],responsibilities:Z.responsibilities?.length?Z.responsibilities:[""],qualifications:Z.qualifications?.length?Z.qualifications:[""],skills:Z.skills?.length?Z.skills:[""],eligibility:Z.eligibility?.length?Z.eligibility:[""]})},hr=()=>{Oe({category:"Corporate",roleTitle:"",department:"",location:["Puducherry"],center:"",experience:"",numberOfPositions:"",description:"",responsibilities:[""],qualifications:[""],skills:[""],eligibility:[""]})};return i?v.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):e?v.jsxs("div",{className:"min-h-screen ",children:[v.jsx(t_,{isOpen:d.isOpen,type:d.type,title:d.title,message:d.message,onClose:se,onConfirm:d.onConfirm}),v.jsx("header",{className:"bg-white border-b border-gray-200",children:v.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Manage ",L.length," job openings"]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{onClick:()=>U(!0),className:"btn-primary",children:[v.jsx(J2,{className:"w-4 h-4 mr-2"}),"Add Opening"]}),v.jsxs("button",{onClick:ge,className:"btn-secondary flex gap-1 text-red-600 hover:bg-red-50",children:[v.jsx(K2,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})})}),v.jsxs("main",{className:"container mx-auto bg-white/70 px-4 sm:px-6 lg:px-8 py-8",children:[(O||N)&&v.jsxs("div",{className:"p-6 mb-6 border border-gray-20",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-xl font-bold text-gray-900",children:N?"Edit Opening":"Add New Opening"}),v.jsx("button",{onClick:()=>{U(!1),M(null),hr()},className:"bg-[#FF0000] p-2 text-white rounded-full",children:v.jsx(bl,{size:20,className:" text-white-400 "})})]}),v.jsx("h3",{className:"font-semibold text-gray-800 mb-3 border-b pb-1",children:"Basic Information"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),v.jsxs("select",{className:"input-field",value:x.category,onChange:Z=>Oe({...x,category:Z.target.value}),children:[v.jsx("option",{value:"School",children:"School"}),v.jsx("option",{value:"College",children:"College"}),v.jsx("option",{value:"Corporate",children:"Corporate"}),v.jsx("option",{value:"Others",children:"Others"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Title"}),v.jsx("input",{type:"text",className:"input-field",value:x.roleTitle,onChange:Z=>Oe({...x,roleTitle:Z.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),v.jsx("input",{type:"text",className:"input-field",value:x.department,onChange:Z=>Oe({...x,department:Z.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location (One per line)"}),v.jsx("textarea",{className:"input-field",rows:2,value:x.location?.join(`
`),onChange:Z=>Oe({...x,location:Z.target.value.split(`
`)}),placeholder:"e.g. Puducherry"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Center"}),v.jsx("input",{type:"text",className:"input-field",value:x.center,onChange:Z=>Oe({...x,center:Z.target.value}),placeholder:"e.g. Main Campus"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. of Positions"}),v.jsx("input",{type:"text",className:"input-field",value:x.numberOfPositions,onChange:Z=>Oe({...x,numberOfPositions:Z.target.value}),placeholder:"e.g. 5"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Experience Required"}),v.jsx("input",{type:"text",className:"input-field",value:x.experience,onChange:Z=>Oe({...x,experience:Z.target.value}),placeholder:"e.g. 2-5 Years"})]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Description"}),v.jsx("textarea",{className:"input-field",rows:3,value:x.description,onChange:Z=>Oe({...x,description:Z.target.value})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Qualifications (one per line)"}),v.jsx("textarea",{className:"input-field",rows:4,value:x.qualifications?.join(`
`),onChange:Z=>Oe({...x,qualifications:Z.target.value.split(`
`)}),placeholder:"e.g. B.Tech in CS"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Required Skills (one per line)"}),v.jsx("textarea",{className:"input-field",rows:4,value:x.skills?.join(`
`),onChange:Z=>Oe({...x,skills:Z.target.value.split(`
`)}),placeholder:"e.g. React.js\\nNode.js"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Responsibilities (one per line)"}),v.jsx("textarea",{className:"input-field",rows:4,value:x.responsibilities?.join(`
`),onChange:Z=>Oe({...x,responsibilities:Z.target.value.split(`
`)})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Eligibility & Other Requirements (one per line)"}),v.jsx("textarea",{className:"input-field",rows:4,value:x.eligibility?.join(`
`),onChange:Z=>Oe({...x,eligibility:Z.target.value.split(`
`)})})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:N?Ue:Re,className:"btn-primary",children:[v.jsx(tD,{className:"w-4 h-4 mr-2"}),N?"Update":"Add"," Opening"]}),v.jsxs("button",{onClick:()=>{U(!1),M(null),hr()},className:"border border-gray-400 bg-gray-200 hover:bg-gray-400 flex py-2 px-4 items-center rounded-lg text-gray-900",children:[v.jsx(bl,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})]}),v.jsxs(ur,{to:"/",className:"flex pb-3 items-center gap-2 text-blue-600",children:[v.jsx(Df,{size:18})," Back To Home"]}),v.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-200 p-6 mb-6",children:[v.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Search Jobs"}),v.jsxs("div",{className:"relative group",children:[v.jsx(qA,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),v.jsx("input",{type:"text",placeholder:"Search by role, skill, ID (e.g. AWCE-...), or keyword...",className:"w-full pl-12 pr-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all shadow-sm",value:J,onChange:Z=>ne(Z.target.value)})]})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 xl:w-auto",children:[v.jsxs("div",{className:"flex-1 min-w-[200px]",children:[v.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Department"}),v.jsxs("div",{className:"relative",children:[v.jsx(om,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsxs("select",{value:G,onChange:Z=>W(Z.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[v.jsx("option",{value:"all",children:"All Departments"}),ee.map(Z=>v.jsx("option",{value:Z,children:Z},Z))]})]})]}),v.jsxs("div",{className:"flex-1 min-w-[200px]",children:[v.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Location"}),v.jsxs("div",{className:"relative",children:[v.jsx(lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsxs("select",{value:le,onChange:Z=>pe(Z.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[v.jsx("option",{value:"all",children:"All Locations"}),de.map(Z=>v.jsx("option",{value:Z,children:Z},Z))]})]})]}),v.jsxs("div",{className:"flex-1 min-w-[200px]",children:[v.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 ml-1",children:"Posted Date"}),v.jsxs("div",{className:"relative",children:[v.jsx(l_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),v.jsxs("select",{value:C,onChange:Z=>I(Z.target.value),className:"w-full pl-10 pr-8 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none appearance-none cursor-pointer shadow-sm text-gray-700",children:[v.jsx("option",{value:"all",children:"Anytime"}),v.jsx("option",{value:"7days",children:"Last 7 Days"}),v.jsx("option",{value:"30days",children:"Last 30 Days"}),v.jsx("option",{value:"6months",children:"Last 6 Months"})]})]})]})]})]}),Ye&&v.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[v.jsxs("div",{className:"text-sm text-gray-500",children:["Found"," ",v.jsx("span",{className:"font-bold text-gray-900",children:Te.length})," ","matches based on your filters."]}),v.jsxs("button",{onClick:je,className:"flex items-center text-sm font-medium text-red-600 hover:text-red-700 transition-colors",children:[v.jsx(bl,{className:"w-4 h-4 mr-1 bg-red"}),"Clear Filters"]})]})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 w-full gap-6",children:Te.map(Z=>v.jsx("div",{className:"border border-gray-200  rounded-lg p-5 shadow-sm hover:shadow-md transition-shadow bg-white/70",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:" gap-2 mb-4 flex-wrap",children:[v.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:Z.roleTitle}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[v.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Z.category==="School"?"bg-blue-100 text-blue-700":Z.category==="College"?"bg-purple-100 text-purple-700":"bg-teal-100 text-teal-700"}`,children:Z.category}),v.jsxs("span",{className:"text-gray-500 text-xs font-mono bg-gray-100 px-2 py-1 rounded",children:["ID: ",Z.applicationId||"N/A"]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-sm text-gray-600 mb-4",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Department:"})," ",Z.department]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Location:"})," ",Array.isArray(Z.location)?Z.location.join(", "):Z.location]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Center:"})," ",Z.center||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"No.of.Positions:"})," ",Z.numberOfPositions||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Experience:"})," ",Z.experience||"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Posted:"})," ",Z.datePosted?new Date(Z.datePosted).toLocaleDateString():"N/A"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Updated:"})," ",Z.lastUpdated?new Date(Z.lastUpdated).toLocaleDateString():"N/A"]})]})]}),v.jsxs("div",{className:"flex gap-2 ml-4",children:[v.jsx("button",{onClick:()=>mi(Z),className:"p-2 text-teal-600 hover:bg-teal-50 rounded",title:"Edit",children:v.jsx(Y2,{className:"w-5 h-5"})}),v.jsx("button",{onClick:()=>Dt(Z.id),className:"p-2 text-white bg-red-600 hover:bg-red-700 rounded",title:"Delete",children:v.jsx(iD,{className:"w-5 h-5"})})]})]})},Z.id))}),v.jsx("div",{className:"mt-6",children:L.length===0?v.jsx("div",{className:"bg-white/70 rounded-lg p-12 text-center border border-gray-200",children:v.jsx("p",{className:"text-gray-500 text-lg",children:'No job openings yet. Click "Add Opening" to create one.'})}):Te.length===0?v.jsxs("div",{className:"bg-white/70 rounded-2xl p-12 text-center border border-gray-200 shadow-sm",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:v.jsx(FA,{className:"w-8 h-8 text-gray-400"})}),v.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No jobs found"}),v.jsx("p",{className:"text-gray-500 max-w-sm mx-auto mb-6",children:"We couldn't find any positions matching your specific criteria. Try adjusting your filters or search terms."}),v.jsxs("button",{onClick:je,className:"btn-primary inline-flex items-center gap-2",children:[v.jsx(bl,{size:16})," Clear Filters"]})]}):null})]})]}):v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-blue-50 flex items-center justify-center p-4",children:[v.jsx(t_,{isOpen:d.isOpen,type:d.type,title:d.title,message:d.message,onClose:se,onConfirm:d.onConfirm}),v.jsxs("div",{className:"card max-w-md w-full",children:[v.jsxs("div",{className:"text-center mb-6",children:[v.jsx(H2,{className:"w-12 h-12 text-teal-600 mx-auto mb-3"}),v.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Panel"}),v.jsx("p",{className:"text-sm text-gray-600",children:R?"Create Admin Account":"Login to Manage Jobs"})]}),v.jsxs("form",{onSubmit:fe,children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),v.jsx("input",{type:"email",className:"input-field",placeholder:"admin@example.com",value:g,onChange:Z=>_(Z.target.value),required:!0})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),v.jsx("input",{type:"password",className:"input-field",placeholder:"",value:E,onChange:Z=>w(Z.target.value),required:!0})]}),v.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:l,children:l?"Processing...":R?"Create Account":"Login"})]}),v.jsx("div",{className:"mt-4 text-center",children:v.jsx("button",{onClick:()=>k(!R),className:"text-sm text-teal-600 hover:text-teal-800 flex items-center justify-center mx-auto",children:R?"Back to Login":v.jsxs(v.Fragment,{children:[v.jsx(hD,{className:"w-3 h-3 mr-1"})," Create One-Time Admin Account"]})})}),v.jsx("button",{onClick:()=>r("/"),className:"btn-secondary w-full mt-3",children:"Back to Careers"})]})]})}function j3(){return v.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4 py-12 sm:px-6 lg:px-8 text-center",children:[v.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-xl max-w-lg w-full border border-gray-100 transform transition-all hover:scale-[1.01]",children:[v.jsx("div",{className:"bg-red-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:v.jsx(HA,{className:"w-10 h-10 text-red-500"})}),v.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"404"}),v.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),v.jsx("p",{className:"text-gray-600 mb-8 max-w-sm mx-auto",children:"Oops! The page you are looking for does not exist. It might have been moved or deleted."}),v.jsxs(ur,{to:"/",className:"inline-flex items-center btn-primary px-8 py-3 text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all",children:[v.jsx(u_,{className:"w-5 h-5 mr-2"}),"Back to Home"]})]}),v.jsxs("div",{className:"mt-8 text-gray-400 text-sm",children:[" ",new Date().getFullYear()," Achariya Group. All rights reserved."]})]})}function U3(){return v.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center px-4 py-12 sm:px-6 lg:px-8 text-center",children:v.jsxs("div",{className:"bg-white p-10 rounded-2xl shadow-xl max-w-lg w-full border border-gray-100 border-t-4 border-t-red-500",children:[v.jsx("div",{className:"bg-red-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:v.jsx(O2,{className:"w-10 h-10 text-red-600"})}),v.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 mb-2",children:"Submission Failed"}),v.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"We encountered an error while processing your application. Please Try Again Later"}),v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[v.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center btn-secondary px-6 py-2.5",children:[v.jsx(Z2,{className:"w-4 h-4 mr-2"}),"Try Again"]}),v.jsxs(ur,{to:"/",className:"inline-flex items-center justify-center btn-primary px-6 py-2.5 bg-gray-800 hover:bg-gray-900 border-transparent shadow-md",children:[v.jsx(u_,{className:"w-4 h-4 mr-2"}),"Return Home"]})]})]})})}const z3="/assets/Achariya-Logo-01-scaled-Bp2OreWC.avif",B3=()=>v.jsx("div",{children:v.jsx("header",{className:" w-full  bg-[#C72323] shadow-lg fixed top-0 z-50",children:v.jsxs("div",{className:"container mx-auto px-6 py-1 flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-white",children:"Achariya Careers"}),v.jsx("img",{src:z3,alt:"Achariya",width:80})]})})});function F3(){const{pathname:r}=Qi();return F.useEffect(()=>{window.scrollTo(0,0)},[r]),null}function q3(){return v.jsxs(t2,{children:[v.jsx(F3,{}),v.jsx("div",{className:"md:mb-20 lg:mb-[90px]",children:v.jsx(B3,{})}),v.jsxs(DN,{children:[v.jsx(Zr,{path:"/",element:v.jsx(N3,{})}),v.jsx(Zr,{path:"/school",element:v.jsx(hy,{category:"School"})}),v.jsx(Zr,{path:"/college",element:v.jsx(hy,{category:"College"})}),v.jsx(Zr,{path:"/corporate",element:v.jsx(hy,{category:"Corporate"})}),v.jsx(Zr,{path:"/:category/:applicationId",element:v.jsx(M3,{})}),v.jsx(Zr,{path:"/admin",element:v.jsx(L3,{})}),v.jsx(Zr,{path:"/thank-you",element:v.jsx(k3,{})}),v.jsx(Zr,{path:"/submission-failure",element:v.jsx(U3,{})}),v.jsx(Zr,{path:"*",element:v.jsx(j3,{})})]})]})}OC.createRoot(document.getElementById("root")).render(v.jsx(F.StrictMode,{children:v.jsx(q3,{})}));
